SML.di("./Bgwspb2G.js",import.meta.url,"Bgwspb2G");SML.di("./DSWSCRFk.js",import.meta.url,"DSWSCRFk");SML.di("./DAgRafdt.js",import.meta.url,"DAgRafdt");SML.di("./OAEZpqSu.js",import.meta.url,"OAEZpqSu");
SML.dm("DvI5Ta7c",["DSWSCRFk","DAgRafdt","OAEZpqSu","Bgwspb2G"],(async(e,t,n)=>{let s=class extends e.s{constructor(){super(),this._handleCommunityJoin=this.handleCommunityJoin.bind(this),this._subscribed=!1,this.handleView=()=>{t.a(this,n.t())},this.handleConsume=()=>{t.a(this,n.f())},new n.V(this,{consumeThreshold:2e3,onView:this.handleView,onConsume:this.handleConsume})}get joinButton(){return this.querySelector("shreddit-join-button")}connectedCallback(){super.connectedCallback(),this.joinButton?.addEventListener("click",this._handleCommunityJoin)}disconnectedCallback(){super.disconnectedCallback(),this.joinButton?.removeEventListener("click",this._handleCommunityJoin)}handleCommunityJoin(){t.a(this,n.E(this._subscribed)),this._subscribed=!this._subscribed}render(){return e.x`<slot></slot>`}};s.styles=[t.t],s=e._([e.c("community-recommendation")],s);const i=t.W(e.s);let a=class extends i{constructor(){super(...arguments),this.isHidden=!1,this._onDismiss=async e=>{e.stopPropagation();try{if(!(await t.bb(t.b9.Dismiss,t.ba.PersonalizedCommunityRecommendationsInHomeFeed)))return void this.dispatchError();this.isHidden=!0,this.onSuccessfulDismissAlert()}catch(e){this.dispatchError()}t.a(this,n.H())}}static get styles(){return[t.t,e.i`:host{display:contents}`]}connectedCallback(){super.connectedCallback(),this.enableObserver({rootMargin:"0px",threshold:[1]});const e=this.querySelector(".hide-feed-item-icon");e?.addEventListener("click",this._onDismiss)}disconnectedCallback(){super.disconnectedCallback(),this.disableObserver();const e=this.querySelector(".hide-feed-item-icon");e?.removeEventListener("click",this._onDismiss)}observerIsIntersectingCallback(){t.a(this,n.J()),t.bb(t.b9.View,t.ba.PersonalizedCommunityRecommendationsInHomeFeed),this.disableObserver()}dispatchError(){const e=t.c("faceplate-alert",{level:t.I.error,cause:"uncategorized",message:"Something went wrong. Try again later."});this.dispatchEvent(e)}onSuccessfulDismissAlert(){const e=t.c("faceplate-alert",{level:t.I.notice,message:"Youâ€™ll see fewer recommendations like this"});this.dispatchEvent(e)}render(){return e.x` ${this.isHidden?e.x`<slot name="hidden-recommendation-unit"></slot>`:e.x` <div class="flex justify-between"> <slot name="title"></slot> <slot name="menu"></slot> </div> <slot name="recommendations"></slot> `} `}};e._([e.b()],a.prototype,"isHidden",void 0),a=e._([e.c("in-feed-community-recommendations")],a)}));