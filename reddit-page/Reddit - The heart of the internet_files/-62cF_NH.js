SML.di("./BWRmaaMs.js",import.meta.url,"BWRmaaMs");SML.di("./DuWjEN6G.js",import.meta.url,"DuWjEN6G");SML.di("./DSWSCRFk.js",import.meta.url,"DSWSCRFk");SML.di("./DAgRafdt.js",import.meta.url,"DAgRafdt");SML.di("./DDc9KuQK.js",import.meta.url,"DDc9KuQK");SML.di("./ANc6hYHB.js",import.meta.url,"ANc6hYHB");SML.di("./BHN2zcRJ.js",import.meta.url,"BHN2zcRJ");SML.di("./DjoKwtwQ.js",import.meta.url,"DjoKwtwQ");SML.di("./DxvZ7Xss.js",import.meta.url,"DxvZ7Xss");SML.di("./alLlRaWG.js",import.meta.url,"alLlRaWG");SML.di("./DykY8ocl.js",import.meta.url,"DykY8ocl");SML.di("./Dnwr24bF.js",import.meta.url,"Dnwr24bF");SML.di("./OAEZpqSu.js",import.meta.url,"OAEZpqSu");SML.di("./s1sP3jLz.js",import.meta.url,"s1sP3jLz");
SML.dm("-62cF_NH",["DSWSCRFk","DAgRafdt","DDc9KuQK","ANc6hYHB","BHN2zcRJ","DjoKwtwQ","BWRmaaMs","DuWjEN6G","DxvZ7Xss","alLlRaWG","DykY8ocl","Dnwr24bF","OAEZpqSu","s1sP3jLz"],(async(e,a,n,t,r,s)=>{const o=e.s;let i=class extends o{constructor(){super(...arguments),this.contentId="",this.isSnoozed=!1,this.reportReason="",this.pubsub=new a.f(this),this.onPostUpdateAction=e=>{if(e.postId!==this.contentId)return;const{action:a}=e;switch(a){case r.a.snoozeReporter:this.isSnoozed=!0;break;case r.a.unsnoozeReporter:this.isSnoozed=!1}},this.onCommentUpdateAction=e=>{if(e.commentId!==this.contentId)return;const{action:a}=e;switch(a){case t.C.snoozeReporter:this.isSnoozed=!0;break;case t.C.unsnoozeReporter:this.isSnoozed=!1}}}connectedCallback(){super.connectedCallback(),s.h(this.contentId)?this.pubsub.subscribe(a.T.PostUpdated,this.onPostUpdateAction):this.pubsub.subscribe(a.T.CommentUpdated,this.onCommentUpdateAction)}renderReportOverflowMenu(){const t="Snooze reporter",r="Pause reports from this user for 7 days",s="Un-snooze reporter",o="Receive reports from this user again";return e.x` <mod-dropdown-closer> <faceplate-dropdown-menu @click="${e=>e.stopPropagation()}" position="bottom-end"> ${a.J({appearance:"plain",size:a.a2.ExtraSmall,children:e.aE({size:e.I.ExtraSmall})})} <faceplate-menu slot="menu"> ${n.l({label:this.isSnoozed?s:t,description:this.isSnoozed?o:r,leadingIcon:e.bx({size:e.I.Small}),onClick:this.toggleSnooze})} </faceplate-menu> </faceplate-dropdown-menu> </mod-dropdown-closer> `}sendTrackingEvent(e,n,t){const r=t?"snoozereports":"unsnoozereports",o=s.h(e)?"post":"comment",i=s.h(e)?e:null,d=s.h(e)?null:e,u=a.b({source:"moderator",action:r,noun:o},{...(i && {post:{id:i}}),...(d && {comment:{id:d}}),...(n && {action_info:{reason:n}})});a.a(this,u)}showToast({success:e,isSnoozed:n}){const t="Reports from these users will be paused",r="Reports from these users will be resumed",s="Failed to update reports",o=e?n?t:r:s,i=e?a.I.info:a.I.error,d=a.c("faceplate-alert",{level:i,message:o});this.dispatchEvent(d)}async updateReportState(e){try{const{data:n}=await a.r({operation:a.O.UpdateReportState,variables:{input:{itemId:this.contentId,reportText:this.reportReason,isSnoozed:e}}});return n?.updateReport?.ok??!1}catch(e){return!1}}async toggleSnooze(e){const n=!this.isSnoozed;this.sendTrackingEvent(this.contentId,this.reportReason,n);const o=await this.updateReportState(n);o&&(n?s.h(this.contentId)?this.pubsub.publish(a.T.PostUpdated,{postId:this.contentId,action:r.a.snoozeReporter,value:!0}):this.pubsub.publish(a.T.CommentUpdated,{commentId:this.contentId,action:t.C.snoozeReporter,value:!0}):s.h(this.contentId)?this.pubsub.publish(a.T.PostUpdated,{postId:this.contentId,action:r.a.unsnoozeReporter,value:!0}):this.pubsub.publish(a.T.CommentUpdated,{commentId:this.contentId,action:t.C.unsnoozeReporter,value:!0})),this.showToast({success:o,isSnoozed:this.isSnoozed})}render(){const n={"flex items-center m-0 p-0":!0,"bg-secondary-background":this.isSnoozed};return e.x`<li class="${a.x(n)}"> <slot name="${e.l(this.isSnoozed?"snoozed":void 0)}" class="flex-auto block"></slot> ${this.renderReportOverflowMenu()} </li> `}};i.styles=[a.t],e._([e.n({type:String,attribute:"content-id"})],i.prototype,"contentId",void 0),e._([e.n({type:Boolean,attribute:"is-snoozed"})],i.prototype,"isSnoozed",void 0),e._([e.n({type:String,attribute:"report-reason"})],i.prototype,"reportReason",void 0),i=e._([e.c("user-report-summary")],i)}));