SML.di("./CN1lwcpE.js",import.meta.url,"CN1lwcpE");SML.di("./DSWSCRFk.js",import.meta.url,"DSWSCRFk");SML.di("./DAgRafdt.js",import.meta.url,"DAgRafdt");SML.di("./B0caoGj6.js",import.meta.url,"B0caoGj6");SML.di("./CGgTjrs3.js",import.meta.url,"CGgTjrs3");SML.di("./BjRhnMPP.js",import.meta.url,"BjRhnMPP");SML.di("./B_Z23SiP.js",import.meta.url,"B_Z23SiP");SML.di("./B8bCssFV.js",import.meta.url,"B8bCssFV");SML.di("./OAEZpqSu.js",import.meta.url,"OAEZpqSu");SML.di("./DOyzSNfA.js",import.meta.url,"DOyzSNfA");SML.di("./BWajOdpP.js",import.meta.url,"BWajOdpP");SML.di("./BtFZq_rD.js",import.meta.url,"BtFZq_rD");SML.di("./CwU_wa7P.js",import.meta.url,"CwU_wa7P");SML.di("./BPj75s1r.js",import.meta.url,"BPj75s1r");SML.di("./DjoKwtwQ.js",import.meta.url,"DjoKwtwQ");SML.di("./CqLmI5O6.js",import.meta.url,"CqLmI5O6");SML.di("./DClB91Z-.js",import.meta.url,"DClB91Z-");SML.di("./DDc9KuQK.js",import.meta.url,"DDc9KuQK");SML.di("./Bs3wT3fB.js",import.meta.url,"Bs3wT3fB");SML.di("./CX777JIl.js",import.meta.url,"CX777JIl");SML.di("./CPgwDagn.js",import.meta.url,"CPgwDagn");SML.di("./Sb16lf7H.js",import.meta.url,"Sb16lf7H");SML.di("./BHN2zcRJ.js",import.meta.url,"BHN2zcRJ");SML.di("./s1sP3jLz.js",import.meta.url,"s1sP3jLz");SML.di("./Fny48bxS.js",import.meta.url,"Fny48bxS");SML.di("./PWZ4Cjd3.js",import.meta.url,"PWZ4Cjd3");SML.di("./Ca6XYVan.js",import.meta.url,"Ca6XYVan");SML.di("./BHs0pHn7.js",import.meta.url,"BHs0pHn7");SML.di("./BPT8T-Lw.js",import.meta.url,"BPT8T-Lw");SML.di("./B9evitcz.js",import.meta.url,"B9evitcz");SML.di("./BrhgMrUY.js",import.meta.url,"BrhgMrUY");
SML.dm("Bj8fovD4",["DSWSCRFk","DAgRafdt","B0caoGj6","CGgTjrs3","CN1lwcpE","BjRhnMPP","B_Z23SiP","B8bCssFV","OAEZpqSu","DOyzSNfA","BWajOdpP","BtFZq_rD","CwU_wa7P","BPj75s1r","DjoKwtwQ","CqLmI5O6","DClB91Z-","DDc9KuQK","Bs3wT3fB","CX777JIl","CPgwDagn","Sb16lf7H","BHN2zcRJ","s1sP3jLz","Fny48bxS","PWZ4Cjd3","Ca6XYVan","BHs0pHn7","BPT8T-Lw","B9evitcz","BrhgMrUY"],(async(e,t,o,r)=>{class s{constructor(e){this.onKeyDown=e=>{const t="Escape"===e.key,o="Tab"===e.key,r=Boolean(o&&this.host.shadowRoot&&this.host.input&&this.host.shadowRoot.activeElement===this.host.input),s=o&&!e.shiftKey;t&&e.preventDefault(),(t||r||s)&&this.host.handleBlur()},this.getKeyboardNavigableDropdownItems=()=>{const e=`[role="menuitem"],summary[aria-controls*="${t.fx}"],${r.a}`,o=[];return[this.host.suggestedSearchResultsContainer,this.host.recentSearchesContainer,this.host.trendingSearchesContainer,this.host.typeaheadResultsContainer].forEach((t=>{if(!t)return;t.querySelectorAll(e).forEach((e=>{const t=null!==e.offsetParent&&e.offsetHeight>0,r="SUMMARY"===e.tagName,s=e.closest("faceplate-expandable-section-helper");t&&(r||!s||s.open)&&o.push(e)}))})),o},this.handleDropdownKeyDown=e=>{if("ArrowDown"===e.key||"ArrowUp"===e.key){e.preventDefault();const t=e.target,o=this.getKeyboardNavigableDropdownItems();let r=-1;o.forEach(((e,o)=>{e===t&&(r=o)}));const s="ArrowDown"===e.key?r+1:r-1,E=r>=0&&r<o.length?o[s]:void 0;E?E.focus():this.focusSearchInputWithArrowKeys()}},this.host=e}hostConnected(){this.host.addEventListener("keydown",this.onKeyDown)}hostDisconnected(){this.host.removeEventListener("keydown",this.onKeyDown)}handleKeyDown(e){if(!["ArrowDown","ArrowUp"].includes(e.key))return;e.preventDefault();const t=this.getKeyboardNavigableDropdownItems();0!==t.length&&("ArrowDown"===e.key?t[0].focus():"ArrowUp"===e.key&&t[t.length-1].focus())}focusSearchInputWithArrowKeys(){const e=this.host.input?.shadowRoot?.querySelector("input");e?.focus();const t=e?.value.length;t&&e?.setSelectionRange(t,t)}}let E=class extends o.R{constructor(){super(...arguments),this.handleDropdownKeyDown=e=>{super.handleDropdownKeyDown(e),this.keyboardNavigationController?.handleDropdownKeyDown(e)}}handleFocus(){super.handleFocus(),this.keyboardNavigationController||(this.keyboardNavigationController=new s(this),this.addController(this.keyboardNavigationController))}handleKeyDown(e){super.handleKeyDown(e),this.keyboardNavigationController?.handleKeyDown(e)}render(){return e.x` <div class="flex w-100"> <div class="reddit-search-bar rounded-5 flex-1 box-border ${t.x({"shadow-sm":this.isFocused,"bg-neutral-background-strong":this.isFocused,"bg-secondary-background":!this.isFocused})}" data-faceplate-tracking-context="${JSON.stringify(this.searchTelemetryData)}"> <div class="${t.x({"pb-[.5rem]":this.showDropdown&&!this.isSearchScopeEnabled,"pb-xs":this.showDropdown&&this.isSearchScopeEnabled,"border-b-sm":this.showDropdown,"border-t-0":this.showDropdown,"border-e-0":this.showDropdown,"border-s-0":this.showDropdown,"border-solid":this.showDropdown,"border-neutral-border-weak":this.showDropdown})}"> <form autocomplete="off" class="flex relative items-center text-neutral-content-strong" @submit="${this.handleSubmit}"> ${this.renderSearchInput(!0)} </form> </div> <div class="max-h-[calc(100vh-var(--shreddit-header-height)-15px-10px)] overflow-y-auto overflow-x-hidden m-t ${t.x({hidden:!this.showDropdown})}" id="${o.S}"> ${this.renderDropdownContent(!0)} </div> </div> ${this.renderShowFiltersEntryPoint()} </div> `}};E=e._([e.c("reddit-search-large")],E)}));