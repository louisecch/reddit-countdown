SML.di("./DSWSCRFk.js",import.meta.url,"DSWSCRFk");SML.di("./DAgRafdt.js",import.meta.url,"DAgRafdt");
SML.dm("DjJYrD5V",["DSWSCRFk","DAgRafdt"],(async(e,a)=>{let t=class extends e.s{constructor(){super(...arguments),this.showErrorMessage=!1,this.handleFaceplateError=e=>{const t=function(e){return"faceplate-error"===e.type}(e)?e.detail.message:"page load returned no data";a.a(this,a.b({source:"feed",action:"failed",noun:"page_load"},{action_info:{reason:t,page_type:this.pageType}})),this.showErrorMessage=!0},this.handleFaceplateLoadStart=e=>{this.showErrorMessage=!1},this.handleRetry=()=>{this.showErrorMessage=!1,this.faceplatePartial?.load()}}get faceplatePartial(){return this.closest("faceplate-partial")}connectedCallback(){super.connectedCallback(),this.faceplatePartial?.addEventListener("faceplate-error",this.handleFaceplateError),this.faceplatePartial?.addEventListener("faceplate-load",this.handleFaceplateError),this.faceplatePartial?.addEventListener("faceplate-load-start",this.handleFaceplateLoadStart)}disconnectedCallback(){super.disconnectedCallback(),this.faceplatePartial?.removeEventListener("faceplate-error",this.handleFaceplateError),this.faceplatePartial?.removeEventListener("faceplate-load",this.handleFaceplateError),this.faceplatePartial?.removeEventListener("faceplate-load-start",this.handleFaceplateLoadStart)}render(){return e.x` ${this.showErrorMessage?this.renderErrorState():this.renderLoadingState()} `}renderLoadingState(){return e.x`<shreddit-loading></shreddit-loading>`}renderErrorState(){return e.x` <div class="flex flex-col items-center justify-center h-[192px] text-center m-md"> <div class="mb-md text-14 font-semibold"> ${"There was an error loading the next page, please try again."} </div> ${a.J({appearance:"primary",size:a.a2.Large,children:"Retry",attributes:{onclick:this.handleRetry}})} </div> `;}};t.styles=[a.t],e._([e.n({type:String,attribute:"page-type"})],t.prototype,"pageType",void 0),e._([e.b()],t.prototype,"showErrorMessage",void 0),t=e._([e.c("shreddit-feed-page-loading")],t)}));
SML.dm("OAEZpqSu",["DAgRafdt","DSWSCRFk"],(async(e,t)=>{const a=(e,t)=>{if(!e||!t)return!1;if(e===t)return!0;if(0===e.childElementCount&&!(e instanceof HTMLSlotElement))return!1;if(e.contains(t))return!0;if(e instanceof HTMLSlotElement&&e.assignedElements().some((e=>a(e,t))))return!0;if(e instanceof Element&&e.shadowRoot&&a(e.shadowRoot,t))return!0;for(const n of e.querySelectorAll("slot"))if(n.assignedElements().some((e=>a(e,t))))return!0;return!1};const n=new WeakMap;function r(e,t=document){let a=n.get(t);a||(a=new Map,n.set(t,a));let r=a.get(e);return r||(r={key:e},a.set(e,r)),r}const i=Symbol("mixins/pagination"),o=function(t){const a=new WeakMap,n=e.go();return{getContextKey:(e,t)=>r(e,t),appointLeader(e,r){if(a.has(r)){if(a.get(r).isConnected)throw new Error(`Cannot appoint leader for key "${r.key}" in the same context twice.`)}a.set(r,e);const i=n.getRegisteredElements(r);if(i)for(const a of i)t(e,a)},dismissLeader(e,t){const n=a.get(t);n&&n===e&&a.delete(t)},getLeader:e=>a.get(e),registerFollower(e,r){n.register(r,e);const i=a.get(r);i&&t(i,e)},unregisterFollower(e,t){n.unregister(t,e)},getFollowers:e=>n.getRegisteredElements(e)}}(((e,t)=>{t.syncPagination(e)}));const s=new WeakMap;const l=({selected:a,selectedIcon:n,size:r=e.a2.Medium,unselectedIcon:i,...o})=>{const{html:s}=t.g();return e.fZ({...o,attributes:{...o.attributes},size:r,selected:a,leadingIcon:a?n:i,trailingIcon:s`<span class="inline-flex dropdown-icon ${o.children&&"ml-2xs"}"> ${t.J({size:r===e.a2.Small?t.q.Small:t.q.Medium})} </span>`,dropdown:!0})},c=e=>!e.hasAttribute("disabled"),u=e=>e.tabIndex=0,d=e=>e.tabIndex=-1,m=e=>0===e.tabIndex&&c(e),h=e=>(u(e),e.focus(),e),p=e=>(d(e),e),g=e=>{for(let t=0;t<e.length;t++){const a=e[t];if(m(a))return[a,t]}return null},f=e=>{for(const t of e)if(c(t))return t;return null},b=e=>{const t=f(e);return t?h(t):null},N=e=>{const t=(e=>{for(let t=0;t<e.length;t++){const a=e[e.length-1-t];if(c(a))return a}return null})(e);return t?h(t):null},v=Symbol.for("rpl-menu-item");function I(e){return e.assignedNodes({flatten:!0}).filter((e=>!!(e.nodeType===Node.ELEMENT_NODE||e.nodeType===Node.TEXT_NODE&&e.textContent?.match(/\S/)))).length>0;}function k(e){const t={};return(a,n)=>{const r=((e,t)=>t?e+JSON.stringify(t):e)(a,n);return Object.prototype.hasOwnProperty.call(t,r)?t[r]:t[r]=new e(a,n)}}const T=k(Intl.NumberFormat),y=k(Intl.RelativeTimeFormat),_=k(Intl.DateTimeFormat);function R(e){return "string"!=typeof e?e:e.startsWith("selector(")?e.replace(/^selector\(/,"").replace(/\)$/,""):e;}function C(e){return{...e,trigger:"object"==typeof e.trigger?S(e.trigger):e.trigger,target:R(e.target),template:R(e.template),triggerElem:R(e.triggerElem)}}function S(e){if("event"in e)return e.filters?`event(${e.event}(${JSON.stringify(e.filters)}))`:`event(${e.event})`;if("topic"in e)return e.filters?`subscribe(${e.topic}(${JSON.stringify(e.filters)}))`:`subscribe(${e.topic})`;if("intersection"in e){if("enter"===e.intersection)return e.observerArgs?`view(args(${JSON.stringify(e.observerArgs)}))`:"view";if("leave"===e.intersection)return e.observerArgs?`leave(${e.observerArgs})`:"leave"}return""}function w(e){return a=>e(t.x,t.l,a)}const E=w((function(e,t,a){return e`<ac-activate ?once="${(a=C(a)).once}" ?scoped="${a.scoped}" args="${t(a.args?JSON.stringify(a.args):void 0)}" debounce="${t(a.debounce)}" delay="${t(a.delay)}" name="${a.name.toString()}" query-params="${t(a.queryParams?JSON.stringify(a.queryParams):void 0)}" render-mode="${t(a.renderMode)}" route-params="${t(a.routeParams?JSON.stringify(a.routeParams):void 0)}" target="${t(a.target)}" throttle="${t(a.throttle)}" trigger-elem="${t(a.triggerElem)}" trigger="${t(a.trigger)}"></ac-activate>`})),x=w((function(e,t,a){return e`<ac-dispatch ?once="${(a=C(a)).once}" debounce="${t(a.debounce)}" delay="${t(a.delay)}" detail="${t(a.detail?JSON.stringify(a.detail):void 0)}" event-name="${a.eventName}" target="${t(a.target)}" throttle="${t(a.throttle)}" trigger-elem="${t(a.triggerElem)}" trigger="${t(a.trigger)}"></ac-dispatch>`})),O=w((function(e,t,a){return e`<ac-set ?once="${(a=C(a)).once}" attribute="${t(a.attribute)}" debounce="${t(a.debounce)}" delay="${t(a.delay)}" property="${a.property}" target="${a.target}" throttle="${t(a.throttle)}" trigger-elem="${t(a.triggerElem)}" trigger="${t(a.trigger)}" value="${a.value}"></ac-set>`})),A=w((function(e,t,a){return e`<ac-track ?once="${(a=C(a)).once}" data-faceplate-tracking-context="${t(a.faceplateTrackingContext?JSON.stringify(a.faceplateTrackingContext):void 0)}" debounce="${t(a.debounce)}" delay="${t(a.delay)}" san="${a.san}" throttle="${t(a.throttle)}" trigger-elem="${t(a.triggerElem)}" trigger="${t(a.trigger)}"></ac-track>`})),$=w((function(e,t,a){return e`<ac-toggle ?once="${(a=C(a)).once}" debounce="${t(a.debounce)}" delay="${t(a.delay)}" force="${t(a.force)}" target-class="${a.targetClass}" target="${t(a.target)}" throttle="${t(a.throttle)}" trigger-elem="${t(a.triggerElem)}" trigger="${t(a.trigger)}"></ac-toggle>`})),D=Symbol.for("lit-nothing");let P="RelativeTimeFormat"in Intl;const L=6e4;function M(e){const t=Math.abs(e.diff);switch(e.unit){case"minutes":return`${t} min. ago`;case"hours":return`${t} hr. ago`;case"days":return t>1?`${t} days ago`:`${t} day ago`;case"months":return`${t} mo. ago`;case"years":return`${t} yr. ago`;default:!function(e){throw new Error("Unexpected object: "+e)}(e.unit)}}const U=()=>e.q.get(e.k9),F=()=>e.q.get(e.kb),z="combined";const H=function(e){return e},j=new Map([["image/png",e.kd.Png],["image/x-png",e.kd.Png],["image/gif",e.kd.Gif],["image/jpeg",e.kd.Jpeg],["image/webp",e.kd.Webp],["video/mp4",e.kd.Mp4],["video/quicktime",e.kd.Quicktime]]);let B={uploadErrorMessage:()=>"There was an error uploading the file.",uploadToS3ErrorMessage:()=>"Failed to upload file to S3.",genericErrorMessage:()=>"Something went wrong",unsupportedMimetype:e=>`${e} files are not supported.`};function K(e,t){const a=new FormData;return t?.forEach((({header:e,value:t})=>{t&&a.append(e,t)})),a.append("file",e),a}function V(e){return(new DOMParser).parseFromString(e,"text/xml")}function G(e){window.Sentry?.captureMessage?.(e)}async function J(e,t){const a=await window.fetch(t.uploadLeaseUrl,{method:"POST",body:K(e,t.uploadLeaseHeaders)});if(a.ok){const e=function(e){const t=V(e);return t.querySelector("Location")?.textContent?.trim()}(await a.text());return e||G("Unable to retrieve S3 url for uploaded resource."),e}G(`Failed to upload file to S3 with error code: ${function(e){const t=V(e);return t.querySelector("Code")?.textContent?.trim()}(await a.text())}`);throw new Error(B.uploadToS3ErrorMessage())}function W(e,t){void 0===t&&(t={});for(var a=function(e){for(var t=[],a=0;a<e.length;){var n=e[a];if("*"!==n&&"+"!==n&&"?"!==n)if("\\"!==n)if("{"!==n)if("}"!==n)if(":"!==n)if("("!==n)t.push({type:"CHAR",index:a,value:e[a++]});else{var r=1,i="";if("?"===e[s=a+1])throw new TypeError('Pattern cannot start with "?" at '.concat(s));for(;s<e.length;)if("\\"!==e[s]){if(")"===e[s]){if(0==--r){s++;break}}else if("("===e[s]&&(r++,"?"!==e[s+1]))throw new TypeError("Capturing groups are not allowed at ".concat(s));i+=e[s++]}else i+=e[s++]+e[s++];if(r)throw new TypeError("Unbalanced pattern at ".concat(a));if(!i)throw new TypeError("Missing pattern at ".concat(a));t.push({type:"PATTERN",index:a,value:i}),a=s}else{for(var o="",s=a+1;s<e.length;){var l=e.charCodeAt(s);if(!(l>=48&&l<=57||l>=65&&l<=90||l>=97&&l<=122||95===l))break;o+=e[s++]}if(!o)throw new TypeError("Missing parameter name at ".concat(a));t.push({type:"NAME",index:a,value:o}),a=s}else t.push({type:"CLOSE",index:a,value:e[a++]});else t.push({type:"OPEN",index:a,value:e[a++]});else t.push({type:"ESCAPED_CHAR",index:a++,value:e[a++]});else t.push({type:"MODIFIER",index:a,value:e[a++]})}return t.push({type:"END",index:a,value:""}),t}(e),n=t.prefixes,r=void 0===n?"./":n,i=t.delimiter,o=void 0===i?"/#?":i,s=[],l=0,c=0,u="",d=function(e){if(c<a.length&&a[c].type===e)return a[c++].value},m=function(e){var t=d(e);if(void 0!==t)return t;var n=a[c],r=n.type,i=n.index;throw new TypeError("Unexpected ".concat(r," at ").concat(i,", expected ").concat(e))},h=function(){for(var e,t="";e=d("CHAR")||d("ESCAPED_CHAR");)t+=e;return t},p=function(e){var t=s[s.length-1],a=e||(t&&"string"==typeof t?t:"");if(t&&!a)throw new TypeError('Must have text between two parameters, missing text after "'.concat(t.name,'"'));return!a||function(e){for(var t=0,a=o;t<a.length;t++){var n=a[t];if(e.indexOf(n)>-1)return!0}return!1}(a)?"[^".concat(Z(o),"]+?"):"(?:(?!".concat(Z(a),")[^").concat(Z(o),"])+?")};c<a.length;){var g=d("CHAR"),f=d("NAME"),b=d("PATTERN");if(f||b){var N=g||"";-1===r.indexOf(N)&&(u+=N,N=""),u&&(s.push(u),u=""),s.push({name:f||l++,prefix:N,suffix:"",pattern:b||p(N),modifier:d("MODIFIER")||""})}else{var v=g||d("ESCAPED_CHAR");if(v)u+=v;else if(u&&(s.push(u),u=""),d("OPEN")){N=h();var I=d("NAME")||"",k=d("PATTERN")||"",T=h();m("CLOSE"),s.push({name:I||(k?l++:""),pattern:I&&!k?p(N):k,prefix:N,suffix:T,modifier:d("MODIFIER")||""})}else m("END")}}return s}function Z(e){return e.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1");}function q(){return "Something went wrong";}let Y=e.r;let X=e.r;const Q=t.e(class extends t.a{constructor(){super(...arguments),this.key=t.A}render(e,t){return this.key=e,t}update(e,[a,n]){return a!==this.key&&(t.c5(e),this.key=a),n}});const ee={"3xs":"w-[1rem] h-[1rem]","2xs":"w-[1rem] h-[1rem]",xs:"w-[1.5rem] h-[1.5rem]",sm:"w-[2rem] h-[2rem]",md:"w-[2.5rem] h-[2.5rem]",lg:"w-[3rem] h-[3rem]",xl:"w-[3.5rem] h-[3.5rem]","2xl":"w-[4rem] h-[4rem]","3xl":"w-[5.5rem] h-[5.5rem]"},te={"3xs":"w-[1rem] h-[1rem] min-w-[1rem] min-h-[1rem]","2xs":"w-[1rem] h-[1rem] min-w-[1rem] min-h-[1rem]",xs:"w-[1.5rem] h-[1.5rem] min-w-[1.5rem] min-h-[1.5rem]",sm:"w-[2rem] h-[2rem] min-w-[2rem] min-h-[2rem]",md:"w-[2.5rem] h-[2.5rem] min-w-[2.5rem] min-h-[2.5rem]",lg:"w-[3rem] h-[3rem] min-w-[3rem] min-h-[3rem]",xl:"w-[2.875rem] h-[2.875rem] min-w-[2.875rem] min-h-[2.875rem]","2xl":"w-[3.25rem] h-[3.25rem] min-w-[3.25rem] min-h-[3.25rem]","3xl":"w-[4.5rem] h-[4.5rem] min-w-[4.5rem] min-h-[4.5rem]"},ae={"3xs":"outline-offset-[0.125rem]","2xs":"outline-offset-[0.125rem]",xs:"outline-offset-[0.125rem]",sm:"outline-offset-[0.125rem]",md:"outline-offset-[0.125rem]",lg:"outline-offset-[0.1875rem]",xl:"outline-offset-[0.1875rem]","2xl":"outline-offset-[0.1875rem]","3xl":"outline-offset-[.25rem]"},ne={"3xs":"border","2xs":"border",xs:"border",sm:"border",md:"border-md",lg:"border-md",xl:"border-md","2xl":"border-lg","3xl":"border-lg"},re={"3xs":"outline-1","2xs":"outline-1",xs:"outline-1",sm:"outline-1",md:"outline-2",lg:"outline-2",xl:"outline-2","2xl":"outline-4","3xl":"outline-4"},ie={"3xs":2,"2xs":2,xs:2,sm:4,md:4,lg:4,xl:6,"2xl":6,"3xl":6},oe={"3xs":-5.4,"2xs":-5.4,xs:-5.4,sm:-7,md:-7,lg:-7,xl:-8.3,"2xl":-8.3,"3xl":-8.3},se={"3xs":"-right-[0.0625rem]","2xs":"right-0",xs:"right-[0.05rem]",sm:"right-[0.10rem]",md:"-right-[0.0825rem]",lg:"-right-[0.125rem]",xl:"-right-[0.125rem]","2xl":"-right-[.65rem]","3xl":"-right-[.75rem]"},le={"3xs":"w-[.25rem] h-[.25rem] border","2xs":"w-[.25rem] h-[.25rem] border",xs:"w-[.25rem] h-[.25rem] border",sm:"w-[.375rem] h-[.375rem] border-2",md:"w-[.375rem] h-[.375rem] border-2",lg:"w-[.625rem] h-[.625rem] border-2",xl:"w-[.625rem] h-[.625rem] border-2","2xl":"w-[1rem] h-[1rem] border-2","3xl":"w-[1.25rem] h-[1.25rem] border-2"},ce={"3xs":"rounded-1","2xs":"rounded-1",xs:"rounded-1",sm:"rounded-2",md:"rounded-2",lg:"rounded-2",xl:"rounded-[.75rem]","2xl":"rounded-[.75rem]","3xl":"rounded-4"},ue=({ringColorClassName:e,size:t})=>e?`${e} outline ${re[t]} ${ae[t]}`:"",de=({...e})=>{const{html:a,ifDefined:n}=t.g(),{attributes:r,children:i,position:o="relative",size:s,status:l}=e;return a`<span class="inline-flex snoovatar ${o} ${n(r?.className)}">${i}${pe({status:l,size:s})} </span>`},me=({children:e,snoovatarSrc:a,avatarBgClassName:n,appearance:r})=>{const{html:i}=t.g();return i` <span style="${n||!a?"":`background: ${"media"===r?"var(--color-avatar-media-gradient)":"var(--color-avatar-gradient)"}`}" class="rounded-full absolute h-full w-full inline-flex justify-center ${n||""}"> ${e??t.A} </span>`},he=e=>{const{appearance:a}=e;return"collectible"===a?(({snoovatarSrc:e,snoovatarAlt:a,size:n,attributes:r,status:i,flip:o,lazy:s})=>{const{html:l}=t.g();return de({flip:o,size:n,status:i,children:l`${be()} ${fe({size:n})}${ge({snoovatarSrc:e,snoovatarAlt:a,size:n,lazy:s})}`,attributes:{...r,className:`${te[n]}`}})})(e):(({attributes:e,ringLayer:a,children:n,snoovatarAlt:r,snoovatarSrc:i,avatarBgClassName:o,size:s,ringColorClassName:l,status:c,appearance:u,flip:d,lazy:m})=>{const{html:h}=t.g(),p="default"===u?"box-border [&>:first-child]:rounded-[inherit] overflow-hidden":"",g=h`<span class="absolute rounded-full inset-0 border border-solid border-neutral-border-weak bg-transparent"></span>`;return de({flip:d,size:s,status:c,position:a?"absolute":"relative",attributes:{...e,className:`${ue({ringColorClassName:l,size:s})} fp-avatar-container rounded-full ${te[s]} isolate box-content`},children:h` ${i?t.A:me({snoovatarSrc:i,appearance:u,avatarBgClassName:o,children:h`<span class="relative rounded-full overflow-hidden ${a?"border border-solid border-neutral-background":""} inline-flex w-full h-full ${p}">${n} ${"default"===u&&a?g:t.A} </span>`})} ${i?Ne({snoovatarSrc:i,snoovatarAlt:r,size:s,ringColorClassName:l,avatarBgClassName:o,appearance:u,lazy:m}):t.A}`})})(e)},pe=({status:e,size:a})=>{const{html:n}=t.g();return e?n` <span class="${"online"===e?"bg-online":""} flex absolute bottom-0 rounded-full border-solid border-neutral-background bg-neutral-background ${se[a]} ${ne[a]} ${le[a]}"> ${"online"===e?"":e} </span> `:""},ge=({size:e,snoovatarAlt:a,snoovatarSrc:n,lazy:r})=>{const{html:i,svg:o}=t.g(),s=Math.random().toString(16).slice(2);return i`<div class="absolute h-full w-full" style="transform:translateY(${oe[e]}%)"> <svg width="100%" height="100%" viewBox="0 0 120 120" xmlns="http://www.w3.org/2000/svg" class="overflow-hidden"> <defs> <clipPath id="${s}"> <path d="M120 0H0V96H22.0602C22.5169 98.2109 23.896 100.155 25.8949 101.309L56          118.691C58.4752 120.12 61.5248 120.12 64 118.691L94.1051 101.309C96.104 100.155 97.4831          98.2109 97.9398 96H120V0Z"/> </clipPath> </defs> ${r?o`<foreignObject clip-path="url(#${s})" width="100%" height="100%"> <img src="${n}" alt="${a}" loading="lazy"> </foreignObject>`:o`<image href="${n}" alt="${a}" clip-path="url(#${s})" height="100%" width="100%">`} </svg> </div>`},fe=({size:e})=>{const{html:a}=t.g();return a`<span class="absolute h-full w-full start-0"> <svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 72 72" fill="none"> <path d="M34 3.4641C35.2376 2.74957 36.7624 2.74957 38 3.4641L63.1769 18C64.4145 18.7145 65.1769 20.035 65.1769 21.4641V50.5359C65.1769 51.965 64.4145 53.2855 63.1769 54L38 68.5359C36.7624 69.2504 35.2376 69.2504 34 68.5359L8.82309 54C7.58548 53.2855 6.82309 51.965 6.82309 50.5359V21.4641C6.82309 20.035 7.58548 18.7145 8.82309 18L34 3.4641Z" stroke="url(#paint0_diamond_26526_186798)" stroke-width="${ie[e]}" stroke-linejoin="round"/> <defs> <radialGradient id="paint0_diamond_26526_186798" cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse" gradientTransform="translate(-7.4247 26.0998) rotate(15.9097) scale(50.0682 24082.5)"> <stop stop-color="#1185B5"/> <stop offset="0.29452" stop-color="#D7F7FF"/> <stop offset="0.526042" stop-color="#5EF6D8"/> <stop offset="0.838434" stop-color="#5EF6D8"/> <stop offset="0.867246" stop-color="#1990B9"/> <stop offset="1" stop-color="#3F9FC6"/> </radialGradient> </defs> </svg> </span>`},be=()=>{const{html:e}=t.g();return e`<div class="absolute h-full w-full" style="transform:scale(${.95})"> <svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 64 64" fill="none"> <path d="M29 1.73205C30.8564 0.660254 33.1436 0.660254 35 1.73205L56.7128 14.2679C58.5692 15.3397 59.7128 17.3205 59.7128 19.4641V44.5359C59.7128 46.6795 58.5692 48.6603 56.7128 49.7321L35 62.2679C33.1436 63.3397 30.8564 63.3397 29 62.2679L7.28719 49.7321C5.43078 48.6603 4.28719 46.6795 4.28719 44.5359V19.4641C4.28719 17.3205 5.43078 15.3397 7.28719 14.2679L29 1.73205Z" fill="url(#paint0_diamond_26026_173944)"/> <path d="M29 1.73205C30.8564 0.660254 33.1436 0.660254 35 1.73205L56.7128 14.2679C58.5692 15.3397 59.7128 17.3205 59.7128 19.4641V44.5359C59.7128 46.6795 58.5692 48.6603 56.7128 49.7321L35 62.2679C33.1436 63.3397 30.8564 63.3397 29 62.2679L7.28719 49.7321C5.43078 48.6603 4.28719 46.6795 4.28719 44.5359V19.4641C4.28719 17.3205 5.43078 15.3397 7.28719 14.2679L29 1.73205Z" fill="url(#paint1_linear_26026_173944)"/> <defs> <radialGradient id="paint0_diamond_26026_173944" cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse" gradientTransform="translate(-6.59974 23.1999) rotate(15.9097) scale(44.5051 21406.7)"> <stop stop-color="#1185B5"/> <stop offset="0.29452" stop-color="#D7F7FF"/> <stop offset="0.526042" stop-color="#5EF6D8"/> <stop offset="0.838434" stop-color="#5EF6D8"/> <stop offset="0.867246" stop-color="#1990B9"/> <stop offset="1" stop-color="#3F9FC6"/> </radialGradient> <linearGradient id="paint1_linear_26026_173944" x1="23.5687" y1="22.7061" x2="44.1183" y2="53.4817" gradientUnits="userSpaceOnUse"> <stop stop-color="#004E5F"/> <stop offset="1" stop-color="#727CD8" stop-opacity="0.81"/> </linearGradient> </defs> </svg> </div>`},Ne=({size:e,snoovatarAlt:a,snoovatarSrc:n,attributes:r,avatarBgClassName:i,appearance:o,lazy:s})=>{const{html:l,svg:c,createElement:u}=t.g(),d=Math.random().toString(16).slice(2);return u("span",{...r,className:"absolute start-0 end-0 bottom-0 mx-auto inline-flex shrink-0 justify-center box-border h-full w-full"},l`${me({snoovatarSrc:n,avatarBgClassName:i,appearance:o})} <svg viewBox="0 0 121 122" xmlns="http://www.w3.org/2000/svg" class="overflow-hidden absolute bottom-0 ${ee[e]}"> <defs> <clipPath id="${d}"> <path d="M0 0V79L28.1628 105.5C35.013 115.465 46.4934 122 59.5 122C72.5066 122 83.987 115.465 90.8372 105.5L120.5 79V0H0Z"/> </clipPath> </defs> ${s?c`<foreignObject clip-path="url(#${d})" width="100%" height="100%"> <img src="${n}" alt="${a}" loading="lazy"> </foreignObject>`:c`<image href="${n}" alt="${a}" clip-path="url(#${d})" height="100%" width="100%">`} </svg>`)},ve=({size:e="sm",appearance:a="default",snoovatarAlt:n="User Avatar",ringLayer:r,attributes:i,...o})=>{const{html:s,ifDefined:l}=t.g(),c="icon"===a||"subreddit"===a;return s`<span class="inline-flex items-center justify-center ${ee[e]} ${i?.className}" rpl avatar ?flip="${o.flip}" id="${l(i?.id)}" slot="${l(i?.slot)}"> ${r&&!c?r:""} ${c?(({attributes:e,children:a,size:n,appearance:r,status:i,ringColorClassName:o})=>{const s="icon"===r?"rounded-full":ce[n],{html:l,ifDefined:c}=t.g();return l`<span rpl id="${c(e?.id)}" slot="${c(e?.slot)}" class="inline-block ${s} ${ue({ringColorClassName:o,size:n})} relative [&>:first-child]:h-full [&>:first-child]:w-full [&>:first-child]:mb-0 [&>:first-child]:rounded-[inherit] h-full w-full [&>:first-child]:overflow-hidden [&>:first-child]:max-h-full"> ${a}${pe({status:i,size:n})} </span>`})({size:e,attributes:i,appearance:a,...o}):he({attributes:i,snoovatarAlt:n,appearance:a,ringLayer:r,size:e,...o})}</span>`},Ie=t.e(class extends t.a{constructor(e){super(e),this.tt=new WeakMap}render(e){return[e]}update(e,[a]){if(t.e9(this.et)&&(!t.e9(a)||this.et.strings!==a.strings)){const a=t.ea(e).pop();let n=this.tt.get(this.et.strings);if(void 0===n){const e=document.createDocumentFragment();n=t.B(t.A,e),n.setConnected(!1),this.tt.set(this.et.strings,n)}t.c5(n,[a]),t.eb(n,void 0,a)}if(t.e9(a)){if(!t.e9(this.et)||this.et.strings!==a.strings){const n=this.tt.get(a.strings);if(void 0!==n){const a=t.ea(n).pop();t.ec(e),t.eb(e,void 0,a),t.c5(e,[a])}}this.et=a}else this.et=void 0;return this.render(a)}});const ke={plain:"plain",plainInverted:"plainInverted",error:"destructive",brand:"brand",caution:"plain",success:"success"};function Te(e){return e?.[0]?.message??"Something went wrong";}const ye=e=>({error:e||"There was an error uploading the file."});async function _e(t,a){const n=j.get(t.type);if(!n)throw new Error(`${t.type} files are not supported.`);try{const r=await async function(t){const a=await e.r({operation:e.O.CreateSubredditStructuredStylesUploadLease,variables:{input:t}});if(a.errors?.length)throw new Error(Te(a.errors));const n=a.data.createSubredditStructuredStylesUploadLease;if(n?.ok&&n.uploadLease)return{uploadLeaseUrl:n.uploadLease.uploadLeaseUrl,uploadLeaseHeaders:n.uploadLease.uploadLeaseHeaders};throw new Error(Te(n?.errors))}({...a,filepath:t.name,mimetype:n}),i=await J(t,r);return i?{url:i}:ye()}catch(e){return r=e.message,window.Sentry?.captureMessage?.(`Media file upload failed with error: ${r}`),ye(e.message)}var r}const Re="highlight_card_";const Ce={rootMargin:"0px",threshold:[1]};class Se extends e.aP{constructor(t,a){super(t),this._isInViewport=!1,this._hasBeenImpressed=!1,this._hasBeenConsumed=!1,this._hasPageUnloaded=!1,this.onVisible=e=>{this._isInViewport&&e&&(this._hasPageUnloaded=!1,this._becameVisibleOnScreenTimestamp=Date.now())},this.onHidden=e=>{this._isInViewport&&(e||this._hasPageUnloaded||this.handlePotentialConsume())},this.onBeforeUnloadCallback=()=>{this._hasPageUnloaded=!0,this._isInViewport&&this.handlePotentialConsume()},this.onEnter=()=>{this._isInViewport||(this._isInViewport=!0,this._becameVisibleOnScreenTimestamp=Date.now(),this.handlePotentialImpression())},this.onLeave=()=>{this._isInViewport&&(this.handlePotentialConsume(),this._isInViewport=!1)},t.addController(this),this._config={...a,observerConfig:a.observerConfig??Ce},this._observerController=new e.ah(this,t,this._config.observerConfig);const n=new e.E(this,(()=>t));n.define("faceplate-enter",this.onEnter),n.define("faceplate-leave",this.onLeave)}hostConnected(){super.hostConnected(),e.an(this.onVisible,{immediate:!0}),e.an(this.onHidden,{immediate:!0,shouldBeCalledFirst:!0}),e.am.subscribe(this.onBeforeUnloadCallback,{shouldBeCalledFirst:!0})}hostDisconnected(){super.hostDisconnected(),e.ao(this.onHidden),e.ao(this.onVisible),e.am.unsubscribe(this.onBeforeUnloadCallback)}handlePotentialImpression(){this._hasBeenImpressed||(this._hasBeenImpressed=!0,this._config.onView?.())}handlePotentialConsume(){!this._hasBeenConsumed&&this._becameVisibleOnScreenTimestamp&&Date.now()-this._becameVisibleOnScreenTimestamp>this._config.consumeThreshold&&(this._hasBeenConsumed=!0,this._observerController.hostDisconnected(),this._config.onConsume?.())}}const we="component-reload";const Ee=(t,a,n)=>e.b({source:"custom_feeds",...t},{customFeed:{id:a},...(n ? {subreddit:{id:n}} : {})}),xe=new Set,Oe=t=>{if(!e.K.isAvailable())return;const a=e.K.getItem(t);if(a)try{return JSON.parse(a)}catch{return}},Ae=(t,a)=>{e.K.isAvailable()&&e.K.setItem(t,JSON.stringify(a))},$e=new Set(["reddit","config","special"]),De=new Set(["edit","revisions","settings","discussions","pages","create"]),Pe=new Set(["config/description","config/sidebar","config/stylesheet","config/submit_text"]),Le="moderator";function Me(t){return t===e.cH.Post}function Ue(e,t){const a=Oe(e);return a?a.slice(0,t):[]}const Fe=Object.entries({16:"icon32",24:"icon48",32:"icon64",40:"icon96",48:"icon96",56:"icon96",88:"icon96"});const ze=1e3,He=1e6,je=1e9,Be=({num:e,divider:t,defaultFixed:a=0,maxDigits:n,removeZeroDecimal:r})=>{const i=e/t;if(!n){const e=i.toFixed(a);return r&&Number(e)%1==0?Math.floor(i).toString():i.toFixed(Math.floor(a))}return i.toString().slice(0,n+1)};const Ke=(e,t,a=1)=>{const n=Math.pow(10,a);return(Math.floor(e/(t/n))/n).toFixed(a)},Ve=/(?:\/|-)nftv2_([a-z0-9%]+)_([a-z]+)_([a-z0-9-]{36})(?:-headshot)?\.(?:png|svg)/i;const Ge="moderator",Je=(e,t)=>{"complete"!==document.readyState?window.addEventListener("load",e,t):e()},We="preview";return {$:J,A:class{constructor(t,a){this._batchTimer=0,this._batchDisplay=()=>{if(this._batchTimer=0,!this._batchQueue||!this._batchQueue.length)return;const t=e.ke(this._batchQueue);for(const e of t)this.options.onAlert(e);this._batchQueue.length=0},t.addController(this),this.host=t,this.options=a,a.batchWindow&&a.batchWindow>0&&(this._batchQueue=[])}hostConnected(){e.kf(this.host).then((t=>{t&&(this._reporter=t,e.kg.register(t,this))}))}hostDisconnected(){this._reporter&&(e.kg.unregister(this._reporter,this),this._reporter=void 0),this._batchTimer&&window.clearTimeout(this._batchTimer),this._batchQueue&&(this._batchQueue.length=0)}shouldDisplayAlert(e){if(!this.options.isOnline()&&!e.showWhenOffline)return!1;const t=this.options;if("number"==typeof e.level){if(t.max&&e.level>t.max)return!1;if(t.min&&e.level<t.min)return!1}else if(void 0!==t.min||void 0!==t.max)return!1;return!t.name||t.name===e.name}displayAlert(e){if(this._batchQueue){if(this._batchQueue.push(e),this._batchTimer)return;this._batchTimer=window.setTimeout(this._batchDisplay,this.options.batchWindow)}else this.options.onAlert(e)}},B:()=>"MOD",C:e=>(function(e, t, a) {return e`<ac-gql-mutate ?once="${(a=C(a)).once}" debounce="${t(a.debounce)}" delay="${t(a.delay)}" id="${t(a.id)}" operation="${a.operation}" throttle="${t(a.throttle)}" target="${t(a.target)}" trigger-elem="${t(a.triggerElem)}" trigger="${t(a.trigger)}" variables="${t(a.variables?JSON.stringify(a.variables):void 0)}"></ac-gql-mutate>`})(t.x,t.l,e),D:"dismiss",E:function(e){return{source:"feed_experience",action:e?"unsubscribe":"subscribe",noun:"subreddit"}},F:"flair-form-success",G:"gen_guides",H:function(){return{source:"feed_experience_overflow",noun:"hide",action:"click"}},I:class{constructor(e,t){this.observedElements=[],this.handleSlotChange=e=>{this.observer.disconnect();const t=e.target;t instanceof HTMLSlotElement&&(this.observedElements=t.assignedElements(),this.observedElements.forEach((e=>this.observer.observe(e))))},this.observer=new IntersectionObserver(this.handleIntersection.bind(this),t),(this.host=e).addController(this)}hostConnected(){this.observedElements.forEach((e=>this.observer.observe(e)))}hostDisconnected(){this.observer.disconnect()}isLoadableFaceplatePartial(t){return t instanceof e.bi&&t.loading===e.h.Programmatic&&!t.isLoading}async handleIntersection(e){e.forEach((e=>{e.isIntersecting&&this.isLoadableFaceplatePartial(e.target)&&e.target.load()}))}},J:function(){return{source:"feed_experience",action:"impression",noun:"feed_experience"}},K:function(e,t,{className:a,size:n="small",label:r,description:i,leadingContent:o,trailingContent:s,truncateTrailingContent:l,disabled:c=!1,id:u,testId:d}){return e`<div class="flex justify-between gap-[0.5rem] text-secondary py-xs ${c?"opacity-60 pointer-events-none":""} ${a??""}" id="${t(u)}" data-testid="${t(d)}"> <span class="flex items-center gap-xs min-w-0 ${l?"shrink-0 grow":"shrink"}"> ${o?e`<span class="flex shrink-0 items-center justify-center h-xl w-xl"> <span class="text-20 leading-4">${o}</span> </span>`:void 0} <span class="flex flex-col justify-center min-w-0 shrink py-[var(--rem6)]"> <span class="${"small"===n?"text-14":"text-16"} break-normal">${r}</span> <span class="text-12 text-secondary-weak break-normal">${i}</span> </span> </span> <span class="flex items-center ${l?"shrink pl-[8px] min-w-0":"shrink-0"}"> <span class="flex items-center justify-center h-lg ${l?"min-w-0":""}">${s}</span> </span> </div>`},L:Q,M:()=>"Comment deleted by user",N:(e,t)=>{const a=e.composedPath(),n=Array.isArray(t)?t.map((e=>e.toUpperCase())):[t.toUpperCase()];for(const e of a)if(n.includes(e.tagName))return!0;return!1},O:"observe-gallery-item-impression",P:function(e,t){const a=e.composedPath();for(const e of a){const a=e.dataset,n=a&&a[t];if(null!=n)return n}return null},Q:"flair-settings__flair-copy",R:"flair-settings__flair-delete",S:"subreddit-posting-eligibility-modal",T:"flair-settings__table-feature-id",U:"user-flair-assign-modal",V:Se,W:function(e){if(i in e)return e;class t extends e{constructor(){super(...arguments),this.pages=1,this._pageIndex=1,this._pageNames=void 0}get pageIndex(){return this._pageIndex}set pageIndex(e){if(e===this._pageIndex)return;const t=this._pageIndex;this._pageIndex=e,this.pageIndexChangedCallback(t)}get pageNames(){return this._pageNames}set pageNames(e){e&&(this.pages=e.length),this._pageNames=e}syncLinkedPageables(){if(this._paginationLeaderContext){const e=o.getFollowers(this._paginationLeaderContext);if(!e||!e.size)return;for(const t of e)t.syncPagination(this)}if(this._paginationFollowerContext){const e=o.getLeader(this._paginationFollowerContext);e&&(e.pageIndex=this._pageIndex)}}syncPagination(e){this.pageIndex=e.pageIndex,this.pages=e.pages,this.pageNames=e.pageNames}getPaginationContext(){const e=this.getRootNode();if(e!==this&&(e instanceof Document||e instanceof ShadowRoot))return e}connectedCallback(){super.connectedCallback&&super.connectedCallback();const e=this.getPaginationContext();if(!e)return;const t=this.getAttribute("for");t&&(this._paginationFollowerContext=o.getContextKey(t,e),o.registerFollower(this,this._paginationFollowerContext)),this.id&&!t&&(this._paginationLeaderContext=o.getContextKey(this.id,e),o.appointLeader(this,this._paginationLeaderContext))}disconnectedCallback(){super.connectedCallback&&super.connectedCallback(),this._paginationLeaderContext&&(o.dismissLeader(this,this._paginationLeaderContext),this._paginationLeaderContext=void 0),this._paginationFollowerContext&&(o.unregisterFollower(this,this._paginationFollowerContext),this._paginationFollowerContext=void 0)}nextPage(){this.pageIndex=Math.min(this.pages,this.pageIndex+1)}previousPage(){this.pageIndex=Math.max(1,this.pageIndex-1)}pageIndexChangedCallback(e){this.syncLinkedPageables()}}return t[i]=!0,t},X:"flair-settings__flair-delete-modal",Y:"flair-settings__flair-form",Z:t=>e.b({source:Le,action:"click",noun:Me(t)?"remove_post_flair_confirm":"remove_flair_confirm"}),_:j,a:()=>e.b({source:Ge,action:"click",noun:"assign_flair_dialog"}),a$:"config/automoderator",a0:function(e){return e.replace(Re,"")},a1:ve,a2:function(e,t){if(!e)return{color:"",icon:"",backgroundColor:""};const a=function(e){const t=e?.primaryColor,a=e?.mobileKeyColor,n=e?.legacyPrimaryColor;return t||a||n||null}(e)||"",n=function(e,t){if(!t)return e?.icon??null;for(const[a,n]of Fe){const r=e?.[n];if(r&&t<=parseInt(a,10))return r}return e?.icon??null}(e,t),r=e?.legacyIcon?.url;return{color:a,icon:n||r||"",backgroundColor:e?.backgroundColor||""}},a3:()=>{const e=F(),t=U();return"true"===e||void 0===e&&void 0===t?window.matchMedia("(prefers-reduced-motion: reduce)")?.matches:"false"!==t},a4:"clear-search-input",a5:"pdp-ama-comment-tab-wrapper",a6:e=>{try{return new URL(e).hostname.endsWith("reddit.com")}catch(e){return!1}},a7:e=>e.startsWith("https://alb.reddit.com/cr"),a8:function(){return"button_appearance"===e.ac(e.kc)||e.ac(e.kc)===z},a9:class{hostConnected(){}constructor(e,t){this.host=e,this.config=t,this.mouseIsDown=!1,this._interactionTrigger=null,this.eventUsedMap=new WeakMap,this.handleBlur=e=>{if(this.hasTrigger("focus")||this.hasTrigger("focus-visible")){const t=()=>this.host.finishInteraction(e,"focus");this.config.delayOpenOnFocus?this.delayInteraction(t,this.config.hoverDelayEnd(this.host)):t()}},this.handleClick=e=>{this.eventUsedMap.has(e)||(this.eventUsedMap.set(e,!0),this.hasTrigger("click")&&(this.config.isInteractedWith(this.host)?this.host.finishInteraction(e,"click"):this.host.startInteraction(e,"click")))},this.handleFocus=e=>{const t=this.hasTrigger("focus"),a=this.hasTrigger("focus-visible");if((!(!t&&a&&e.target instanceof HTMLElement)||e.target.matches(":focus-visible"))&&(t||a)&&!this.mouseIsDown){const t=()=>this.host.startInteraction(e,"focus");this.config.delayOpenOnFocus?this.delayInteraction(t,this.config.hoverDelayStart(this.host)):t()}},this.handleMouseEnter=e=>{this.hasTrigger("hover")&&this.delayInteraction((()=>this.host.startInteraction(e,"hover")),this.config.hoverDelayStart(this.host))},this.handleMouseLeave=e=>{this.hasTrigger("hover")&&this.delayInteraction((()=>this.host.finishInteraction(e,"hover")),this.config.hoverDelayEnd(this.host))},this.handleMouseDown=()=>{this.hasTrigger("click")&&(this.mouseIsDown=!0)},this.handleMouseUp=()=>{this.hasTrigger("click")&&(this.mouseIsDown=!1)},this.host.addController(this)}set interactionTrigger(e){this._interactionTrigger=e,this.host.requestUpdate()}get interactionTrigger(){return this._interactionTrigger}delayInteraction(e,t){clearTimeout(this.delayTimeout),this.delayTimeout=window.setTimeout(e,t)}hasTrigger(e){return this.host.trigger.split(" ").includes(e)}},aA:(e,t)=>Ee({action:"add",noun:"subreddit"},e,t),aB:(e,t)=>Ee({action:"remove",noun:"subreddit"},e,t),aC:5,aD:e=>!!e&&(e.indexOf("profileIcon_snoo")>-1||e.indexOf("snoovatar/avatars")>-1||e.endsWith("snoovatar_anonymous.svg")),aE:function(e){return!!e&&Ve.test(e)},aF:(e,t)=>new CustomEvent("rpl:menu-clicked-item",{bubbles:!0,composed:!0,cancelable:!0,detail:{type:e,item:t}}),aG:({item:e,reason:t})=>new CustomEvent("rpl:menu-close",{bubbles:!0,composed:!0,detail:{item:e,reason:t,itemPath:[e]}}),aH:t=>Object.values(e.cu).includes(t),aI:t=>Object.values(e.cv).includes(t),aJ:v,aK:"https://chat.reddit.com/",aL:Ve,aM:()=>e.b({source:Ge,action:"click",noun:"remove_assigned_userflair_dialog"}),aN:()=>e.b({source:Ge,action:"click",noun:"remove_assigned_userflair_confirm"}),aO:()=>e.b({source:Ge,action:"click",noun:"table_pagination"}),aP:()=>e.b({source:Ge,action:"click",noun:"user_search"}),aQ:()=>e.b({source:Ge,action:"click",noun:"assigned_flair_edit_dialog"}),aR:"user-flair__user-delete",aS:"user-flair__user-edit",aT:"user-flair__user-delete-modal",aU:"pageNumber",aV:"pageSize",aW:"before",aX:"after",aY:"query",aZ:De,a_:$e,aa:a,ab:m,ac:u,ad:d,ae:f,af:t=>Object.values(e.bG).includes(t),ag:g,ah:p,ai:c,aj:h,ak:b,al:e=>{const t=g(e);return t?(p(t[0]),t):null},am:N,an:(e,t,a)=>{if(!t)return N(e);const n=((e,t,a)=>{for(let n=1;n<e.length;n++){const r=(t-n+e.length)%e.length,i=e[r];if(r>t&&!a)return null;if(c(i))return i}return c(e[t])?e[t]:null})(e,t[1],a);return n?h(n):null},ao:(e,t,a)=>{if(!t)return b(e);const n=((e,t,a)=>{for(let n=1;n<e.length;n++){const r=(t+n)%e.length,i=e[r];if(r<t&&!a)return null;if(c(i))return i}return c(e[t])?e[t]:null})(e,t[1],a);return n?h(n):null},ap:e=>v in e,aq:{MenuItem:"menuitem",Button:"button",Link:"link",Checkbox:"menuitemcheckbox",Radio:"menuitemradio"},ar:I,as:D,at:({attributes:a,children:n,selected:r,leadingIcon:i,ariaControls:o,screenReaderContent:s,deleteButtonConfig:l})=>{const{html:c,ifDefined:u}=t.g();return c` <span class="inline-flex relative max-w-full" slot="${u(a?.slot)}"> ${e.fZ({hideChildrenOverflow:!0,ariaControls:o,attributes:a,selected:r,size:e.a2.Small,leadingIcon:i&&ve({children:i,appearance:"icon",size:"2xs"}),children:c`<span class="${r?"inline-block me-[calc(var(--size-button-sm-h)-var(--rem10)-var(--button-border-width-default))]":""} overflow-hidden text-ellipsis">${n}</span>`,screenReaderContent:s})} ${r?c` <span style="${"transform: translateY(-50%);\nposition: absolute;\ninset-inline-end: 0;\ntop: 50%;\ntransform: translateY(-50%);\ndisplay: inline-flex;\n"}"> ${e.J({...l,appearance:"plain",size:e.a2.Small,leadingIcon:t.L({size:t.q.Small})})} </span>`:void 0} </span> `},au:2e3,av:"saved-responses__reorder",aw:"reddit-search:open",ax:we,ay:class{constructor(t,a){this.isLoading=!1,this.hasReloadError=!1,this.handleReload=async e=>{if(this.reloadUrl){this.isLoading=!0,this.hasReloadError=!1,this.host.requestUpdate();try{await this.getAndReplacePartial(e.detail?.queryParameters)}catch(e){this.hasReloadError=!0}this.isLoading=!1,this.host.requestUpdate()}};const{reloadUrl:n,containerSelector:r,mode:i=e.P.Contents}=a||{};(this.host=t).addController(this),this._partialRequest=new e.aw(this.host),this._reloadUrl=n,this.containerSelector=r||this.host.tagName.toLowerCase(),this._mode=i}get reloadUrl(){return this._reloadUrl}set reloadUrl(e){this._reloadUrl=e}get mode(){return this._mode}set mode(e){this._mode=e}hostConnected(){this.host.addEventListener(we,this.handleReload)}hostDisconnected(){this.host.removeEventListener(we,this.handleReload)}async getAndReplacePartial(t={}){const a=this.reloadUrl&&Array.from(Object.entries(t)).reduce(((t,[a,n])=>e.bL(t,a,n)),this.reloadUrl),n=await this._partialRequest.request(a),r=await(n?.text());if(!r)throw new Error("Unable to reload content");const i=(new DOMParser).parseFromString(r,"text/html").querySelector(this.containerSelector);if(!i)throw new Error(`Element ${this.containerSelector} not found in reload response`);if(this.mode!==e.P.Contents)e.ax(i.outerHTML,this.host,this.mode);else{if(!i?.innerHTML)throw new Error("No content to reload");e.ax(i.innerHTML,this.host,this.mode)}}},az:function(e){return!!e},b:function(e){return Array.from(function*(e){for(let t=1;t<=e;t++)yield t}(e))},b$:"wiki-page-settings-close-button",b0:"config/post_removal_message",b1:Pe,b2:50,b3:100,b4:"templateSelector",b5:"request",b6:"saved-responses__saved",b7:function(t){return t===e.$.ModQueueCompactView},b8:t=>e.b({source:Le,action:"click",noun:Me(t)?"reorder_post_flair_confirm":"reorder_flair_confirm"}),b9:function(e){return`${Re}${e}`},bA:()=>e.b({source:"comment",action:"click",noun:"load_more_comments"}),bB:()=>e.b({source:"post_detail",action:"click",noun:"comment_image"}),bC:"comment-composer-cancel-draft",bD:"comment-edit-success",bE:"reloadPollingDurationMs",bF:()=>e.b({source:"post_detail",action:"click",noun:"collapse_comment"}),bG:()=>e.b({source:"post_detail",action:"click",noun:"expand_comment"}),bH:"/svc/shreddit/edit-comment",bI:(t,{communityId:a,communityName:n})=>e.a(t,e.b({source:"community_page",action:"click",noun:"communities_menu",subreddit:{name:n,id:a}})),bJ:q,bK:e=>Ee({action:"duplicate",noun:"custom_feed"},e),bL:e=>Ee({action:"create",noun:"custom_feed"},e),bM:()=>e.b({source:"community_nav",action:"click",noun:"community_recent"}),bN:Ue,bO:(e,t,a)=>{const n=Ue(t,a),r=new Map,i=[e,...n];for(;i.length&&r.size<a;){const e=i.shift();r.has(e.uuid)||r.set(e.uuid,e)}const o=Array.from(r.values());o.length===n.length&&o.every(((e,t)=>e.uuid===n[t].uuid))||Ae(t,o)},bP:"login",bQ:function(){return document&&document.documentElement.lang?document.documentElement.lang:navigator&&navigator.language?navigator.language:"en-US"},bR:function(e){return new Date(e.replace("+0000","+00:00"))},bS:async function({responseId:t,subredditId:a,contentId:n,modmailVariables:r}){const{data:i,errors:o}=await X({operation:e.O.RenderSavedResponseTemplateBySubredditId,variables:{responseId:t,subredditId:a,variables:{...(n ? {removalVariables:{contentId:n}} : {}),...(r ? {modmailVariables:r} : {})}}});if(o?.length||"Subreddit"!==i.subredditInfoById?.__typename)throw new Error(q());return i.subredditInfoById?.moderation?.renderSavedResponseTemplate},bT:function(e){return e?"Settings saved.":"Failed to save settings. Please try again.";},bU:function(e=!1){return e?"Saved":"Save changes";},bV:"wiki-banned-users__unban",bW:"wiki-banned-users__ban",bX:"wiki-banned-users__edit",bY:"wiki-banned-contributors-confirmation-modal",bZ:"wiki-banned-contributors-ban-modal",b_:"wiki-page-settings-done-button",ba:function(e=!1){return e?"Saved":"Save";},bb:(e,t)=>{const a=e.getBoundingClientRect(),n=t.getBoundingClientRect();return Math.floor(a.top)>=Math.floor(n.top)&&Math.ceil(a.bottom)<=Math.ceil(n.bottom)&&Math.ceil(a.right)<=Math.ceil(n.right)&&Math.floor(a.left)>=Math.floor(n.left)},bc:"saved-responses__create",bd:"saved-responses__exit-create-view",be:"saved-responses__delete",bf:"saved-responses__update-item",bg:"saved-responses__submit",bh:"saved-responses__open-reorder-modal",bi:"saved_responses__cancel_update",bj:"saved-responses-table__partial_id",bk:"saved_responses__response_delete_modal_id",bl:function(a,n){return e.J({attributes:n,appearance:ke[a],leadingIcon:t.N()})},bm:()=>"CO-HOST",bn:()=>"OP",bo:t=>e.b({source:Ge,action:"click",noun:"username_input"},{action_info:t}),bp:function(e,{displayFull:t,roundDown:a,maxDigits:n,removeZeroDecimal:r}={}){return t?(e=>{const t=e.split(".");return [t[0].replace(/\B(?=(\d{3})+(?!\d))/g,",")].concat(t.slice(1)).join(".");})(e.toString()):e>=99999999949?`${Be({num:e,divider:je,maxDigits:n,removeZeroDecimal:r})}b`:e>=999999949&&e<99999999949?`${Be({num:e,divider:je,defaultFixed:1,maxDigits:n,removeZeroDecimal:r})}b`:e>=99999949&&e<999999949?`${Be({num:e,divider:He,maxDigits:n,removeZeroDecimal:r})}m`:e>=999949&&e<99999949?`${Be({num:e,divider:He,defaultFixed:1,maxDigits:n,removeZeroDecimal:r})}m`:e>=99949&&e<999949?`${Be({num:e,divider:ze,maxDigits:n,removeZeroDecimal:r})}k`:e>=ze&&e<99949?a?`${Ke(e,ze)}k`:`${Be({num:e,divider:ze,defaultFixed:1,maxDigits:n,removeZeroDecimal:r})}k`:String(e);},bq:()=>e.b({source:Ge,action:"click",noun:"assigned_flair_edit_save"}),br:()=>e.b({source:Ge,action:"click",noun:"assign_flair_confirm"}),bs:()=>e.b({source:"post_detail",action:"click",noun:"load_more_comments"}),bt:e=>Ee({action:"delete",noun:"custom_feed"},e),bu:"flair-form-can-submit-change",bv:t=>e.b({source:Le,action:"click",noun:Me(t)?"post_flair_edit_save":"flair_edit_save"}),bw:t=>e.b({source:Le,action:"click",noun:Me(t)?"create_post_flair_confirm":"create_flair_confirm"}),bx:function(a,n){if(!a)return;const{html:r}=t.g();return r` <span class="flex items-center justify-center">${Array.isArray(a)?r`${a.map((t=>e.J({...t,appearance:ke[n]})))}`:e.J(a)}</span>`},by:"click",bz:"back",c:T,c$:(t,a,n)=>{e.dx({name:e.ka}),e.u({name:e.ka,country:a,value:`${t}`,options:{...e.D,domain:n}})},c0:"wiki-page-setting-modal-dialog",c1:_,c2:function(e,t,a){var n;const r=function(e,t){const a=t.getTime()-e.getTime(),n=Math.round(a/31104e6),r=Math.round(a/2592e6),i=Math.round(a/864e5),o=Math.round(a/36e5),s=a/L;let l="minutes",c=0;return Math.abs(Math.round(s))<60?c=s>-1&&s<1?Math.sign(s)*Math.ceil(Math.abs(s)):Math.round(s):Math.abs(o)<24?(l="hours",c=o):Math.abs(i)<29?(l="days",c=i):Math.abs(r)<11?(l="months",c=r):(l="years",c=n),{unit:l,diff:c}}(new Date,e);try{if(P){return function(e,t,a){return y(t,{localeMatcher:"lookup",numeric:"always",style:a}).format(e.diff,e.unit)}(r,t,null!==(n=null==a?void 0:a.format)&&void 0!==n?n:(null==a?void 0:a.short)?"short":"long")}}catch(e){}return ((null==a?void 0:a.short)||"short"===(null==a?void 0:a.format))&&r.diff<0&&t.match(/en.*/)?M(r):_(t,{dateStyle:"short",timeStyle:"short"}).format(e);},c3:e=>(function(e, t, a) {return e`<ac-call ?once="${(a=C(a)).once}" debounce="${t(a.debounce)}" delay="${t(a.delay)}" method="${a.method}" target="${a.target}" throttle="${t(a.throttle)}" trigger-elem="${t(a.triggerElem)}" trigger="${t(a.trigger)}"></ac-call>`})(t.x,t.l,e),c4:e=>(function(e, t, a) {return e`<ac-toggle-attribute ?once="${(a=C(a)).once}" debounce="${t(a.debounce)}" delay="${t(a.delay)}" force="${t(a.force)}" target-attribute="${a.targetAttribute}" target="${t(a.target)}" throttle="${t(a.throttle)}" trigger-elem="${t(a.triggerElem)}" trigger="${t(a.trigger)}"></ac-toggle-attribute>`})(t.x,t.l,e),c5:x,c6:$,c7:function(t){return t===e.$.CompactView},c8:()=>"[deleted]",c9:function(){return"vote_component"===e.ac(e.kc)||e.ac(e.kc)===z},cA:H,cB:function(e){return`add-ama-collaborators-modal-${e}`},cC:function(e,t,a){return e?t():null==a?void 0:a()},cD:async function(t){const a={input:t},{data:n,errors:r}=await Y({operation:e.O.RemoveHighlightedPost,variables:a});if(r?.length)throw new Error(q());const{removeHighlightedPost:i}=n;if(!i?.ok)throw new Error(q())},cE:(t,a)=>e.b({source:Le,action:"click",noun:Me(t)?"enable_post_flair":"enable_user_flair"},{action_info:{setting_value:a?"toggle on":"toggle off"}}),cF:(t,a)=>e.b({source:Le,action:"click",noun:Me(t)?"let_users_assign_post_flair":"let_users_assign_flair"},{action_info:{setting_value:a?"toggle on":"toggle off"}}),cG:t=>e.b({source:Le,action:"click",noun:Me(t)?"reorder_post_flair_dialog":"reorder_flair_dialog"}),cH:e=>!!e&&(e.indexOf("profileIcon_snoo")>-1||e.indexOf("snoovatar/avatars")>-1||e.endsWith("snoovatar_anonymous.svg")),cI:"skip",cJ:"https://www.reddit.com/redditchat/",cK:"chat-mobile-xpromo",cL:"reputation-recaptcha",cM:{Total:"#D2DADD",Posts:"#0E8A00",Negative:"#372F8C",Positive:"#008675",Neutral:"#629FFF",Score:"#D93A00",Performance:"#6A5CFF",Comments:"#D93900",Upvotes:"#6A5CFF","Post Upvotes":"#DE019F","Comment Upvotes":"#5BA200","Total Upvotes":"#97AFBC","Total Mentions":"#6A5CFF"},cN:e=>e.startsWith("a2_")?e.replace("a2_",""):e.startsWith("t2_")?e.replace("t2_",""):e,cO:"onboarded-ad-account",cP:"ad-account-creation-cancel",cQ:e=>/^award_.+\|t\d_.+$/.test(e),cR:e=>e??D,cS:class{get matches(){return this.mediaQuery.matches}constructor(e,t){this.host=e,this.query=t,this.rafId=null,this.handleMediaChange=()=>{this.rafId&&cancelAnimationFrame(this.rafId),this.rafId=requestAnimationFrame((()=>{this.rafId=null,this.host.requestUpdate("matches",!this.matches)}))},e.addController(this),this.mediaQuery=window.matchMedia(t),this.mediaQuery.addEventListener("change",this.handleMediaChange)}async hostConnected(){}async hostDisconnected(){}},cT:E,cU:({productName:e,productPrice:t,productId:a,retailerId:n,retailerName:r,retailerPrice:i,retailerLink:o})=>{const s={product_name:e,display_price:t};return a&&(s.product_id=a),n&&(s.retailer_id=n),r&&(s.retailer_name=r),i&&(s.retailer_price=i),o&&(s.retailer_link=o),s},cV:function({fieldErrors:e,defaultMessage:t}){return e?.[0]?.message??t},cW:U,cX:(t,a,n)=>{e.dx({name:e.k9}),e.u({name:e.k9,country:a,value:`${t}`,options:{...e.D,domain:n}})},cY:F,cZ:(t,a,n)=>{e.dx({name:e.kb}),e.u({name:e.kb,country:a,value:`${t}`,options:{...e.D,domain:n}})},c_:()=>e.q.get(e.ka),ca:"comment-post",cb:"list-reply-comment",cc:(t="post_detail",a)=>e.b({source:t,action:"click",noun:"downvote_comment"},{action_info:{trigger_type:a}}),cd:(t="post_detail",a)=>e.b({source:t,action:"click",noun:"upvote_comment"},{action_info:{trigger_type:a}}),ce:(t="post_detail",a)=>e.b({source:t,action:"click",noun:"clearvote_comment"},{action_info:{trigger_type:a}}),cf:t=>e.b({source:"achievements",action:"click",noun:"card_icon"},{action_info:{page_type:t}}),cg:t=>e.b({source:"achievements",action:"click",noun:"profile_showcase"},{action_info:{page_type:t}}),ch:(a,n)=>n?e.J({shape:"pill",appearance:"plain",size:e.a2.Small,attributes:{className:"border-0 [:not(:hover)]:bg-transparent text-12 font-semibold text-secondary-plain",slot:"trigger",...a},hideChildrenOverflow:!0,children:t.x`<slot name="trigger-content"></slot>`,trailingIcon:t.O({size:t.q.Small,attributes:{"aria-hidden":"true",className:"px-[2px]"}})}):l({appearance:"plain",attributes:{className:"border-0 [:not(:hover)]:bg-transparent text-12 font-semibold text-secondary-plain",...a},children:t.x`<slot name="trigger-content"></slot>`,size:e.a2.Small}),ci:"view",cj:"auth_modal",ck:"send",get cl(){return B},cm:function*(e,t){if(void 0!==e){let a=0;for(const n of e)yield t(n,a++)}},cn:{STREAK_EXTENDED:"streak_progressed",TROPHY_UNLOCKED:"achievement_unlocked",TROPHY_PROGRESSED:"achievement_progress"},co:A,cp:({conversationId:e,position:t,searchQuery:a})=>{const n={conversation_id:e};return t&&(n.query_id=`${t}`),a&&(n.query=a),{search:n}},cq:(e,t,a)=>{for(const a of t)if(a[0]===e)return(0,a[1])();return null==a?void 0:a()},cr:Ie,cs:"achievement-progress-toast",ct:({attributes:a,title:n,titleDataTestId:r,description:i,buttonProps:o,creative:s,creativeSafe:l=!0})=>{const{html:c,createElement:u}=t.g();return u("div",{...a,className:"flex flex-col items-center w-full",rpl:!0,"rpl-empty-state":!0},c`<div class="w-full flex flex-col items-center overflow-hidden box-border ${!l&&"p-md"}"> ${s} </div> <div class="flex flex-col w-full items-center box-border px-md gap-md ${n||i?"pb-md":""}"> ${n||i?c` <div class="max-w-[480px] flex flex-col items-center text-center"> <div class="text-24 font-bold text-neutral-content-strong" data-testid="${t.l(r)}"> ${n} </div> <div class="text-16 text-neutral-content-weak">${i}</div> </div> `:""} ${o?c`<div>${e.J(o)}</div>`:""} </div>`)},cu:class{async makeGQLRequest(...t){return e.r(...t)}async uploadMedia(...e){return _e(...e)}async saveImage({subredditId:e,url:t,fileContent:a,uploadType:n,gqlOperation:r}){if(a)try{const r=await this.uploadMedia(a,{subredditId:e,imagetype:n});if(t=r.url?decodeURIComponent(r.url):t,r.error)return this.handleError(n)}catch(e){return this.handleError(n)}try{await this.makeGQLRequest({operation:r,variables:{input:{subredditId:e,[this.getOperationArg(n)]:t??""}}})}catch(e){return this.handleError(n)}return null}async saveCommunityIcon(t,a,n){return this.saveImage({subredditId:t,url:a,fileContent:n,uploadType:e.i_.CommunityIcon,gqlOperation:e.O.UpdateSubredditIcon})}async saveBanner(t,a,n){return this.saveImage({subredditId:t,url:a,fileContent:n,uploadType:e.i_.BannerBackgroundImage,gqlOperation:e.O.UpdateSubredditBanner})}async saveMobileBanner(t,a,n){return this.saveImage({subredditId:t,url:a,fileContent:n,uploadType:e.i_.MobileBannerImage,gqlOperation:e.O.UpdateSubredditBanner})}handleError(t){switch(t){case e.i_.BannerBackgroundImage:return "Something went wrong while saving the banner.";case e.i_.MobileBannerImage:return "Something went wrong while saving the mobile banner.";case e.i_.CommunityIcon:default:return "Something went wrong saving the avatar.";}}getOperationArg(t){switch(t){case e.i_.BannerBackgroundImage:return"bannerBackgroundImage";case e.i_.MobileBannerImage:return"mobileBannerImage";case e.i_.CommunityIcon:default:return"communityIcon"}}},cv:t=>e.a(t,e.b({source:"community_page",action:"click",noun:"all_communities"})),cw:t=>e.a(t,e.b({source:"community_page",action:"click",noun:"favorites"})),cx:t=>e.a(t,e.b({source:"community_search",action:"view",noun:"search_bar"})),cy:t=>e.a(t,e.b({source:"community_search",action:"view",noun:"query_prompt"})),cz:t=>e.a(t,e.b({source:"community_search",action:"click",noun:"search_bar"})),d:class{constructor(e){this.host=e,this.slotsCache=new Map,this.hasContentsCache=new Map,this.slotTextCache=new Map,this.handleSlotChange=e=>{if(!(e.target instanceof HTMLSlotElement))return;const t=e.target,a=t.hasAttribute("name")?t.name:"default",n=this.hasContentsCache.get(a),r=I(t);this.slotsCache.set(a,t),this.hasContentsCache.set(a,I(t)),this.slotTextCache.delete(a),n!==r&&this.host.requestUpdate()},e.addController(this)}hostConnected(){}getSlot(e){const t=this.slotsCache.get(e);if(void 0!==t)return t;const a=this.host.shadowRoot?.querySelector("default"===e?"slot:not([name])":`slot[name="${e}"]`);return a instanceof HTMLSlotElement?(this.slotsCache.set(e,a),a):null}hasSlotContent(e){return this.hasContentsCache.get(e)??!1}getSlotText(e){const t=this.slotTextCache.get(e);if(void 0!==t)return t;if(!(this.hasContentsCache.get(e)??!1))return this.slotTextCache.set(e,null),null;const a=this.getSlot(e);if(!a)return null;const n=(e=>{const t=e.assignedNodes({flatten:!0}),a=[];for(const e of t)e.nodeType===Node.TEXT_NODE&&e.textContent?.match(/\S/)&&a.push(e.textContent.trim()),e.nodeType===Node.ELEMENT_NODE&&e.textContent?.match(/\S/)&&a.push(e.textContent.trim());return a.length>0?a.join(" "):null})(a);return this.slotTextCache.set(e,n),n}},d0:function(t){return t===e.$.CardView},d1:"emote|",d2:"giphy|",d3:_e,d4:O,d5:"wiki-revision-note-modal-dialog",d6:"wiki-page-tabs",d7:2e3,d8:"hidePostSubmitLink",d9:"isTranslatable",da:"targetLanguage",db:({adjacentElement:t})=>{if(!e.jC(e.jD()))return()=>{};const a=document.createElement("input");return a.setAttribute("type","text"),a.style.position="absolute",a.style.opacity="0",a.style.height="0",a.style.fontSize="16px",t.insertAdjacentElement("afterend",a),a.focus(),()=>a.remove()},dc:"comment-deletion-modal",dd:t=>e.b({source:t,action:"click",noun:"follow"}),de:t=>e.b({source:t,action:"undo",noun:"follow"}),df:"list-reply-comment-button",dg:t=>e.b({source:t,action:"click",noun:"save"}),dh:t=>e.b({source:t,action:"click",noun:"unsave"}),di:e=>!e||e.includes("avatar_default_"),dj:function(t){const a={[e.hj.Female]:"Woman",[e.hj.Male]:"Man",[e.hj.NonBinary]:"Non-binary",[e.hj.OptOut]:"I prefer not to say",[e.hj.UserDefined]:"I refer to myself as..."};return t?a[t]:a},e:function(e,t){return function(e,t){void 0===t&&(t={});var a=function(e){return e&&e.sensitive?"":"i"}(t),n=t.encode,r=void 0===n?function(e){return e}:n,i=t.validate,o=void 0===i||i,s=e.map((function(e){if("object"==typeof e)return new RegExp("^(?:".concat(e.pattern,")$"),a)}));return function(t){for(var a="",n=0;n<e.length;n++){var i=e[n];if("string"!=typeof i){var l=t?t[i.name]:void 0,c="?"===i.modifier||"*"===i.modifier,u="*"===i.modifier||"+"===i.modifier;if(Array.isArray(l)){if(!u)throw new TypeError('Expected "'.concat(i.name,'" to not repeat, but got an array'));if(0===l.length){if(c)continue;throw new TypeError('Expected "'.concat(i.name,'" to not be empty'))}for(var d=0;d<l.length;d++){var m=r(l[d],i);if(o&&!s[n].test(m))throw new TypeError('Expected all "'.concat(i.name,'" to match "').concat(i.pattern,'", but got "').concat(m,'"'));a+=i.prefix+m+i.suffix}}else if("string"!=typeof l&&"number"!=typeof l){if(!c){var h=u?"an array":"a string";throw new TypeError('Expected "'.concat(i.name,'" to be ').concat(h))}}else{m=r(String(l),i);if(o&&!s[n].test(m))throw new TypeError('Expected "'.concat(i.name,'" to match "').concat(i.pattern,'", but got "').concat(m,'"'));a+=i.prefix+m+i.suffix}}else a+=i}return a}}(W(e,t),t)},f:function(){return{source:"feed_experience",action:"consume",noun:"subreddit"}},g:r,h:t=>e.b({source:"global",action:"view",noun:"screen"},{action_info:{page_type:e.a6.AchievementDetail,...(t ? {type:t} : {})}}),i:({listId:e,seeButtonId:t})=>{const a=document.querySelector(`#${e}`),n=a?.querySelectorAll(".hidden"),r=a?.querySelector(`#${t}`),i=r?.getAttribute("data-see-less-label"),o=r?.getAttribute("data-see-more-label");if((!r||!xe.has(r))&&a&&r&&n&&i&&o){let e=!0;r.addEventListener("click",(()=>{Array.from(n).forEach((t=>{e?t.classList.remove("hidden"):t.classList.add("hidden")})),r.textContent=e?i:o,e=!e})),xe.add(r)}},j:(...e)=>e.filter(Boolean).join(" "),k:(e,t=e.tagName.toLowerCase())=>{const a=e=>(""===e&&(e="generic"),t+":"+e);return{dispatch:(t,n={bubbles:!0,cancelable:!0,composed:!0})=>e.dispatchEvent(new CustomEvent(a(t),n)),eventId:a}},l:function(e){const t=document.querySelector(e);if(!t)return Promise.reject(`lazy script "${e}" cannot be found`);const a=s.get(t);if(a)return a;if(!t.nonce)return Promise.reject('loadLazyScriptWithNonce should only be used to load scripts with "nonce"s');const n=t?.getAttribute("data-src");if(!n)return Promise.reject('loadLazyScriptWithNonce expects a script tag with a "data-src" attribute');const r=document.querySelector(`script[src="${n}"]`);if(r)return Promise.resolve(r);const i=new Promise(((e,a)=>{const r=document.createElement("script");r.nonce=t.nonce,r.onload=function(){e(r)},r.onerror=function(e){a(e?.toString())},r.src=n,r.dataset.lazy="true",document.body.appendChild(r)}));return s.set(t,i),i},m:function(e="#preview"){Je((function(){const t=document.querySelector(e);t?.classList.contains(We)||t?.classList.add(We)}))},n:l,o:function(e,t=0,a=!1){let n=!1,r=null;const i=function(...o){n?a&&(r=[this,o]):(e.apply(this,o),n=!0,setTimeout((()=>{n=!1,r&&(i.apply(r[0],r[1]),r=null)}),t))};return i},p:function(e,t){return null!==e.querySelector(`:scope > [slot="${t}"]`)},q:function(){return window.matchMedia("(pointer: coarse)").matches},r:"onboarding",s:Je,t:function(){return{source:"feed_experience",action:"impression",noun:"subreddit"}},u:()=>e.b({source:"comment",action:"click",noun:"share"}),v:()=>e.b({source:"comment",action:"click",noun:"share_copy"}),w:e=>{window.location.href=e||window.location.href},x:Ae,y:Oe,z:()=>"ADMIN"};}));
SML.dm("DXuMM4FO",["DAgRafdt"],(async t=>{const a={[t.ag.Card]:{get description(){return "Card";}},[t.ag.Compact]:{get description(){return "Compact";}},[t.ag.Classic]:{get description(){return "Compact";}}};var o;return function(t){t.MANUAL="manual",t.AUTOMATIC="automatic"}(o||(o={})),{get B(){return o},C:"/svc/shreddit/:subredditName/community-highlights",F:a,P:"post-deletion-modal",S:"subreddit-mute-modal",a:"subreddit-right-rail__partial"}}));
SML.dm("DV4LELVr",["DSWSCRFk"],(async a=>{const{svg:H}=a.g();return{u:a.w(H`<path d="M10 3H6.448l1.517-1.264A.9.9 0 106.812.353L3.386 3.208a.9.9 0 000 1.382l3.426 2.855a.897.897 0 001.268-.116.9.9 0 00-.115-1.268L6.448 4.797H10c3.419 0 6.2 2.78 6.2 6.2 0 3.419-2.781 6.2-6.2 6.2a6.207 6.207 0 01-6.2-6.2.9.9 0 00-1.8 0c0 4.41 3.589 8 8 8s8-3.59 8-8c0-4.411-3.589-8-8-8V3z"></path>`,"0 0 20 20","undo",!0)}}));
SML.dm("SRPsYjuk",["DAgRafdt"],(async t=>{const e={next:"nextElementSibling",prev:"previousElementSibling"};var r,s;!function(t){t.FEED="feed",t.COMMENTS_PAGE="comments_page"}(r||(r={})),function(t){t.NEXT="next",t.PREV="prev"}(s||(s={}));return{get P(){return s},a:class{constructor(s,n){this.cache={},this.isPostOrComment=t=>["shreddit-comment","shreddit-post","shreddit-ad-post","shreddit-profile-comment"].includes(t?.tagName.toLowerCase()??""),this.traverse=t=>{const e=this.current;this._current?this.findPostOrComment(t):this._current=this.options.getFirstElement(),this.focusElement(e)},this.focusElement=e=>{if(!this.current||e===this.current)return;const s=document.activeElement;this.current?.onHotkeysFocus?this.current.onHotkeysFocus?.({preventScroll:!0}):this.current.hotkeyController?.onFocus?.({preventScroll:!0}),s===document.activeElement&&t.aF(this.current)?.focus(),this.current.style.scrollMarginTop="var(--shreddit-header-height)";const n=this.isCurrentComment?"start":this.options.type===r.COMMENTS_PAGE?"end":"center";this.current.scrollIntoView({behavior:"instant",block:n})},this.findPostOrComment=t=>{let r=this._current;for(let s=0;r&&s<this.options.maxTraversalCount;s++){const s=r,n=this.options.customTraversal?.(t,r);if(r=n??r?.[e[t]]??s.parentElement?.[e[t]],this.options?.customPostOrCommentDetection?.(r)||this.isPostOrComment(r)){this._current=r;break}}},this.host=s,this.host.addController(this),this.options={maxTraversalCount:10,...n}}hostConnected(){}hostDisconnected(){}get current(){return this._current!==this.cache?.rawElement&&(this.cache={rawElement:this._current,postOrComment:this.options?.customPostOrCommentDetection?.(this._current)??this._current}),this.cache?.postOrComment}get isCurrentPost(){return["shreddit-post","shreddit-ad-post"].includes(this.current?.tagName.toLowerCase()??"")}get isCurrentComment(){return"shreddit-comment"===(this.current?.tagName.toLowerCase()??"")}get isCurrentProfileComment(){return"shreddit-profile-comment"===(this.current?.tagName.toLowerCase()??"")}},get b(){return r}}}));
SML.dm("CU4mObWU",[],(async()=>{class t{constructor(e,o){this.element=e,this.touch1=null,this.touch2=null,this.touchStartX=null,this.touchStartY=null,this.touchEndX=null,this.touchEndY=null,this.touchMove1=null,this.touchMove2=null,this.touchMoveX=null,this.touchMoveY=null,this.velocityX=null,this.velocityY=null,this.longPressTimer=null,this.doubleTapTimer=null,this.doubleTapWaiting=!1,this.thresholdX=0,this.thresholdY=0,this.disregardVelocityThresholdX=0,this.disregardVelocityThresholdY=0,this.swipingHorizontal=!1,this.swipingVertical=!1,this.swipingDirection=null,this.swipedHorizontal=!1,this.swipedVertical=!1,this.originalDistance=null,this.newDistance=null,this.scale=null,this.originalAngle=null,this.newAngle=null,this.rotation=null,this.handlers={panstart:[],panmove:[],panend:[],swipeleft:[],swiperight:[],swipeup:[],swipedown:[],tap:[],doubletap:[],longpress:[],pinch:[],pinchend:[],rotate:[],rotateend:[]},this._onTouchStart=this.onTouchStart.bind(this),this._onTouchMove=this.onTouchMove.bind(this),this._onTouchEnd=this.onTouchEnd.bind(this),this.opts=Object.assign({},t.defaults,o),this.element.addEventListener("touchstart",this._onTouchStart,i),this.element.addEventListener("touchmove",this._onTouchMove,i),this.element.addEventListener("touchend",this._onTouchEnd,i),this.opts.mouseSupport&&!("ontouchstart"in window)&&(this.element.addEventListener("mousedown",this._onTouchStart,i),document.addEventListener("mousemove",this._onTouchMove,i),document.addEventListener("mouseup",this._onTouchEnd,i))}destroy(){var t,i;this.element.removeEventListener("touchstart",this._onTouchStart),this.element.removeEventListener("touchmove",this._onTouchMove),this.element.removeEventListener("touchend",this._onTouchEnd),this.element.removeEventListener("mousedown",this._onTouchStart),document.removeEventListener("mousemove",this._onTouchMove),document.removeEventListener("mouseup",this._onTouchEnd),clearTimeout(null!==(t=this.longPressTimer)&&void 0!==t?t:void 0),clearTimeout(null!==(i=this.doubleTapTimer)&&void 0!==i?i:void 0)}on(t,i){if(this.handlers[t])return this.handlers[t].push(i),{type:t,fn:i,cancel:()=>this.off(t,i)}}off(t,i){if(this.handlers[t]){const e=this.handlers[t].indexOf(i);-1!==e&&this.handlers[t].splice(e,1)}}fire(t,i){for(let e=0;e<this.handlers[t].length;e++)this.handlers[t][e](i)}onTouchStart(t){var i,e,o,s,h,n,l,u,r,d,c,a,v,p,m,T,g,M,w,f,y,X,Y,E,b,S;let V=!1;if("mousedown"!==t.type){if(this.touch1||(this.touch1=t.changedTouches[0],V=!0),(V&&t.changedTouches.length>1||!V)&&!this.touch2)return this.touch2=[...t.changedTouches].find((t=>{var i;return t.identifier!==(null===(i=this.touch1)||void 0===i?void 0:i.identifier)}))||null,this.originalDistance=Math.sqrt(Math.pow((null!==(e=null===(i=this.touch2)||void 0===i?void 0:i.screenX)&&void 0!==e?e:0)-(null!==(n=null!==(s=null===(o=this.touchMove1)||void 0===o?void 0:o.screenX)&&void 0!==s?s:null===(h=this.touch1)||void 0===h?void 0:h.screenX)&&void 0!==n?n:0),2)+Math.pow((null!==(u=null===(l=this.touch2)||void 0===l?void 0:l.screenY)&&void 0!==u?u:0)-(null!==(a=null!==(d=null===(r=this.touchMove1)||void 0===r?void 0:r.screenY)&&void 0!==d?d:null===(c=this.touch1)||void 0===c?void 0:c.screenY)&&void 0!==a?a:0),2)),void(this.originalAngle=Math.atan2((null!==(p=null===(v=this.touch2)||void 0===v?void 0:v.screenY)&&void 0!==p?p:0)-(null!==(M=null!==(T=null===(m=this.touchMove1)||void 0===m?void 0:m.screenY)&&void 0!==T?T:null===(g=this.touch1)||void 0===g?void 0:g.screenY)&&void 0!==M?M:0),(null!==(f=null===(w=this.touch2)||void 0===w?void 0:w.screenX)&&void 0!==f?f:0)-(null!==(E=null!==(X=null===(y=this.touchMove1)||void 0===y?void 0:y.screenX)&&void 0!==X?X:null===(Y=this.touch1)||void 0===Y?void 0:Y.screenX)&&void 0!==E?E:0))/(Math.PI/180));if(!V)return}(V||"mousedown"===t.type)&&(this.thresholdX=this.opts.threshold("x",this),this.thresholdY=this.opts.threshold("y",this),this.disregardVelocityThresholdX=this.opts.disregardVelocityThreshold("x",this),this.disregardVelocityThresholdY=this.opts.disregardVelocityThreshold("y",this),this.touchStartX="mousedown"===t.type?t.screenX:(null===(b=this.touch1)||void 0===b?void 0:b.screenX)||0,this.touchStartY="mousedown"===t.type?t.screenY:(null===(S=this.touch1)||void 0===S?void 0:S.screenY)||0,this.touchMoveX=null,this.touchMoveY=null,this.touchEndX=null,this.touchEndY=null,this.swipingDirection=null,this.longPressTimer=setTimeout((()=>this.fire("longpress",t)),this.opts.longPressTime),this.scale=1,this.rotation=0,this.fire("panstart",t))}onTouchMove(t){var i,e,o,s,h,n,l,u,r,d,c,a,v;if("mousemove"===t.type&&(!this.touchStartX||null!==this.touchEndX))return;let p,m;if("mousemove"!==t.type&&(p=[...t.changedTouches].find((t=>{var i;return t.identifier===(null===(i=this.touch1)||void 0===i?void 0:i.identifier)})),this.touchMove1=p||this.touchMove1,m=[...t.changedTouches].find((t=>{var i;return t.identifier===(null===(i=this.touch2)||void 0===i?void 0:i.identifier)})),this.touchMove2=m||this.touchMove2),"mousemove"===t.type||p){const u=("mousemove"===t.type?t.screenX:null!==(i=null==p?void 0:p.screenX)&&void 0!==i?i:0)-(null!==(e=this.touchStartX)&&void 0!==e?e:0);this.velocityX=u-(null!==(o=this.touchMoveX)&&void 0!==o?o:0),this.touchMoveX=u;const r=("mousemove"===t.type?t.screenY:null!==(s=null==p?void 0:p.screenY)&&void 0!==s?s:0)-(null!==(h=this.touchStartY)&&void 0!==h?h:0);this.velocityY=r-(null!==(n=this.touchMoveY)&&void 0!==n?n:0),this.touchMoveY=r;const d=Math.abs(this.touchMoveX),c=Math.abs(this.touchMoveY);this.swipingHorizontal=d>this.thresholdX,this.swipingVertical=c>this.thresholdY,this.swipingDirection=d>c?this.swipingHorizontal?"horizontal":"pre-horizontal":this.swipingVertical?"vertical":"pre-vertical",Math.max(d,c)>this.opts.pressThreshold&&clearTimeout(null!==(l=this.longPressTimer)&&void 0!==l?l:void 0),this.fire("panmove",t)}"mousemove"!==t.type&&null!=this.touchMove1&&null!=this.touchMove2&&(this.newDistance=Math.sqrt(Math.pow(this.touchMove2.screenX-this.touchMove1.screenX,2)+Math.pow(this.touchMove2.screenY-this.touchMove1.screenY,2)),this.scale=this.newDistance/(null!==(u=this.originalDistance)&&void 0!==u?u:0),this.fire("pinch",t),this.newAngle=Math.atan2((null!==(r=this.touchMove2.screenY)&&void 0!==r?r:0)-(null!==(d=this.touchMove1.screenY)&&void 0!==d?d:0),(null!==(c=this.touchMove2.screenX)&&void 0!==c?c:0)-(null!==(a=this.touchMove1.screenX)&&void 0!==a?a:0))/(Math.PI/180),this.rotation=this.newAngle-(null!==(v=this.originalAngle)&&void 0!==v?v:0),this.fire("rotate",t))}onTouchEnd(t){var i,e,o,s,h,n,l,u,r,d;let c;if("mouseup"!==t.type&&(c=[...t.changedTouches].find((t=>{var i;return t.identifier===(null===(i=this.touch1)||void 0===i?void 0:i.identifier)})),[...t.touches].find((t=>{var i;return t.identifier===(null===(i=this.touch1)||void 0===i?void 0:i.identifier)}))||(this.touch1=null,this.touchMove1=null),[...t.touches].find((t=>{var i;return t.identifier===(null===(i=this.touch2)||void 0===i?void 0:i.identifier)}))||(this.touch2=null,this.touchMove2=null)),"mouseup"!==t.type||this.touchStartX&&null===this.touchEndX){if("mouseup"===t.type||c){this.touchEndX="mouseup"===t.type?t.screenX:null!==(i=null==c?void 0:c.screenX)&&void 0!==i?i:0,this.touchEndY="mouseup"===t.type?t.screenY:null!==(e=null==c?void 0:c.screenY)&&void 0!==e?e:0,this.fire("panend",t),clearTimeout(null!==(o=this.longPressTimer)&&void 0!==o?o:void 0);const a=this.touchEndX-(null!==(s=this.touchStartX)&&void 0!==s?s:0),v=Math.abs(a),p=this.touchEndY-(null!==(h=this.touchStartY)&&void 0!==h?h:0),m=Math.abs(p),T=Math.sqrt(Math.pow(a,2)+Math.pow(p,2)),g=Math.abs(T),M=m/v;v>this.thresholdX||m>this.thresholdY||this.opts.diagonalSwipes&&(g>this.thresholdX||g>this.thresholdY)?(this.swipedHorizontal=v>this.thresholdX||this.opts.diagonalSwipes&&g>this.thresholdX,this.swipedVertical=m>this.thresholdY||this.opts.diagonalSwipes&&g>this.thresholdY,(!this.opts.diagonalSwipes||M<Math.tan((45-this.opts.diagonalLimit)*Math.PI/180)||M>Math.tan((45+this.opts.diagonalLimit)*Math.PI/180))&&(v>=m&&(this.swipedVertical=!1),m>v&&(this.swipedHorizontal=!1)),this.swipedHorizontal&&(a<0?((null!==(n=this.velocityX)&&void 0!==n?n:0)<-this.opts.velocityThreshold||T<-this.disregardVelocityThresholdX)&&this.fire("swipeleft",t):((null!==(l=this.velocityX)&&void 0!==l?l:0)>this.opts.velocityThreshold||T>this.disregardVelocityThresholdX)&&this.fire("swiperight",t)),this.swipedVertical&&(p<0?((null!==(u=this.velocityY)&&void 0!==u?u:0)<-this.opts.velocityThreshold||T<-this.disregardVelocityThresholdY)&&this.fire("swipeup",t):((null!==(r=this.velocityY)&&void 0!==r?r:0)>this.opts.velocityThreshold||T>this.disregardVelocityThresholdY)&&this.fire("swipedown",t))):v<this.opts.pressThreshold&&m<this.opts.pressThreshold&&(this.doubleTapWaiting?(this.doubleTapWaiting=!1,clearTimeout(null!==(d=this.doubleTapTimer)&&void 0!==d?d:void 0),this.fire("doubletap",t)):(this.doubleTapWaiting=!0,this.doubleTapTimer=setTimeout((()=>this.doubleTapWaiting=!1),this.opts.doubleTapTime),this.fire("tap",t)))}this.touch1||this.touch2||(this.fire("pinchend",t),this.fire("rotateend",t),this.originalDistance=null,this.newDistance=null,this.scale=null,this.originalAngle=null,this.newAngle=null,this.rotation=null)}}}t.defaults={threshold:(t,i)=>Math.max(25,Math.floor(.15*("x"===t?window.innerWidth||document.body.clientWidth:window.innerHeight||document.body.clientHeight))),velocityThreshold:10,disregardVelocityThreshold:(t,i)=>Math.floor(.5*("x"===t?i.element.clientWidth:i.element.clientHeight)),pressThreshold:8,diagonalSwipes:!1,diagonalLimit:15,longPressTime:500,doubleTapTime:300,mouseSupport:!0};let i=!1;try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){i={passive:!0}}}))}catch(t){}return{T:t}}));
SML.dm("CF9Lfnln",["DAgRafdt","DSWSCRFk","CU4mObWU","OAEZpqSu"],(async(e,t,i,o)=>{const s=(e,t,{parentBoundary:i=document.documentElement,root:a=document,cache:n=new Set})=>{const r=a.elementsFromPoint(e,t),h=[];for(const e of r)if(!n.has(e)){if(!o.aa(i,e))break;h.push(e),n.add(e)}const l=[];for(const i of h)i.shadowRoot&&l.push(...s(e,t,{parentBoundary:i,root:i.shadowRoot,cache:n}));return[...h,...l]};class a{get inSwipe(){return this._inSwipe}set inSwipe(e){this._inSwipe!==e&&(this._inSwipe=e,this.host.requestUpdate("inSwipe",!this._inSwipe))}constructor(e,{recognitionThreshold:t=10,mouseSupport:i=!1}={recognitionThreshold:10,mouseSupport:!1}){this.host=e,this.mouseSupport=!1,this.rafId=null,this._inSwipe=!1,this.protectScrollInterference=!0,this.recognitionThreshold=t,this.mouseSupport=i}clearRaf(){this.rafId&&(cancelAnimationFrame(this.rafId),this.rafId=null)}addListeners(e){this.gesture=new i.T(e,{mouseSupport:this.mouseSupport}),this.gesture.on("panstart",this.handleTouchStart.bind(this)),this.gesture.on("panmove",this.handleTouchMove.bind(this)),this.gesture.on("panend",this.handleTouchEnd.bind(this))}removeListeners(){this.gesture?.destroy()}reset(){const e=this.gesture?.element;e&&(this.removeListeners(),this.addListeners(e))}handleTouchStart(e){this.clearRaf(),this.gesture&&this.host.handleSwipeMayStart?.(this.gesture)}handleTouchMove(t){if(this.clearRaf(),!this.gesture)return;const i=(this.gesture.touchMoveY??0)<=0;if(!this.inSwipe&&Math.abs((this.gesture.touchStartY??0)-(this.gesture.touchEndY??0))>this.recognitionThreshold){if(this.protectScrollInterference){const[o,a]=n(t),r=s(o,a,{parentBoundary:this.gesture.element}).filter((t=>t instanceof HTMLElement&&e.hc(t)));if(i&&r.some((t=>!e.hd(t)))||!i&&r.some((t=>!e.he(t))))return this.reset()}!1!==this.host.handleSwipeWillStart?.({...this.gesture,swipeDirection:i?"up":"down"})?(this.inSwipe=!0,this.host.handleSwipeProgress?.({...this.gesture,swipeDirection:i?"up":"down"})):this.reset()}this.inSwipe&&this.gesture&&(this.rafId=requestAnimationFrame((()=>{this.host.handleSwipeProgress?.({...this.gesture,swipeDirection:i?"up":"down"})})))}handleTouchEnd(e){this.gesture&&(this.clearRaf(),this.inSwipe=!1,this.host.handleSwipeEnd?.(this.gesture))}disableScrollInterferenceProtection(){this.protectScrollInterference=!1}enableScrollInterferenceProtection(){this.protectScrollInterference=!0}}const n=e=>e instanceof MouseEvent?[e.clientX,e.clientY]:[e.touches[0].clientX,e.touches[0].clientY],r="expanded",h="normal",l="docked";var d=t.i`${e.X}:host{--transition-duration:250ms;display:contents}.dialog{--bottom-sheet-docked-height:'auto';--bottom-sheet-normal-height:'auto';--bottom-sheet-height:var(--bottom-sheet-normal-height)}.dialog{--bottom-sheet-expanded-height:85vh}@supports (height:95dvh){.dialog{--bottom-sheet-expanded-height:95dvh}}.dialog.state-normal{--bottom-sheet-height:1fr}.dialog.state-docked{--bottom-sheet-height:var(--bottom-sheet-docked-height)}.dialog.state-expanded{--bottom-sheet-height:var(--bottom-sheet-expanded-height)}.dialog{display:flex;align-items:center;justify-content:center;position:fixed;inset:0;z-index:var(--z-index-dialog,1000);user-select:none;pointer-events:none;width:100vw}.dialog-panel{display:grid;grid-template-rows:auto var(--bottom-sheet-height);grid-auto-flow:column;position:fixed;z-index:2;bottom:0;right:0;touch-action:none;transform:translateY(100%);max-height:var(--bottom-sheet-expanded-height);width:100%;background-color:var(--color-ui-modalbackground);border-start-start-radius:var(--radius-md);border-start-end-radius:var(--radius-md);box-shadow:var(--boxshadow-modal);transition:--bottom-sheet-height var(--transition-duration) ease,grid-template-rows var(--transition-duration) ease,transform var(--transition-duration) ease}.dialog.reflect-gesture .dialog-panel{grid-template-rows:auto var(--bottom-sheet-forced-height);transition:none}.dialog-variant-plain .dialog-panel{max-width:100%;max-height:100%;background-color:transparent;border-radius:initial;box-shadow:initial}.dialog-panel:focus{outline:0}.dialog-open{user-select:auto}.dialog-open .dialog-overlay,.dialog-open .dialog-panel{pointer-events:auto}.dialog-open .dialog-panel{opacity:1;transform:translateY(0)}.dialog-overlay{position:fixed;inset:0;background-color:rgba(0,0,0,.5)}.dialog-overlay-blur{backdrop-filter:blur(var(--dialog-backdrop-blur, 4px))}.dialog-overlay-no-modal{display:none}.handle-container{display:flex;justify-content:center;align-items:flex-end;width:100%}.handle-container-inside{--handle-color:var(--color-neutral-border);padding-top:var(--rem8);padding-bottom:var(--rem4)}.handle-container-outside{--handle-color:var(--color-global-white);padding-bottom:var(--rem8);padding-top:var(--rem4);position:relative;top:-16px}.handle{display:block;background:var(--handle-color);width:var(--rem48);height:var(--rem4);border-radius:10000rem}`;let c=class extends e.hf{constructor(){super(...arguments),this.resizeController=new e.hg(this,{callback:()=>this.updateDimensions,elements:{slottedElement:()=>this.slottedElement,styledDialogChildWithHeader:()=>this.styledDialogChildWithHeader,panel:()=>this.panelRef.value}}),this.gestureController=new a(this,{recognitionThreshold:10}),this.slottedElement=null,this.styledDialogChildWithHeader=null,this.handleContainer=e.C(),this.animationNames={show:"bottomSheet.show",hide:"bottomSheet.hide",denyClose:"bottomSheet.denyClose",denyExpand:"bottomSheet.denyExpand",overlayShow:"bottomSheet.overlay.show",overlayHide:"bottomSheet.overlay.hide"},this.openState=h,this.dockable=!1,this.expandable=!1,this.handleDockButtonClicked=e=>{e.stopPropagation(),this.open&&(this.isDocked?this.undock():this.dock())},this.updateDimensions=async e=>{const t=this.slottedElement;t&&e.some((e=>e.target===t))&&this.slottedElement&&this.styledDialogChildWithHeader&&this.updateDockedHeight(),this.requestUpdate(),this.emitter.dispatch("resize")}}get isDocked(){return this.openState===l}get isExpanded(){return this.openState===r}get isNormal(){return this.openState===h}addOpenListeners(){super.addOpenListeners(),this.resizeController.observeAllElements(),this.portalContainer.addEventListener("rpl-modal-card:dock-button-clicked",this.handleDockButtonClicked),this.panelRef.value&&this.gestureController.addListeners(this.panelRef.value)}removeOpenListeners(){super.removeOpenListeners(),this.resizeController.unobserveAllElements(),this.gestureController.removeListeners(),this.portalContainer.removeEventListener("rpl-modal-card:dock-button-clicked",this.handleDockButtonClicked)}willUpdate(e){return e.has("dockable")&&!this.dockable&&this.isDocked&&(this.dockable=!0),e.has("expandable")&&!this.expandable&&this.isExpanded&&(this.expandable=!0),e.has("openState")&&this.isExpanded&&!this.expandable&&(this.openState=e.get("openState")??h),e.has("openState")&&this.isDocked&&!this.dockable&&(this.openState=e.get("openState")??h),(e.get("openState")||e.get("dockable"))&&this.styledDialogChildren.size>0&&this.styledDialogChildren.forEach((e=>{e.dockable=this.dockable,e.docked=this.isDocked})),e.has("openState")&&(this.isDocked?this.gestureController.disableScrollInterferenceProtection():this.gestureController.enableScrollInterferenceProtection()),super.willUpdate(e)}getCachedHeightContainer(e){return["forced","forcedInitial"].includes(e)?this.panelRef.value:this.dialogRef.value}setCachedHeight(e,t){this.getCachedHeightContainer(e)?.style.setProperty(p[e],t)}getCachedHeight(e){const t=this.getCachedHeightContainer(e);return t?getComputedStyle(t).getPropertyValue(p[e])??"auto":"auto"}async updateDockedHeight(){if(!this.styledDialogChildWithHeader)return;if(await e.hh(this.styledDialogChildWithHeader),!this.styledDialogChildWithHeader)return;const t=this.styledDialogChildWithHeader.headerHeight,i=this.handleContainer.value?.clientHeight??16;t&&this.setCachedHeight("docked",`${t+i}px`)}async expand(){if(!this.open||!this.expandable||this.isExpanded||!this.panelRef.value)return;!this.emitter.dispatch("open-state-changed",{cancelable:!0,detail:{openState:r}})||(this.openState=r)}async collapse(){if(!this.open||!this.isExpanded||!this.panelRef.value)return;!this.emitter.dispatch("open-state-changed",{cancelable:!0,detail:{openState:h}})||(this.openState=h)}async dock(){if(!this.open||!this.dockable||this.isDocked||!this.panelRef.value)return;!this.emitter.dispatch("open-state-changed",{cancelable:!0,detail:{openState:l}})||(this.openState=l)}async undock(){if(!this.open||!this.isDocked||!this.panelRef.value)return;!this.emitter.dispatch("open-state-changed",{cancelable:!0,detail:{openState:h}})||(this.openState=h)}handleSwipeMayStart(){this.setCachedHeight("forcedInitial",`${this.panelRef?.value?.clientHeight}px`),this.setCachedHeight("forced",`var(${p.forcedInitial})`)}handleSwipeWillStart({swipeDirection:e}){return!("down"===e&&this.blocking&&!this.isExpanded||"up"===e&&!this.expandable)}handleSwipeProgress({swipeDirection:e,touchMoveY:t}){null===t||this.isExpanded&&"up"===e||this.setCachedHeight("forced",`calc(var(${p.forcedInitial}) - ${t??0}px)`)}handleSwipeEnd({touchMoveY:t,thresholdY:i}){if(!this.open||null==t)return;const o=t>=i,s=t<=-i;if(o&&this.isExpanded)this.collapse();else if(o&&this.isNormal)this.requestClose("gesture");else if(s&&this.isDocked)this.undock();else if(s&&this.isNormal&&this.expandable)this.expand();else if(s&&!this.isExpanded&&!this.expandable&&this.panelRef.value){const{keyframes:t,options:i}=e.bD(this,this.animationNames.denyExpand);e.bE(this.panelRef.value,t,i)}}handleSlotChange(e){this.styledDialogChildWithHeader=null,this.slottedElement=this.portalContainer.firstElementChild,this.slottedElement&&this.resizeController.replaceObservedElement("slottedElement")}handleDialogChildConnected(t){t.appearance="bottom-sheet",t.dockable=this.dockable,t.docked="docked"===this.openState,e.hi(t)&&"headerHeight"in t&&(this.styledDialogChildWithHeader=t,this.resizeController.replaceObservedElement("styledDialogChildWithHeader"),this.updateDockedHeight())}handleDialogChildDisconnected(e){}renderDialogBaseClasses(){return{"reflect-gesture":this.gestureController.inSwipe,[`state-${this.openState}`]:!0}}renderTopOfDialog(){return t.x`<div class="${e.x({"handle-container":!0,["handle-container-"+(this.open&&this.modal.disableFocusTrap?"inside":"outside")]:!0})}" part="handle-container" ${e.H(this.handleContainer)}> <div class="handle"></div> </div>`}};c.styles=d,t._([t.n({type:String,reflect:!0,attribute:"open-state"})],c.prototype,"openState",void 0),t._([t.n({type:Boolean,reflect:!0})],c.prototype,"dockable",void 0),t._([t.n({type:Boolean,reflect:!0})],c.prototype,"expandable",void 0),c=t._([t.c("rpl-bottom-sheet")],c);const p={forced:"--bottom-sheet-forced-height",forcedInitial:"--bottom-sheet-forced-initial-height",currentHeight:"--bottom-sheet-current-height",[l]:"--bottom-sheet-docked-height"},u=250;return e.bA("bottomSheet.show",{keyframes:[{opacity:0,transform:"translateY(100%)"},{opacity:1,transform:"translateY(0%)"}],options:{duration:u,easing:"ease"}}),e.bA("bottomSheet.hide",{keyframes:[{opacity:1,transform:"translateY(0%)",maxHeight:"var(--bottom-sheet-forced-height)"},{opacity:0,transform:"translateY(100%)",maxHeight:"var(--bottom-sheet-forced-height)"}],options:{duration:u,easing:"ease"}}),e.bA("bottomSheet.denyClose",{keyframes:[{transform:"translateY(0%)"},{transform:"translateY(4%)"},{transform:"translateY(0%)"}],options:{duration:u,easing:"ease-in"}}),e.bA("bottomSheet.denyExpand",{keyframes:[{height:"var(--bottom-sheet-forced-height)"},{height:"var(--bottom-sheet-height)",transform:"translateY(0%)",offset:.2},{height:"var(--bottom-sheet-height)",transform:"translateY(4%)",offset:.5},{height:"var(--bottom-sheet-height)",transform:"translateY(0%)"}],options:{duration:375,easing:"ease-in"}}),e.bA("bottomSheet.overlay.show",{keyframes:[{opacity:0},{opacity:1}],options:{duration:u}}),e.bA("bottomSheet.overlay.hide",{keyframes:[{opacity:1},{opacity:0}],options:{duration:u}}),{get R(){return c}}}));
SML.dm("DV50IcE5",["DAgRafdt","DSWSCRFk","OAEZpqSu","CF9Lfnln","CU4mObWU"],(async(e,t,a,i)=>{var n=t.i`${e.X}:host{display:contents}`;let l=class extends e.Y{constructor(){super(...arguments),this.nonSyncedPropNames=["variant","litTemplateChildren","overlayBlur","dialogId","dialogClassName","blocking","disableCacheContents","noAnimate"],this.isTouchOnly=new a.cS(this,"(pointer: coarse)"),this.isLargeWidth=new a.cS(this,"(width >= 640px)"),this.dialogRef=e.C(),this.panelRef=e.C(),this.overlayRef=e.C(),this.open=!1,this.overlayBlur=!0,this.dialogId="",this.dialogClassName="",this.label="",this.blocking=!1,this.noAnimate=!1,this.disableCacheContents=!1,this.openState="normal",this.dataPersistent=!1,this.expandable=!1,this.redispatchableEventNames=[]}setElementRef(t){(t instanceof e.ho||t instanceof i.R)&&(this.elementRef&&this.elementRef.removeEventListener(`${this.tagName.toLowerCase()}:internal-update`,this.handleInternalSync),this.elementRef=t,this.elementRef.addEventListener(`${this.tagName.toLowerCase()}:internal-update`,this.handleInternalSync))}get rplBottomSheet(){return this.elementRef instanceof i.R?this.elementRef:void 0}get rplDialog(){return this.elementRef instanceof e.ho?this.elementRef:void 0}get portalContainer(){if(!this.elementRef)throw new Error("[RPLDialogSheet]: The .portalContainer is not available until after the component has rendered.");return this.elementRef.portalContainer}get portalShadowRoot(){if(!this.elementRef)throw new Error("[RPLDialogSheet]: The .portalShadowRoot is not available until after the component has rendered.");return this.elementRef.portalShadowRoot}set litTemplateChildren(e){this._litTemplateChildren=e,this.elementRef&&e&&(this.elementRef.litTemplateChildren=e)}get litTemplateChildren(){return this._litTemplateChildren}async expand(){return this.rplBottomSheet?.expand()}async collapse(){return this.rplBottomSheet?.collapse()}async showModal(){return this.elementRef?.showModal()}checkFocus(){return this.elementRef?.checkFocus()}async show(){return this.elementRef?.show()}async hide(){return this.elementRef?.hide()}get currentVariant(){if(this.forceVariant)return this.forceVariant;const{isTouchOnly:e,isLargeWidth:t}=this;return e.matches&&!t.matches?"bottom-sheet":"dialog"}handleInternalSync(e){const t=e;t.stopImmediatePropagation();for(const e of t.detail)!this.nonSyncedPropNames.includes(e.key)&&e.key in this&&e.newValue!==this[e.key]&&(this[e.key]=e.newValue)}renderDialog(){return t.x`<rpl-dialog .eventNamespaceOverride="${this.tagName.toLowerCase()}" .dialogRef="${this.dialogRef}" .panelRef="${this.panelRef}" .overlayRef="${this.overlayRef}" .litTemplateChildren="${this.litTemplateChildren}" .open="${this.open}" .overlayBlur="${this.overlayBlur}" .dialogId="${this.dialogId}" .dialogClassName="${this.dialogClassName}" .label="${this.label}" .blocking="${this.blocking}" .disableCacheContents="${this.disableCacheContents}" .noAnimate="${this.noAnimate}" .dataPersistent="${this.dataPersistent}" .redispatchableEventNames="${this.redispatchableEventNames}" @rpl-dialog-sheet:internal-sync="${this.handleInternalSync}" ${e.H(this.setElementRef)}> <slot></slot> </rpl-dialog>`}renderBottomSheet(){return t.x`<rpl-bottom-sheet .eventNamespaceOverride="${this.tagName.toLowerCase()}" .dialogRef="${this.dialogRef}" .panelRef="${this.panelRef}" .overlayRef="${this.overlayRef}" .litTemplateChildren="${this.litTemplateChildren}" .open="${this.open}" .overlayBlur="${this.overlayBlur}" .dialogId="${this.dialogId}" .dialogClassName="${this.dialogClassName}" .label="${this.label}" .blocking="${this.blocking}" .disableCacheContents="${this.disableCacheContents}" .noAnimate="${this.noAnimate}" .openState="${this.openState}" .dockable="${!1}" .expandable="${this.expandable}" .dataPersistent="${this.dataPersistent}" .redispatchableEventNames="${this.redispatchableEventNames}" @rpl-dialog-sheet:internal-sync="${this.handleInternalSync}" ${e.H(this.setElementRef)}> <slot></slot> </rpl-bottom-sheet>`}render(){return"dialog"===this.currentVariant?this.renderDialog():this.renderBottomSheet()}};l.styles=n,t._([t.n({type:String,reflect:!0,attribute:"force-variant"})],l.prototype,"forceVariant",void 0),t._([t.n({type:Boolean,reflect:!0})],l.prototype,"open",void 0),t._([t.n({type:Boolean,reflect:!0,attribute:"overlay-blur"})],l.prototype,"overlayBlur",void 0),t._([t.n({reflect:!0,attribute:"dialog-id"})],l.prototype,"dialogId",void 0),t._([t.n({reflect:!0,attribute:"dialog-classname"})],l.prototype,"dialogClassName",void 0),t._([t.n({reflect:!0})],l.prototype,"label",void 0),t._([t.n({type:Boolean})],l.prototype,"blocking",void 0),t._([t.n({type:Boolean,attribute:"no-animate"})],l.prototype,"noAnimate",void 0),t._([t.n({type:Boolean,reflect:!0,attribute:"disable-cache-contents"})],l.prototype,"disableCacheContents",void 0),t._([t.n({type:String,reflect:!0,attribute:"open-state"})],l.prototype,"openState",void 0),t._([t.n({type:Boolean,reflect:!0,attribute:"data-persistent"})],l.prototype,"dataPersistent",void 0),t._([t.n({type:Boolean,reflect:!0})],l.prototype,"expandable",void 0),t._([t.n({attribute:"redispatchable-event-names",type:Array})],l.prototype,"redispatchableEventNames",void 0),t._([t.b()],l.prototype,"litTemplateChildren",null),l=t._([t.c("rpl-dialog-sheet")],l)}));
SML.dm("ClDT0gYR",["DSWSCRFk","DAgRafdt","OAEZpqSu"],(async(e,a,t)=>{let p=class extends(t.W(e.s)){constructor(){super(...arguments),this.pages=0,this.for=void 0}get pageIndex(){return super.pageIndex}set pageIndex(e){super.pageIndex=e}get pageNames(){return super.pageNames}set pageNames(e){super.pageNames=e}static get styles(){return e.i`:host{display:block}.page{display:none}.active{display:block}`}render(){if(this.pages<1)return;const{pageNames:p}=this;return e.x` <div aria-roledescription="carousel"> ${t.b(this.pages).map((t=>e.x` <div role="tabpanel" class="${a.x({page:!0,active:t===this.pageIndex})}"> <slot name="${p?p[t-1]:`page-${t}`}"></slot> </div> `))} </div> `}pageIndexChangedCallback(e){super.pageIndexChangedCallback(e),this.requestUpdate("pageIndex",e)}};return e._([e.n({type:Number})],p.prototype,"pages",void 0),e._([e.n({type:Number,attribute:"pageindex"})],p.prototype,"pageIndex",null),e._([e.n({converter:a.y,attribute:"pagenames"})],p.prototype,"pageNames",null),e._([e.n({type:String})],p.prototype,"for",void 0),p=e._([e.c("faceplate-tabpanel")],p),{get F(){return p}}}));
SML.dm("Cvv8S0Po",["DSWSCRFk","DAgRafdt","OAEZpqSu"],(async(e,t,a)=>{let s=class extends(a.W(t.au)){constructor(){super(...arguments),this.pages=0,this.for=void 0,this._events=new t.E(this),this._windowEvents=new t.E(this,(()=>window)),this._locationHashMap=new Map,this._selectedElements=new Set,this._activeSlotRef=t.C(),this._handleHashChange=this._windowEvents.define("hashchange",(()=>{const e=this._locationHashMap.get(window.location.hash);e&&(this.pageIndex=e)})),this._handleClick=this._events.define("click",(e=>{let t=null;e.target instanceof HTMLAnchorElement&&(t=e.target.getAttribute("href"),t&&"#"!==t[0]&&(t=null)),null!==t&&(e.preventDefault(),e.stopPropagation());const a=e.composedPath();for(let e=0;e<a.length;e++){const s=a[e];if(s instanceof HTMLSpanElement){const e=this.getPageIndexFromSpanWrapper(s);if(t){const e=new URL(window.location.href);e.hash=t,window.history.pushState(null,"",e.href)}if(0!==e){this.pageIndex=e;break}}}})),this._handleKeydown=this._events.define("keydown",(e=>{if("ArrowLeft"===e.key)this.previousPage();else{if("ArrowRight"!==e.key)return;this.nextPage()}e.preventDefault(),e.stopPropagation()}))}get pageIndex(){return super.pageIndex}set pageIndex(e){super.pageIndex=e}get pageNames(){return super.pageNames}set pageNames(e){super.pageNames=e}render(){if(this.pages<1)return e.x``;const{pageNames:s}=this;return e.x` <div class="tablist" role="tablist"> ${a.b(this.pages).map((a=>e.x` <span data-i="${a}" role="tab" aria-selected="${a===this.pageIndex?"true":"false"}"> <slot @slotchange="${this.handleSlotChange}" name="${s?s[a-1]:`page-${a}`}" ${a===this.pageIndex?t.H(this._activeSlotRef):""}></slot> </span> `))} </div> `}updated(e){if(e.has("pageIndex")){this._clearSelectedAttributes();const e=this._activeSlotRef.value;if(!e)return;for(const t of e.assignedElements())this._setSelectedAttribute(t),t.focus()}}_clearSelectedAttributes(){if(this._selectedElements.size){for(const e of this._selectedElements)e.removeAttribute("faceplate-tab-selected");this._selectedElements.clear()}}_setSelectedAttribute(e){this._selectedElements.add(e),e.setAttribute("faceplate-tab-selected","")}handleSlotChange(e){const{hash:t}=window.location,a=e.target;if(!(a.parentElement instanceof HTMLSpanElement))return;const s=a.assignedElements(),n=this.getPageIndexFromSpanWrapper(a.parentElement),i=n===this.pageIndex;if(i&&this._clearSelectedAttributes(),s.length)for(const e of s){if(i&&this._setSelectedAttribute(e),!(e instanceof HTMLAnchorElement))continue;const a=e.getAttribute("href");a&&(this._locationHashMap.set(a,n),a===t&&(this.pageIndex=n))}}getPageIndexFromSpanWrapper(e){return e.dataset.i?parseInt(e.dataset.i,10):0}pageIndexChangedCallback(e){super.pageIndexChangedCallback(e),this.requestUpdate("pageIndex",e)}};return e._([e.n({type:Number})],s.prototype,"pages",void 0),e._([e.n({type:Number,attribute:"pageindex"})],s.prototype,"pageIndex",null),e._([e.n({type:String})],s.prototype,"for",void 0),e._([e.n({converter:t.y,attribute:"pagenames"})],s.prototype,"pageNames",null),e._([e.D(".tablist")],s.prototype,"tabList",void 0),s=e._([e.c("faceplate-tablist")],s),{get F(){return s}}}));
SML.dm("BvOdghwp",["DSWSCRFk","Cvv8S0Po","OAEZpqSu","DAgRafdt"],(async(t,e,i,n)=>{var a;let s=a=class extends e.F{constructor(){super(...arguments),this._setup=!1,this._bbwidth=0,this._fbwidth=0,this._forwardButtonVisible=!0,this._backButtonVisible=!1,this.selectedClasses=["bg-secondary-background-selected","!text-neutral-content-strong","tab-selected"],this.appearance="fill",this.insetHug=!1,this.underline=!1,this._mutationCallback=t=>{for(const e of t)if("attributes"===e.type&&"faceplate-tab-selected"===e.attributeName&&e.target.nodeType===Node.ELEMENT_NODE){e.target.hasAttribute("faceplate-tab-selected")?this._handleTabSelected(e.target):this._handleTabDeselected(e.target)}},this._setupButtons=()=>{this._setup&&(this.backButtonElements[0]?.removeEventListener("click",this._handleBackButtonClick),this.style.removeProperty("--back-button-width"),this.forwardButtonElements[0]?.removeEventListener("click",this._handleForwardButtonClick),this.style.removeProperty("--forward-button-width")),this.backButtonElements[0]instanceof HTMLElement&&(this._backButtonVisible||this.backButton?.removeAttribute("hidden"),this._bbwidth=this.backButton.clientWidth,this._backButtonVisible||this.backButton?.setAttribute("hidden",""),this.style.setProperty("--back-button-width",`${this._bbwidth}px`),this.backButtonElements[0].addEventListener("click",this._handleBackButtonClick)),this.forwardButtonElements[0]instanceof HTMLElement&&(this._forwardButtonVisible||this.forwardButton?.removeAttribute("hidden"),this._fbwidth=this.forwardButton.clientWidth,this._forwardButtonVisible||this.backButton?.setAttribute("hidden",""),this.style.setProperty("--forward-button-width",`${this._fbwidth}px`),this.forwardButtonElements[0].addEventListener("click",this._handleForwardButtonClick))},this._handleContainerScroll=()=>{this._backButtonVisible=0!==Math.floor(this._containerLeft),this._forwardButtonVisible=Math.round(this._containerBaseRight)!==Math.round(this.container?.scrollWidth??0)},this._handleBackButtonClick=t=>{t.preventDefault(),t.stopPropagation();const e=this._tabs,i=this._leftmostVisibleTab,n=e[i];if(null==n)return;let s=n.right-(this.container?.clientWidth??0);i!==e.length-1&&(s+=(this._fbwidth??0)-a.tabSpacing.raw),this.container?.scroll({behavior:"smooth",left:s})},this._handleForwardButtonClick=t=>{t.preventDefault(),t.stopPropagation();const e=this._tabs,i=this._rightmostVisibleTab,n=e[i];if(null==n)return;let s=n.left;0!==i&&(s-=(this._bbwidth??0)+a.tabSpacing.raw),this.container?.scroll({behavior:"smooth",left:s})},this._scrollToSelected=()=>{const t=this._tabs,e=t.findIndex((t=>"true"===t.el.getAttribute("aria-selected"))),i=t[e];if(null==i)return;const n=i.right-i.left,a=(this.container?.clientWidth??0)-(this._bbwidth+this._fbwidth),s=i.left-this._bbwidth-a/2+n/2;this.container?.scroll({behavior:"smooth",left:s})}}connectedCallback(){super.connectedCallback(),this._mutationObserver=new MutationObserver(this._mutationCallback),this._mutationObserver.observe(this,a.mutationObserverOptions)}disconnectedCallback(){super.disconnectedCallback(),this._mutationObserver.disconnect()}firstUpdated(t){super.firstUpdated(t),this._setupAll()}_setupAll(){this._setup&&this.container&&(this.container.removeEventListener("scroll",this._handleContainerScroll),this._resizeObserver?.unobserve(this.container)),this.container?.addEventListener("scroll",this._handleContainerScroll),this.container?.removeEventListener("resize",this._setupAll),this._setupButtons(),this._resizeObserver||(this._resizeObserver=new ResizeObserver(this._handleContainerScroll)),this.container&&this._resizeObserver?.observe(this.container),this._setup||(this.style.setProperty("--anim-duration","0ms"),this._handleContainerScroll(),requestAnimationFrame((()=>{this.style.removeProperty("--anim-duration")}))),this._setup=!0}_handleTabSelected(t){let e=this.selectedClasses;t.classList.contains("tab-bottom-border")&&t.hasAttribute("rpl")&&(e=e?.filter((t=>"bg-secondary-background-selected"!==t))),t.classList.add(...e??[]),t.tabIndex=0,this._scrollToSelected()}_handleTabDeselected(t){t.tabIndex=-1,t.classList.remove(...this.selectedClasses??[])}get _containerBaseWidth(){return this.container?.clientWidth??0}get _containerBaseLeft(){return this.container?.scrollLeft??0}get _containerLeft(){return 0===this._containerBaseLeft?this._containerBaseLeft:this._containerBaseLeft+(this.backButton?.clientWidth??0)+a.tabSpacing.raw}get _containerBaseRight(){return this._containerBaseLeft+this._containerBaseWidth}get _containerRight(){return this._containerBaseRight===this.container?.scrollWidth?this._containerBaseRight:this._containerBaseRight-((this.forwardButton?.clientWidth??0)+a.tabSpacing.raw)}get _rightmostVisibleTab(){const t=this._tabs;let e=0,i=0;for(let i=t.length-1;i>=0;i--)if(t[i]?.isVisible){e=i;break}if(0===e)for(let i=t.length-1;i>=0;i--)if(t[i]?.partiallyVisible){e=i;break}for(const[e,n]of t.entries()){const a=t[i];n.partiallyVisible&&a&&n.right>a.right&&(i=e)}return i<=e&&e<t.length-1?e+1:t[i]?.isVisible&&i!==t.length-1?i+1:i}get _leftmostVisibleTab(){const t=this._tabs;let e=t.length-1,i=t.length-1;for(let i=0;i<t.length;i++)if(t[i]?.isVisible){e=i;break}if(e===t.length-1)for(let i=0;i<t.length;i++)if(t[i]?.partiallyVisible){e=i;break}for(const[e,n]of t.entries()){const a=t[i];n.partiallyVisible&&a&&n.left<a.left&&(i=e)}return i>=e&&e>0?e-1:t[i]?.isVisible&&0!==i?i-1:i}get _tabs(){const{pageNames:t}=this,e=[];for(const n of i.b(this.pages)){const i=t?t[n-1]:`page-${n}`,a=this.shadowRoot.querySelector(`slot[name="${i}"]`).parentElement,s=a.offsetLeft,r=a.offsetLeft+a.offsetWidth,o=s>this._containerLeft&&s<this._containerRight||r<this._containerRight&&r>this._containerLeft,l=s>this._containerLeft&&r<this._containerRight||s<this._containerLeft&&r>this._containerRight;e.push({el:a,left:s,right:r,isVisible:l,partiallyVisible:o})}return e}render(){const e=super.render();return t.x`<div class="container"> ${e} <div class="${n.x({internalButton:!0,internalForwardButton:!0,hideable:!0,hidden:!this._forwardButtonVisible})}" @resize="${this._setupButtons}"> <slot name="forward-button" @slotchange="${this._setupButtons}"></slot> </div> <div class="${n.x({internalButton:!0,internalBackButton:!0,hideable:!0,hidden:!this._backButtonVisible})}" @resize="${this._setupButtons}"> <slot name="back-button" @slotchange="${this._setupButtons}"></slot> </div> </div>`}};return s.mutationObserverOptions={childList:!0,subtree:!0,attributes:!0,attributeFilter:["faceplate-tab-selected"]},s.tabSpacing={raw:8},s.backButton=()=>n.J({appearance:"plain",attributes:{type:"button",tabindex:"-1",slot:"back-button"},shape:"pill",size:n.a2.Small,leadingIcon:t.aM({size:t.q.Small}),screenReaderContent:"back"}),s.forwardButton=()=>n.J({appearance:"plain",attributes:{type:"button",tabindex:"-1",slot:"forward-button"},shape:"pill",size:n.a2.Small,leadingIcon:t.aN({size:t.q.Small}),screenReaderContent:"forward"}),s.styles=t.i`:host{--plain-background:rgba(255, 255, 255, 0);--anim-duration:300ms;--button-gap:var(--spacer-xs, 8);display:flex;width:fit-content;max-width:100%}@media (prefers-color-scheme:dark){:host{--plain-background:rgba(0, 0, 0, 0)}}@media (prefers-reduced-motion){:host{--anim-duration:0ms}}.hideable{transition:opacity var(--anim-duration,300ms) ease;visibility:visible;opacity:1}.hidden{animation-name:hide-button;animation-duration:var(--anim-duration,300ms);animation-fill-mode:forwards;opacity:0}@keyframes hide-button{from{visiblity:visible}to{visiblity:hidden;z-index:-1}}.container{width:fit-content;max-width:100%;overflow:hidden;display:flex;justify-content:center;align-items:center;flex-direction:row;flex-wrap:nowrap;position:relative}.tablist{display:flex;overflow:auto;align-items:center;flex-flow:row nowrap;gap:var(--button-gap);scroll-behavior:smooth;scrollbar-width:none}.tablist::-webkit-scrollbar{display:none}.tablist:focus-visible{outline:0}[role=tab]{display:flex;flex-shrink:0}.internalButton{position:absolute;top:0;bottom:0;display:flex;align-items:center}.internalForwardButton{inset-inline-end:0;padding-inline-start:var(--button-gap);background-image:linear-gradient(to right,var(--plain-background) 0,var(--color-neutral-background) 30%);cursor:pointer}.internalBackButton{inset-inline-start:0;padding-inline-end:var(--button-gap);background-image:linear-gradient(to left,var(--plain-background) 0,var(--color-neutral-background) 30%);cursor:pointer}:host([inset]) .container{margin:0 var(--spacer-md)}:host([appearance=fill]){--button-gap:0;width:100%}:host([appearance=fill]) .container,:host([appearance=fill]) .tablist{width:inherit}:host([appearance=fill]) [role=tab]{flex-grow:1}:host([underline]) .container::after{position:absolute;display:block;content:'';border-bottom:solid var(--rem1) var(--color-neutral-border-weak);inset-inline:0;bottom:0}`,t._([t.D(".internalForwardButton")],s.prototype,"forwardButton",void 0),t._([t.D(".internalBackButton")],s.prototype,"backButton",void 0),t._([t.D(".tablist")],s.prototype,"container",void 0),t._([t.k({slot:"forward-button"})],s.prototype,"forwardButtonElements",void 0),t._([t.k({slot:"back-button"})],s.prototype,"backButtonElements",void 0),t._([t.b()],s.prototype,"_forwardButtonVisible",void 0),t._([t.b()],s.prototype,"_backButtonVisible",void 0),t._([t.n({attribute:!1})],s.prototype,"selectedClasses",void 0),t._([t.n({attribute:!0})],s.prototype,"appearance",void 0),t._([t.n({attribute:!0,type:Boolean})],s.prototype,"insetHug",void 0),t._([t.n({attribute:!0,type:Boolean})],s.prototype,"underline",void 0),s=a=t._([t.c("faceplate-tabgroup")],s),{get F(){return s}}}));
SML.dm("B_Z23SiP",["DAgRafdt"],(async e=>{const t=e.go(),r=function(){const e=new WeakMap;let t=!1;return{get isDirty(){return t},getRegistration:(e,t,r)=>({target:e,key:t,value:r}),register({target:r,key:n,value:i}){const o=e.get(r);if(o&&!o.has(n))o.set(n,i);else{if(o)throw new Error(`Cannot register value for key ${n}; something is already registered!`);e.set(r,new Map([[n,i]]))}t=!0},unregister({target:r,key:n,value:i}){const o=e.get(r);o&&o.get(n)===i&&(o.delete(n),t=!0)},getRegisteredElements(r){const n=e.get(r);return t=!1,n},unregisterAll(r){e.delete(r),t=!0}}}(),n=e.gn("FaceplateForm"),i=n.registerAncestorClass,o=n.connectToAncestor,s=Symbol.for("mixins/form-association");function u(e){return!!e&&s in e.constructor}function a(e){return!!e&&(e instanceof HTMLInputElement||e instanceof HTMLTextAreaElement||e instanceof HTMLSelectElement||s in e.constructor)}const c=new Set(["checkbox","radio"]);function l(e){return a(e)&&c.has(e.type)||u(e)&&"checked"in e}const f=new Set(["radio"]);const d="siteRule.value",g="categoryOrRule.value";return{C:g,F:s,R:class{constructor(e){this.bottomScrollIntoViewIfNeeded=e=>{const t=e?.parentElement;if(t&&e){t.clientHeight-(e.offsetTop+e.clientHeight)<0&&e.scrollIntoView()}},this.getHiddenInputValue=e=>this.reportFormEl.querySelector(`form input[type=hidden][name="${e}"]`)?.getAttribute("value")??"",this.setHiddenInputValue=(e,t)=>this.reportFormEl.querySelector(`form input[type=hidden][name="${e}"]`)?.setAttribute("value",t)??"",this.getAllHiddenInputValues=()=>Array.from(this.reportFormEl.querySelectorAll("form input[type=hidden]")).reduce(((e,t)=>{const r=t.getAttribute("name");return r?{...e,[r]:t.getAttribute("value")??""}:e}),{}),this.getComputedValueByRef=e=>{if(e===d){const t=this.getHiddenInputValue(g);return this.getHiddenInputValue(e).includes(t)?this.getHiddenInputValue(e):""}return this.getHiddenInputValue(e)},this.checkCondition=e=>{if("object"==typeof e){const{args:t,$type:r}=e;if("computed"===r&&Array.isArray(t)){const r=t.map((e=>"object"==typeof e&&"ref"===e.$type?this.getComputedValueByRef(e.ref):e));return"neq"===e.function?String(r[0])!==String(r[1]):String(r[0])===String(r[1])}if("ref"===r&&e.ref)return this.getHiddenInputValue(e.ref)}return!1},this.getComputedProp=e=>{if("computed"===e.$type&&"conditionalSelect"===e.function&&e.conditions&&e.values){const t=e.conditions;for(const[r,n]of t.entries())if(!0===n||"boolean"!=typeof n&&this.checkCondition(n))return e.values[r]}return e},this.getText=e=>{if(this.isString(e))return e;const t=this.getComputedProp(e);return this.isString(t)?t:""},this.getAction=e=>this.getComputedProp(e),this.getDisabledCondition=e=>!!this.checkCondition(this.getComputedProp(e)),this.getTextDataRef=e=>{const t=e.conditions?.[0];if(t&&"boolean"!=typeof t){const e=t.args;if(Array.isArray(e)&&!this.isString(e[0]))return e[0].ref}return""},this.getDisabledRef=e=>{const t=e.args;if(t&&Array.isArray(t)&&!this.isString(t[0]))return[t[0].ref];const r=e.values;return r?r.map((e=>e.args[0].ref)):void 0},this.isString=e=>"string"==typeof e,this.performAction=e=>{switch(e.actionType){case"formSubmit":return{formSubmit:!0,data:e.args};case"formClose":return{formClose:!0};case"flow":return"SELF_HARM"===this.getHiddenInputValue(e.args[0].ref)?{openCtlFlow:!0}:void 0;case"openTemplatedUrl":const t=e.args,{urlTemplate:r,placeholders:n}=t;if(t&&r&&n){let e="";return n.forEach((n=>{const i=t[n],o=this.getHiddenInputValue(i.ref);o&&(e=r.replaceAll(`%(${n})s`,o))})),{href:e,formClose:!0}}return{formClose:!0};default:const{value:i,key:o}=e.args;return"ref"===i.$type?(this.setHiddenInputValue(o,this.getHiddenInputValue(i.ref)),{key:o,value:this.getHiddenInputValue(i.ref)}):void 0}},this.reportFormEl=e}},S:d,a:u,b:function(e){return!!e&&(e instanceof HTMLSelectElement||s in e.constructor&&"options"in e)},c:o,d:a,e:function(e){return l(e)&&f.has(e.type)},f:function(e){return null!=e},g:r,h:t,i:l,r:i}}));
SML.dm("B8bCssFV",["DSWSCRFk","B_Z23SiP","DAgRafdt"],(async(t,e,i)=>{class s{constructor(t,e,i,s,a,n,r,l,o,d){this.valueMissing=t,this.typeMismatch=e,this.patternMismatch=i,this.tooLong=s,this.tooShort=a,this.rangeUnderflow=n,this.rangeOverflow=r,this.stepMismatch=l,this.badInput=o,this.customError=d}}class a{constructor(t){this.submissionValue=null,this.constraintsSuffered={},this.customValidityMessage="",this.validityMessage="",this.validationAnchor=null,this.target=t,this.input=document.createElement("input"),this.input.className="faceplate-internal-input",this.input.tabIndex=-1,this.input.style.opacity="0",this.input.style.width="1px",this.input.style.height="100%",this.input.style.padding="0",this.input.style.border="0",this.input.style.pointerEvents="none",this.input.hidden=!0}_connect(t){t?(this._form=t,e.h.register(t,this.target)):this._form=void 0}_disconnect(){this._form&&(e.h.unregister(this._form,this.target),this._form=void 0)}getFormValue(){return this.submissionValue}setFormValue(t){this.submissionValue=t}get form(){return this._form}isSufferingFromItsConstraints(){for(const t in this.constraintsSuffered)if(this.constraintsSuffered[t])return!0;return!1}setValidity(t,e,i=null){if(t){const e=this.convertFlagsToValidityState(t);for(const i in t)this.constraintsSuffered[i]=e[i]}else this.constraintsSuffered={};const s=!!e&&this.isSufferingFromItsConstraints();if(t&&Object.prototype.hasOwnProperty.call(t,"customError")){const t=this.constraintsSuffered.customError&&e?e:"";this.customValidityMessage=t}else this.validationAnchor=i,this.validityMessage=s&&e?e:"";(this.validationAnchor||this.input).setCustomValidity(this.validationMessage),this.target.setAttribute("faceplate-validity",s?"invalid":"valid")}get willValidate(){return!(this.target.disabled||null===this.submissionValue)}convertFlagsToValidityState(t){return new s(!!t.valueMissing,!!t.typeMismatch,!!t.patternMismatch,!!t.tooLong,!!t.tooShort,!!t.rangeUnderflow,!!t.rangeOverflow,!!t.stepMismatch,!!t.badInput,!!t.customError)}get validity(){const t=this.constraintsSuffered;return this.convertFlagsToValidityState(t)}get validationMessage(){return this.customValidityMessage||this.validityMessage}dispatchInvalidEvent(){const t=new Event("invalid",{bubbles:!0,cancelable:!0});return this.target.dispatchEvent(t),t}checkValidity(){return!this.isSufferingFromItsConstraints()||(this.dispatchInvalidEvent(),!1)}reportValidity(){if(this.isSufferingFromItsConstraints()){if(!this.dispatchInvalidEvent().defaultPrevented){(this.validationAnchor||this.input).reportValidity()}return!1}return!0}}const n=i.go(),r=new MutationObserver((t=>{for(const e of t){if("attributes"!==e.type||"disabled"!==e.attributeName||!(e.target instanceof HTMLFieldSetElement))continue;const t=n.getRegisteredElements(e.target);if(t)for(const i of t)i.formDisabledCallback&&i.formDisabledCallback(i.disabled||e.target.disabled)}}));function l(t){if(e.F in t)return t;class i extends t{constructor(){super(...arguments),this._internals=new a(this)}connectedCallback(){super.connectedCallback&&super.connectedCallback(),e.c(this).then((t=>{if(!t||!this.isConnected)return;this._internals._connect(t),this.formAssociatedCallback&&this.formAssociatedCallback(t);let e=this;for(;e.parentElement&&(e=e.parentElement,e!==t)&&!(e instanceof HTMLLegendElement);)if(e instanceof HTMLFieldSetElement){this._fieldSet=e;n.getRegisteredElements(e)||r.observe(e,{attributes:!0}),n.register(e,this);break}this.formDisabledCallback&&this.formDisabledCallback(this.disabled)}))}disconnectedCallback(){super.disconnectedCallback&&super.disconnectedCallback(),this._internals._disconnect(),this.formAssociatedCallback&&this.formAssociatedCallback(null),this._fieldSet&&(n.unregister(this._fieldSet,this),this._fieldSet=void 0)}get value(){return this._internals.getFormValue()}set value(t){this._internals.setFormValue(t),this.syncInputValidity(!1)}get form(){return this._internals.form}get name(){return this.getAttribute("name")||""}get disabled(){return this.hasAttribute("disabled")||!(!this._fieldSet||!this._fieldSet.disabled)}set disabled(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled"),this.formDisabledCallback&&this.formDisabledCallback(t||!(!this._fieldSet||!this._fieldSet.disabled))}get type(){return this.localName}get validity(){return this._internals.validity}get validationMessage(){return this._internals.validationMessage}get willValidate(){return this._internals.willValidate}checkValidity(){return this._internals.checkValidity()}reportValidity(){return this._internals.reportValidity()}setCustomValidity(t){this._internals.setValidity({customError:!!t},t)}syncInputValidity(t=!0){var e;const i=null===(e=this.shadowRoot)||void 0===e?void 0:e.querySelector("input:not(.faceplate-internal-input),textarea");if(!i)return;t&&this.setAttribute("faceplate-dirty","");let s={};if(this._internals.validity.customError){for(const t in i.validity)s[t]=i.validity[t];s.customError=!0}else s=i.validity;this._internals.setValidity(s,i.validationMessage||this._internals.validationMessage)}}return i[e.F]=!0,i}class o extends(l(t.s)){static get styles(){return t.i`:host{display:inline-block;position:relative}:host([aria-disabled=true]){cursor:not-allowed;opacity:.5}:host([faceplate-validity=invalid]){border-color:var(--color-danger-content)}.faceplate-internal-input{position:absolute;left:50%;bottom:0}`}get disabled(){return super.disabled}set disabled(t){super.disabled=t}constructor(){super(),this.ariaDisabled="false",this.addEventListener("focus",this.dispatchFocusin)}dispatchFocusin(){const t=new FocusEvent("focusin",{bubbles:!0});this.dispatchEvent(t)}render(){return t.x` ${this._internals.input} `}formDisabledCallback(t){this.ariaDisabled=t?"true":"false"}formResetCallback(){this.value=this.getAttribute("value"),this.removeAttribute("faceplate-dirty")}}t._([t.n({type:Boolean,reflect:!0})],o.prototype,"disabled",null),t._([t.n({type:String,attribute:"aria-disabled",reflect:!0})],o.prototype,"ariaDisabled",void 0);function d(t){return t<10?`0${t}`:t}return{F:class extends o{async firstUpdated(){const t=await e.c(this);t&&this.isConnected&&t.register(this)}},I:o,M:999,T:function(){return o},W:l,a:function(t){const[e,i,s]=t.split("-").map(Number);return new Date(e,i-1,s)},g:function(t){const[e,i,s]=Array.from(t).map((t=>parseInt(t?.value??"",10)));if(!s||!i||!e)return null;const a=new Date(e,i,0).getDate(),n=(new Date).getFullYear();return s<0||s>a||i<1||i>12||e<n-120||e>n-5?null:`${e}-${d(i)}-${d(s)}`}}}));
SML.dm("BaPgoYnS",["DSWSCRFk","DAgRafdt","B8bCssFV"],(async(e,t,i)=>{const a={checkbox:()=>"This checkbox must be on",radio:()=>"This radio must have a selected option"};class n extends i.F{constructor(){super(...arguments),this.required=!1,this.name="",this.initialized=!1,this._events=new t.E(this),this.ariaRole="checkbox",this._checked=!1,this.ellipsis=!1,this._handleClick=this._events.define("click",(e=>{this.disabled||e.defaultPrevented||this.handleInteraction()})),this._handleKeydown=this._events.define("keydown",(e=>{this.disabled||e.defaultPrevented||"Space"===e.code&&(e.stopPropagation(),e.preventDefault(),this.handleInteraction())}))}get checked(){return this._checked}set checked(e){const t=this._checked;e!==t&&(this._internals.setFormValue(e?this.getAttribute("value")||"on":null),this._checked=e,e?this.setAttribute("aria-checked","true"):this.removeAttribute("aria-checked"),this.hasAttribute("required")&&!this.checked?this._internals.setValidity({valueMissing:!0},a[this.ariaRole]()):this._internals.setValidity(),this.requestUpdate("checked",t))}static get styles(){return[super.styles,e.i`:host(:not(faceplate-switch-input)){min-height:var(--size-md)}:host{display:flex;align-items:center;cursor:pointer}label{font:var(--font-14-20-regular);color:var(--color-neutral-content-strong);margin-left:var(--spacer-2xs);cursor:pointer}.icon{border:var(--line-md) solid transparent;height:var(--size-md);font-size:var(--size-md);flex-shrink:0}:host([checked]) .icon,:host([indeterminate]) .icon{display:inline-block;color:var(--color-primary-background)}:host(:hover) .icon{color:var(--color-primary-background-hover)}:host([faceplate-validity=invalid]) .icon{color:var(--color-danger-content);pointer-events:none}:host([aria-disabled=true]) .icon{color:var(--color-neutral-content-disabled);pointer-events:none}:host([ellipsis]) label{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}:host([required]) label::after{position:absolute;color:var(--color-danger-content);content:'*'}:host(:focus) .icon{border-color:var(--color-global-focus,transparent);outline:0}:host(:focus){outline:0}:host(:focus:not(:focus-visible)) .icon{border-color:transparent}`]}connectedCallback(){super.connectedCallback(),this.initialized||(this.initialized=!0,this.setAttribute("role",this.ariaRole),this.setAttribute("tabindex","0"))}formDisabledCallback(e){super.formDisabledCallback(e),e?this.removeAttribute("tabindex"):this.setAttribute("tabindex","0")}render(){return e.x` ${super.render()} <label> <slot></slot> </label> `}handleInteraction(){const e=new InputEvent("input",{bubbles:!0});this.dispatchEvent(e)}}return e._([e.n({type:Boolean})],n.prototype,"required",void 0),e._([e.n({type:String})],n.prototype,"name",void 0),e._([e.n({type:Boolean,reflect:!0})],n.prototype,"checked",null),e._([e.n({type:Boolean})],n.prototype,"ellipsis",void 0),{C:n}}));
SML.dm("DvsbXjsy",["DSWSCRFk"],(async a=>{const{svg:c}=a.g();return{P:"pagination__change-page",c:a.w(c`<path d="M4.21 9.95c-.31 0-.61-.12-.85-.35L.58 6.82a.706.706 0 010-.99c.27-.27.72-.27.99 0l2.64 2.64 6.22-6.22c.27-.27.72-.27.99 0s.27.72 0 .99L5.06 9.6c-.23.23-.54.35-.85.35z"></path>`,"0 0 12 12","checkmark-12")}}));
SML.dm("Bx9dp7xe",["DSWSCRFk","BaPgoYnS","DvsbXjsy","DAgRafdt"],(async(a,r,e,t)=>{var o;!function(a){a.PRIMARY="primary",a.BRAND="brand"}(o||(o={}));const c={[o.PRIMARY]:"switch-input-primary",[o.BRAND]:"switch-input-brand"};var i;!function(a){a.ON="faceplate-switch-input:on",a.OFF="faceplate-switch-input:off"}(i||(i={}));let n=class extends r.C{constructor(){super(...arguments),this.appearance=o.PRIMARY}static get styles(){return[super.styles,a.i`.switch-input-primary{--checked-color-background-default:var(--color-switch-input-background-checked);--checked-color-background-hover:var(--color-switch-input-background-checked-hover)}.switch-input-brand{--checked-color-background-default:var(--color-brand-background);--checked-color-background-hover:var(--color-brand-background-hover)}.outer{background:var(--color-switch-input-background-default);border-radius:var(--radius-full);box-shadow:var(--elevation-switch-input-default-inset);height:var(--size-switch-input-h);vertical-align:middle;width:var(--size-switch-input-w);padding:var(--line-md);box-sizing:border-box;position:relative;display:flex;align-items:center;flex-shrink:0;transition:background-color .3s;contain:strict}.knob{--knob-size:calc(var(--size-switch-input-h) - (var(--line-md) * 2));--knob-size-active:calc((36 / 28) * var(--knob-size));--translate-checked:calc(
            var(--size-switch-input-w) - var(--knob-size) - (var(--line-md) * 2)
          );background:var(--color-global-white);border-radius:var(--radius-full);filter:drop-shadow(0 1px 4px rgba(0, 0, 0, .15));display:flex;align-items:center;justify-content:center;height:var(--knob-size);position:absolute;transform:translateX(0);transition-duration:.3s;transition-property:transform,width;width:var(--knob-size)}.knob:dir(rtl){--translate-checked:calc(
            -1 * (var(--size-switch-input-w) - var(--knob-size) - (var(--line-md) * 2))
          )}:host(:active:not([aria-disabled=true])) .knob{width:var(--knob-size-active)}:host([checked]) .knob{transform:translateX(var(--translate-checked))}:host([checked]:active:not([aria-disabled=true])) .knob{transform:translateX(calc(var(--translate-checked) - (var(--knob-size-active) - var(--knob-size))))}:host([checked]:active:not([aria-disabled=true])) .knob:dir(rtl){transform:translateX(calc(var(--translate-checked) + (var(--knob-size-active) - var(--knob-size))))}label{margin-inline-start:var(--spacer-xs)}:host([checked]) .outer{background:var(--checked-color-background-default)}:host([faceplate-validity=invalid]) .outer{background:var(--color-danger-content)}:host(:focus-visible) .outer{outline:1px auto var(--color-global-focus)}:host(:hover) .outer{background:var(--color-switch-input-background-default-hover)}:host([checked]:hover) .outer{background:var(--checked-color-background-hover)}:host([aria-disabled=true]){opacity:1}:host([aria-disabled=true]) .outer{background-color:var(--color-switch-input-background-disabled);box-shadow:none}:host([checked][aria-disabled=true]) .outer{background-color:var(--color-switch-input-background-checked-disabled);box-shadow:none}:host([aria-disabled=true][checked]:active) .outer{background:var(--color-switch-input-background-checked-disabled);box-shadow:none}:host([aria-disabled=true]) .knob{background-color:var(--color-switch-input-background-handle-disabled);box-shadow:none}:host([aria-disabled=true]) label{opacity:.5}svg{opacity:0;color:var(--color-global-black);transition:opacity .3s}:host([checked]) svg{opacity:1}`]}render(){return a.x` <span class="${c[this.appearance||o.PRIMARY]} outer"> <span class="knob"> ${e.c({attributes:{"aria-hidden":"true"},size:a.I.ExtraSmall})} </span> </span> ${super.render()} `}toggle(){this.checked=!this.checked,this.dispatchEvent(t.c(this.checked?i.ON:i.OFF)),super.handleInteraction()}handleInteraction(){this.toggle()}};return a._([a.n({type:String})],n.prototype,"appearance",void 0),n=a._([a.c("faceplate-switch-input")],n),{get F(){return n},get S(){return o}}}));
SML.dm("DDc9KuQK",["DSWSCRFk"],(async e=>{var t;!function(e){e.Small="sm",e.Medium="md"}(t||(t={}));const n=e=>{let t;return"boolean"==typeof e&&(t=e?"true":"false"),t},a=t=>{const{attributes:n,trailingSlot:a,selected:s,liRole:i}=t,{html:o,createElement:c}=e.g(),{role:d,tabindex:p,"aria-disabled":u,"aria-selected":g,...x}=n||{},m=o`${r(t)} ${l(a)}`;return c("li",{...x,className:`relative list-none mt-0 ${n?.className||""}`,rpl:!0,rplSelected:s,role:i||"presentation"},m)},r=a=>{const{anchorAttributes:r,appearance:l,description:o,disabled:c,href:d,innerClassName_DO_NOT_USE:p,label:u,leadingAvatar:g,leadingIcon:x,noXPadding:m=!1,onClick:b,selected:f,size:$=t.Medium,trailingSlot:h,attributes:y,suppressHoverStyles:v=!1}=a,k=!f&&a.hasTransparentBackground,{html:_,createElement:S,ifDefined:w}=e.g(),{role:E,tabindex:N}=y??{},I=Boolean(N??y?.onclick??a.onClick),j=I?parseInt(N??"0"):void 0,O=!v&&(null!=d||I),T=e=>{return t=e,O?t:"";var t},D=["flex justify-between relative",(m?"px-xs -mx-xs":"px-md")+" gap-[0.5rem]","danger"===l?f?"text-danger-content":`text-danger-content ${T("hover:text-danger-content-hover")}`:f?"text-secondary-onBackground":`text-secondary ${T("hover:text-secondary-hover")}`,`${k?"":f?`bg-neutral-background-selected ${T("hover:bg-neutral-background-selected")}`:`${T("active:bg-interactive-pressed")}`} ${T("hover:bg-neutral-background-hover")}`,`${T("hover:no-underline")}`,`${T("cursor-pointer")}`,c?"opacity-60 pointer-events-none":"",$===t.Medium?"py-xs":"py-2xs"," -outline-offset-1",p].join(" "),B=_` <span class="flex items-center gap-xs min-w-0 shrink"> ${x?_` <span class="flex shrink-0 items-center justify-center h-xl w-xl text-20 leading-4"> ${x} </span>`:void 0} ${g?_`<span class="flex shrink-0 items-center justify-center h-xl w-xl"> <span class="text-20 leading-4">${g}</span> </span>`:void 0} <span class="flex flex-col justify-center min-w-0 shrink py-[var(--rem6)]"> <span class="text-14">${u}</span> <span class="text-12 text-secondary-weak">${o}</span> </span> </span> ${i(h)} `;return d?S("a",{...r,role:E,href:d,tabindex:j,onclick:b,className:`${D} ${r?.className?r.className:""} no-underline`,style:`padding-inline-end: ${s(a)}`},B):_`<div aria-disabled="${w(n(c)||y?.["aria-disabled"])}" aria-selected="${w(n(f)||y?.["aria-selected"])}" role="${w(E)}" tabindex="${w(j)}" class="${D}" @click="${b}" @keydown="${e=>{"Enter"!==e.code&&"Space"!==e.code||!b||b(e)}}" style="padding-inline-end:${s(a)}"> ${B} </div>`};function s({trailingSlot:e}){if("object"!=typeof e||!("type"in e))return"16px";switch(e.type){case"iconButton":return"58px";case"switchInput":return"80px";default:return"16px"}}const l=t=>{if("object"!=typeof t||!("type"in t))return null;const{html:n}=e.g();return n`<div class="absolute top-1/2" style="inset-inline-end:${function(e){if("object"!=typeof e||!("type"in e))return"16px";switch(e.type){case"iconButton":return"10px";case"switchInput":return"8px";default:return"16px"}}(t)};transform:translateY(-50%)"> ${t.content} </div>`},i=t=>{if("object"==typeof t&&"type"in t)return null;const{html:n}=e.g();return n`<span class="flex items-center shrink-0"> <span class="flex items-center justify-center h-lg">${t}</span> </span>`},o={label:{"list-item":"","group-label":"text-12 text-secondary-weak tracking-widest",title:"text-16 text-neutral-content-strong"},trailingIcon:{"list-item":"","group-label":"text-secondary-weak",title:"text-neutral-content-strong"}};return{D:1,get L(){return t},T:"table-pagination__paginate-previous",a:({appearance:n="list-item",attributes:r,innerClassName_DO_NOT_USE:s,label:l,leadingIcon:i,noXPadding:c})=>{const{html:d}=e.g();return a({attributes:{...r,tabindex:"-1"},hasTransparentBackground:!0,innerClassName_DO_NOT_USE:s,label:d`<span class="${o.label[n]}">${l}</span>`,leadingIcon:i,size:t.Small,trailingSlot:e.J({attributes:{className:o.trailingIcon[n]}}),noXPadding:c})},b:25,c:"table-pagination__paginate-next",d:"table-pagination__page-size-updated",e:({attributes:t,contentId:n,content:a,header:r,hasLeadingBorder:s,isInitiallyOpen:l=!0})=>{const{html:i,createElement:o}=e.g();return o("faceplate-expandable-section-helper",{...t,booleanOpen:l,rpl:!0},i`<details ?open="${l}" class="p-0 m-0 bg-transparent border-none rounded-none"> <summary aria-controls="${n}" aria-expanded="${l}" class="font-normal"> ${r} </summary> <faceplate-auto-height-animator class="block" ?open="${l}"> <div faceplate-auto-height-animator-content id="${n}" style="${s?"border-left: 1px solid var(--color-neutral-border-weak); margin-left: 28px;":""}"> ${a} </div> </faceplate-auto-height-animator> </details>`)},l:a}}));
SML.dm("BcykV95-",["DSWSCRFk"],(async t=>{var e;!function(t){t.NEUTRAL="NEUTRAL",t.SUCCESS="SUCCESS",t.WARNING="WARNING",t.ALERT="ALERT",t.PLAIN="PLAIN",t.DISABLED="DISABLED",t.DANGER="DANGER",t.INVERTED="INVERTED",t.SECONDARY="SECONDARY",t.MEDIA="MEDIA",t.BRAND="BRAND"}(e||(e={}));const n="bg-brand-background text-brand-onBackground",r="bg-secondary-background text-secondary-onBackground",o={[e.WARNING]:"bg-warning-background text-neutral-background",[e.SUCCESS]:"bg-success-background text-primary-onBackground",[e.NEUTRAL]:"bg-neutral-content text-neutral-background",[e.PLAIN]:r,[e.ALERT]:n,[e.BRAND]:n,[e.DANGER]:"bg-danger-background text-primary-onBackground",[e.DISABLED]:"bg-interactive-content-disabled text-neutral-background",[e.INVERTED]:"bg-inverted-neutral-background text-neutral-background",[e.SECONDARY]:r,[e.MEDIA]:"bg-media-background text-media-onBackground"};const a=(()=>{let t=0;return()=>(t+=1,`u${`0000${(Math.random()*36**4|0).toString(36)}`.slice(-4)}${t}`)})();function i(t){const e=[];for(let n=0,r=t.length;n<r;n++)e.push(t[n]);return e}function c(t,e){const n=(t.ownerDocument.defaultView||window).getComputedStyle(t).getPropertyValue(e);return n?parseFloat(n.replace("px","")):0}function s(t,e={}){return{width:e.width||function(t){const e=c(t,"border-left-width"),n=c(t,"border-right-width");return t.clientWidth+e+n}(t),height:e.height||function(t){const e=c(t,"border-top-width"),n=c(t,"border-bottom-width");return t.clientHeight+e+n}(t)}}const l=16384;function u(t){return new Promise(((e,n)=>{const r=new Image;r.decode=()=>e(r),r.onload=()=>e(r),r.onerror=n,r.crossOrigin="anonymous",r.decoding="async",r.src=t}))}async function d(t,e,n){const r="http://www.w3.org/2000/svg",o=document.createElementNS(r,"svg"),a=document.createElementNS(r,"foreignObject");return o.setAttribute("width",`${e}`),o.setAttribute("height",`${n}`),o.setAttribute("viewBox",`0 0 ${e} ${n}`),a.setAttribute("width","100%"),a.setAttribute("height","100%"),a.setAttribute("x","0"),a.setAttribute("y","0"),a.setAttribute("externalResourcesRequired","true"),o.appendChild(a),a.appendChild(t),async function(t){return Promise.resolve().then((()=>(new XMLSerializer).serializeToString(t))).then(encodeURIComponent).then((t=>`data:image/svg+xml;charset=utf-8,${t}`))}(o)}const h=(t,e)=>{if(t instanceof e)return!0;const n=Object.getPrototypeOf(t);return null!==n&&(n.constructor.name===e.name||h(n,e))};function f(t,e,n){const r=`.${t}:${e}`,o=n.cssText?function(t){const e=t.getPropertyValue("content");return`${t.cssText} content: '${e.replace(/'|"/g,"")}';`}(n):function(t){return i(t).map((e=>`${e}: ${t.getPropertyValue(e)}${t.getPropertyPriority(e)?" !important":""};`)).join(" ")}(n);return document.createTextNode(`${r}{${o}}`)}function g(t,e,n){const r=window.getComputedStyle(t,n),o=r.getPropertyValue("content");if(""===o||"none"===o)return;const i=a();try{e.className=`${e.className} ${i}`}catch(t){return}const c=document.createElement("style");c.appendChild(f(i,n,r)),e.appendChild(c)}const m="application/font-woff",p="image/jpeg",w={woff:m,woff2:m,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:p,jpeg:p,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function y(t){const e=function(t){const e=/\.([^./]*?)$/g.exec(t);return e?e[1]:""}(t).toLowerCase();return w[e]||""}function b(t){return-1!==t.search(/^(data:)/)}async function E(t,e,n){const r=await fetch(t,e);if(404===r.status)throw new Error(`Resource "${r.url}" not found`);const o=await r.blob();return new Promise(((t,e)=>{const a=new FileReader;a.onerror=e,a.onloadend=()=>{try{t(n({res:r,result:a.result}))}catch(t){e(t)}},a.readAsDataURL(o)}))}const S={};async function x(t,e,n){const r=function(t,e,n){let r=t.replace(/\?.*/,"");return n&&(r=t),/ttf|otf|eot|woff2?/i.test(r)&&(r=r.replace(/.*\//,"")),e?`[${e}]${r}`:r}(t,e,n.includeQueryParams);if(null!=S[r])return S[r];let o;n.cacheBust&&(t+=(/\?/.test(t)?"&":"?")+(new Date).getTime());try{const r=await E(t,n.fetchRequestInit,(({res:t,result:n})=>(e||(e=t.headers.get("Content-Type")||""),function(t){return t.split(/,/)[1]}(n))));o=function(t,e){return`data:${e};base64,${t}`}(r,e)}catch(e){o=n.imagePlaceholder||"";let r=`Failed to fetch resource: ${t}`;e&&(r="string"==typeof e?e:e.message),r&&console.warn(r)}return S[r]=o,o}async function R(t,e){return h(t,HTMLCanvasElement)?async function(t){const e=t.toDataURL();return"data:,"===e?t.cloneNode(!1):u(e)}(t):h(t,HTMLVideoElement)?async function(t,e){if(t.currentSrc){const e=document.createElement("canvas"),n=e.getContext("2d");return e.width=t.clientWidth,e.height=t.clientHeight,null==n||n.drawImage(t,0,0,e.width,e.height),u(e.toDataURL())}const n=t.poster,r=y(n);return u(await x(n,r,e))}(t,e):h(t,HTMLIFrameElement)?async function(t){var e;try{if(null===(e=null==t?void 0:t.contentDocument)||void 0===e?void 0:e.body)return await C(t.contentDocument.body,{},!0)}catch(t){}return t.cloneNode(!1)}(t):t.cloneNode(!1)}const A=t=>null!=t.tagName&&"SLOT"===t.tagName.toUpperCase();function N(t,e){return h(e,Element)&&(function(t,e){const n=e.style;if(!n)return;const r=window.getComputedStyle(t);r.cssText?(n.cssText=r.cssText,n.transformOrigin=r.transformOrigin):i(r).forEach((o=>{let a=r.getPropertyValue(o);if("font-size"===o&&a.endsWith("px")){const t=Math.floor(parseFloat(a.substring(0,a.length-2)))-.1;a=`${t}px`}h(t,HTMLIFrameElement)&&"display"===o&&"inline"===a&&(a="block"),"d"===o&&e.getAttribute("d")&&(a=`path(${e.getAttribute("d")})`),n.setProperty(o,a,r.getPropertyPriority(o))}))}(t,e),function(t,e){g(t,e,":before"),g(t,e,":after")}(t,e),function(t,e){h(t,HTMLTextAreaElement)&&(e.innerHTML=t.value),h(t,HTMLInputElement)&&e.setAttribute("value",t.value)}(t,e),function(t,e){if(h(t,HTMLSelectElement)){const n=e,r=Array.from(n.children).find((e=>t.value===e.getAttribute("value")));r&&r.setAttribute("selected","")}}(t,e)),e}async function C(t,e,n){return n||!e.filter||e.filter(t)?Promise.resolve(t).then((t=>R(t,e))).then((n=>async function(t,e,n){var r,o;let a=[];return a=A(t)&&t.assignedNodes?i(t.assignedNodes()):h(t,HTMLIFrameElement)&&(null===(r=t.contentDocument)||void 0===r?void 0:r.body)?i(t.contentDocument.body.childNodes):i((null!==(o=t.shadowRoot)&&void 0!==o?o:t).childNodes),0===a.length||h(t,HTMLVideoElement)||await a.reduce(((t,r)=>t.then((()=>C(r,n))).then((t=>{t&&e.appendChild(t)}))),Promise.resolve()),e}(t,n,e))).then((e=>N(t,e))).then((t=>async function(t,e){const n=t.querySelectorAll?t.querySelectorAll("use"):[];if(0===n.length)return t;const r={};for(let o=0;o<n.length;o++){const a=n[o].getAttribute("xlink:href");if(a){const n=t.querySelector(a),o=document.querySelector(a);n||!o||r[a]||(r[a]=await C(o,e,!0))}}const o=Object.values(r);if(o.length){const e="http://www.w3.org/1999/xhtml",n=document.createElementNS(e,"svg");n.setAttribute("xmlns",e),n.style.position="absolute",n.style.width="0",n.style.height="0",n.style.overflow="hidden",n.style.display="none";const r=document.createElementNS(e,"defs");n.appendChild(r);for(let t=0;t<o.length;t++)r.appendChild(o[t]);t.appendChild(n)}return t}(t,e))):null}const v=/url\((['"]?)([^'"]+?)\1\)/g,$=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,T=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;async function D(t,e,n,r,o){try{const a=n?function(t,e){if(t.match(/^[a-z]+:\/\//i))return t;if(t.match(/^\/\//))return window.location.protocol+t;if(t.match(/^[a-z]+:/i))return t;const n=document.implementation.createHTMLDocument(),r=n.createElement("base"),o=n.createElement("a");return n.head.appendChild(r),n.body.appendChild(o),e&&(r.href=e),o.href=t,o.href}(e,n):e,i=y(e);let c;return o||(c=await x(a,i,r)),t.replace(function(t){const e=t.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${e})(['"]?\\))`,"g")}(e),`$1${c}$3`)}catch(t){}return t}function P(t){return-1!==t.search(v)}async function L(t,e,n){if(!P(t))return t;const r=function(t,{preferredFontFormat:e}){return e?t.replace(T,(t=>{for(;;){const[n,,r]=$.exec(t)||[];if(!r)return"";if(r===e)return`src: ${n};`}})):t}(t,n),o=function(t){const e=[];return t.replace(v,((t,n,r)=>(e.push(r),t))),e.filter((t=>!b(t)))}(r);return o.reduce(((t,r)=>t.then((t=>D(t,r,e,n)))),Promise.resolve(r))}async function I(t,e,n){var r;const o=null===(r=e.style)||void 0===r?void 0:r.getPropertyValue(t);if(o){const r=await L(o,null,n);return e.style.setProperty(t,r,e.style.getPropertyPriority(t)),!0}return!1}async function k(t,e){h(t,Element)&&(await async function(t,e){await I("background",t,e)||await I("background-image",t,e),await I("mask",t,e)||await I("mask-image",t,e)}(t,e),await async function(t,e){const n=h(t,HTMLImageElement);if((!n||b(t.src))&&(!h(t,SVGImageElement)||b(t.href.baseVal)))return;const r=n?t.src:t.href.baseVal,o=await x(r,y(r),e);await new Promise(((e,r)=>{t.onload=e,t.onerror=r;const a=t;a.decode&&(a.decode=e),"lazy"===a.loading&&(a.loading="eager"),n?(t.srcset="",t.src=o):t.href.baseVal=o}))}(t,e),await async function(t,e){const n=i(t.childNodes).map((t=>k(t,e)));await Promise.all(n).then((()=>t))}(t,e))}const M={};async function H(t){let e=M[t];if(null!=e)return e;const n=await fetch(t);return e={url:t,cssText:await n.text()},M[t]=e,e}async function U(t,e){let n=t.cssText;const r=/url\(["']?([^"')]+)["']?\)/g,o=(n.match(/url\([^)]+\)/g)||[]).map((async o=>{let a=o.replace(r,"$1");return a.startsWith("https://")||(a=new URL(a,t.url).href),E(a,e.fetchRequestInit,(({result:t})=>(n=n.replace(o,`url(${t})`),[o,t])))}));return Promise.all(o).then((()=>n))}function B(t){if(null==t)return[];const e=[];let n=t.replace(/(\/\*[\s\S]*?\*\/)/gi,"");const r=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const t=r.exec(n);if(null===t)break;e.push(t[0])}n=n.replace(r,"");const o=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,a=new RegExp("((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})","gi");for(;;){let t=o.exec(n);if(null===t){if(t=a.exec(n),null===t)break;o.lastIndex=a.lastIndex}else a.lastIndex=o.lastIndex;e.push(t[0])}return e}async function O(t,e){if(null==t.ownerDocument)throw new Error("Provided element is not within a Document");const n=i(t.ownerDocument.styleSheets),r=await async function(t,e){const n=[],r=[];return t.forEach((n=>{if("cssRules"in n)try{i(n.cssRules||[]).forEach(((t,o)=>{if(t.type===CSSRule.IMPORT_RULE){let a=o+1;const i=H(t.href).then((t=>U(t,e))).then((t=>B(t).forEach((t=>{try{n.insertRule(t,t.startsWith("@import")?a+=1:n.cssRules.length)}catch(e){console.error("Error inserting rule from remote css",{rule:t,error:e})}})))).catch((t=>{console.error("Error loading remote css",t.toString())}));r.push(i)}}))}catch(o){const a=t.find((t=>null==t.href))||document.styleSheets[0];null!=n.href&&r.push(H(n.href).then((t=>U(t,e))).then((t=>B(t).forEach((t=>{a.insertRule(t,n.cssRules.length)})))).catch((t=>{console.error("Error loading remote stylesheet",t)}))),console.error("Error inlining remote css file",o)}})),Promise.all(r).then((()=>(t.forEach((t=>{if("cssRules"in t)try{i(t.cssRules||[]).forEach((t=>{n.push(t)}))}catch(e){console.error(`Error while reading CSS rules from ${t.href}`,e)}})),n)))}(n,e);return function(t){return t.filter((t=>t.type===CSSRule.FONT_FACE_RULE)).filter((t=>P(t.style.getPropertyValue("src"))))}(r)}async function V(t,e){const n=await O(t,e);return(await Promise.all(n.map((t=>{const n=t.parentStyleSheet?t.parentStyleSheet.href:null;return L(t.cssText,n,e)})))).join("\n")}async function j(t,e={}){const{width:n,height:r}=s(t,e),o=await C(t,e,!0);await async function(t,e){const n=null!=e.fontEmbedCSS?e.fontEmbedCSS:e.skipFonts?null:await V(t,e);if(n){const e=document.createElement("style"),r=document.createTextNode(n);e.appendChild(r),t.firstChild?t.insertBefore(e,t.firstChild):t.appendChild(e)}}(o,e),await k(o,e),function(t,e){const{style:n}=t;e.backgroundColor&&(n.backgroundColor=e.backgroundColor),e.width&&(n.width=`${e.width}px`),e.height&&(n.height=`${e.height}px`);const r=e.style;null!=r&&Object.keys(r).forEach((t=>{n[t]=r[t]}))}(o,e);return await d(o,n,r)}async function F(t,e={}){const{width:n,height:r}=s(t,e),o=await j(t,e),a=await u(o),i=document.createElement("canvas"),c=i.getContext("2d"),d=e.pixelRatio||function(){let t,e;try{e=process}catch(t){}const n=e&&e.env?e.env.devicePixelRatio:null;return n&&(t=parseInt(n,10),Number.isNaN(t)&&(t=1)),t||window.devicePixelRatio||1}(),h=e.canvasWidth||n,f=e.canvasHeight||r;return i.width=h*d,i.height=f*d,e.skipAutoScale||function(t){(t.width>l||t.height>l)&&(t.width>l&&t.height>l?t.width>t.height?(t.height*=l/t.width,t.width=l):(t.width*=l/t.height,t.height=l):t.width>l?(t.height*=l/t.width,t.width=l):(t.width*=l/t.height,t.height=l))}(i),i.style.width=`${h}`,i.style.height=`${f}`,e.backgroundColor&&(c.fillStyle=e.backgroundColor,c.fillRect(0,0,i.width,i.height)),c.drawImage(a,0,0,i.width,i.height),i}var q=Object.freeze({__proto__:null,getFontEmbedCSS:async function(t,e={}){return V(t,e)},toBlob:async function(t,e={}){const n=await F(t,e);return await function(t,e={}){return t.toBlob?new Promise((n=>{t.toBlob(n,e.type?e.type:"image/png",e.quality?e.quality:1)})):new Promise((n=>{const r=window.atob(t.toDataURL(e.type?e.type:void 0,e.quality?e.quality:void 0).split(",")[1]),o=r.length,a=new Uint8Array(o);for(let t=0;t<o;t+=1)a[t]=r.charCodeAt(t);n(new Blob([a],{type:e.type?e.type:"image/png"}))}))}(n)},toCanvas:F,toJpeg:async function(t,e={}){return(await F(t,e)).toDataURL("image/jpeg",e.quality||1)},toPixelData:async function(t,e={}){const{width:n,height:r}=s(t,e);return(await F(t,e)).getContext("2d").getImageData(0,0,n,r).data},toPng:async function(t,e={}){return(await F(t,e)).toDataURL()},toSvg:j});return{get B(){return e},b:({attributes:n,appearance:r=e.NEUTRAL,content:a,outline:i=!1})=>{const{html:c,createElement:s}=t.g(),l=c`<span class="font-semibold inline-block text-10 text-center ${a&&"min-h-[1rem] min-w-[0.5rem]"} px-2xs">${a}</span>`;let u="rounded-full inline-flex";return a||(u+=" h-xs w-xs"),i&&(u+=" border-md border-solid border-neutral-background"),s("span",{...n,className:`${[o[r]]} ${u} ${n?.className}`,rpl:!0},l)},get i(){return q}}}));
SML.dm("D7sQxsRg",["DSWSCRFk","DAgRafdt","BcykV95-","OAEZpqSu"],(async(e,a,r,t)=>{var l,n,o;!function(e){e.Small="sm",e.Medium="md",e.Large="lg"}(l||(l={})),function(e){e.Pill="pill",e.Square="square"}(n||(n={})),function(e){e.Pill="default",e.BottomBorder="bottom-border",e.Hug="hug",e.Fill="fill"}(o||(o={}));const s={sm:"py-[var(--rem6)] leading-5 text-14",md:"py-[var(--rem10)] leading-5 text-14",lg:"py-[var(--rem14)] leading-5 text-14"},d={sm:" ps-[var(--rem12)]",md:" ps-[var(--rem14)]",lg:" ps-[var(--rem14)]"},c={sm:" pe-[var(--rem12)]",md:" pe-[var(--rem12)]",lg:" pe-[var(--rem16)]"},i={sm:" pe-[var(--rem8)]",md:" pe-[var(--rem12)]",lg:" pe-[var(--rem16)]"},p={sm:" ps-[var(--rem12)]",md:" ps-[var(--rem16)]",lg:" ps-[var(--rem16)]"},m={sm:" pe-[var(--rem12)]",md:" pe-[var(--rem16)]",lg:" pe-[var(--rem16)]"},u=({leadingIcon:e,size:a,hasBadge:r,dropdown:t,appearance:l})=>{if(l===o.Fill||l===o.Hug)return;let n=" ";return n+=e?d[a]:p[a],n+=t?i[a]:r?c[a]:m[a],n},b="inline-flex flex-col text-secondary-plain-weak font-semibold relative";return{get T(){return o},a:({attributes:a,label:t,size:n=l.Medium,leadingIcon:d,hasBadge:c,badgeCount:i,dropdown:p,role:m="tab",selected:g,selectedTabBorderColor:v="bg-secondary-plain",hoverTabBorderColorClass:x="group-hover:block group-hover:bg-secondary-plain-weak",disabled:f,appearance:h=o.BottomBorder})=>{const{html:E,createElement:T}=e.g(),S={classes:"tab-bottom-border group",selected:"!text-neutral-content-strong tab-selected",badge:r.b({appearance:r.B.NEUTRAL,content:i})},I={[o.Pill]:{classes:"rounded-full",selected:"bg-secondary-background-selected !text-neutral-content-strong",badge:r.b({appearance:r.B.ALERT,content:i}),disabled:"text-neutral-content-disabled",interactive:"hover:no-underline hover:bg-secondary-background-hover hover:text-secondary-content active:bg-secondary-background"}},y=I[h]??S,M=null==a?.href?"button":"a",$=[b,y.classes,g?y.selected:null,f?"text-interactive-content-disabled":"hover:no-underline hover:text-secondary-plain",u({hasBadge:c,leadingIcon:d,dropdown:p,size:n,appearance:h}),h===o.Fill?"items-center grow":h===o.Hug?"grow-0":null,null==a?.href?"rounded-none bg-transparent p-0 border-none h-auto":null,h===o.Pill?f?I.disabled:y.interactive:null].filter((e=>null!==e)).join(" "),B=`${v} ${f?"":x}`,D=E` <span class="inline-flex"> <span class="inline-flex flex-row items-center gap-xs ${n===l.Small&&h===o.Fill?s[l.Medium]:s[n]}"> ${[d??"",t?E`<span>${t}</span>`:""]} </span> <span class="inline-flex flex-row items-center gap-xs"> ${[c?E`<span class="self-start mt-[-0.25rem]${i?"":" ms-[-.25rem]"}"> ${y.badge} </span>`:"",p?e.J({size:n===l.Small?e.q.Small:e.q.Medium}):""]} </span> </span> <span class="hidden group-[.tab-bottom-border.tab-selected]:block bottom-border-selected flex-grow h-[2px] -mt-[2px] pointer-events-none ${B} rounded-full absolute bottom-0 left-0 right-0"></span> `,L="boolean"==typeof g?`${g}`:void 0;let _;_="boolean"==typeof a?.["aria-selected"]?`${a["aria-selected"]}`:"true"===a?.["aria-selected"]||"false"===a?.["aria-selected"]?a["aria-selected"]:void 0;const R=a&&"role"in a,H=R&&void 0!==a.role||!R?L??_:void 0;return f?T("span",{...a,"aria-selected":H,className:$,rpl:!0},D):T(M,{...a,"aria-selected":H,className:$,role:R?a.role:m,rpl:!0,rplSelected:g},D)},get b(){return l},t:({attributes:l,appearance:n=o.Pill,label:s,size:d=a.a2.Medium,selectedIcon:c,unselectedIcon:i,hasBadge:p,badgeCount:m,tabPanelID:u,dropdown:b,selected:g,role:v="tab"})=>{const{html:x}=e.g();let f="mt-[-0.125rem]";m||(f+=" ms-[-.25rem]");const h=[b||g||!i?"":i,!b&&g&&c?c:"",s?x`<span>${s}</span>`:"",p?x`<span class="${f}"> ${r.b({appearance:r.B.ALERT,content:m})} </span>`:""],E=b?h:x`<span class="inline-flex flex-col"> <span class="inline-flex flex-row items-center gap-xs"> ${h} </span> ${g&&n===o.BottomBorder?x` <span class="flex-grow ${d===a.a2.Small||d===a.a2.ExtraSmall?"h-[2px] -mt-[2px]":"h-2xs -mt-2xs"} pointer-events-none bg-primary rounded-full"></span>`:""} </span>`,T=[l?.className??"",n===o.BottomBorder?"rounded-none bg-transparent hover:bg-secondary-background-hover hover:text-secondary-content active:bg-secondary-background":""].join(" "),S={attributes:{"aria-selected":g?"true":"false","aria-controls":u,...l,className:T},children:E,size:d,appearance:"bottom-border"===n?"tab":void 0,shape:"bottom-border"===n?void 0:"pill",role:v};return x` ${b?t.n({...S,selectedIcon:c,unselectedIcon:i,selected:g}):a.fZ({...S})} `}}}));
SML.dm("DHyFGFNn",["DSWSCRFk","DAgRafdt","DDc9KuQK","D7sQxsRg","OAEZpqSu","DV50IcE5","ClDT0gYR","BvOdghwp","Bx9dp7xe","CF9Lfnln","CU4mObWU","Cvv8S0Po","BaPgoYnS","B8bCssFV","B_Z23SiP","DvsbXjsy","BcykV95-"],(async(e,a,t,i,s)=>{const o={shift:"",ctrl:"^",alt:"",arrowup:"",arrowdown:"",arrowleft:"",arrowright:"",enter:" Enter",meta:""," ":"Space"},r=[a.gL.NAVIGATION,a.gL.ACTION,a.gL.MEDIA];var n;!function(e){e.TOGGLE="shreddit-hotkeys-modal:toggle",e.OPENED="shreddit-hotkeys-modal:show"}(n||(n={}));let l=class extends e.s{constructor(){super(...arguments),this.activeTabIndex=1,this.registry=a.gv,this.disableShortcuts=!1,this.open=!1,this.modalRef=a.C(),this.hotkeysMap={},this.hotkeysController=new a.c0(this),this.toggleDialog=()=>{this.dialog&&(this.dialog?.open?this.dialog.hide():this.dialog?.showModal())},this.transformNonModifierKey=e=>{const a=e.toLowerCase(),t=a in o?o[a]:e.toUpperCase();return this.getKeyMarkup(t)},this.getKeyMarkup=a=>e.x`${s.cr(e.x`<span class="bg-neutral-background-weak-hover px-2xs rounded-[0.125rem]">${a}</span>`)}`,this.useModifierBasedOnOS=()=>navigator.userAgent.includes("Mac")?o.meta:o.ctrl,this.transformModifierKey=a=>{const t=[],i=this.getKeyMarkup(a.key.toUpperCase());return a.ctrl&&t.push(o.ctrl),a.alt&&t.push(o.alt),a.shift&&t.push(o.shift),a.meta&&t.push(this.useModifierBasedOnOS()),t?e.x`${this.getKeyMarkup(t.join(" + "))} + ${i}`:i},this.transformKey=e=>"string"==typeof e?this.transformNonModifierKey(e):this.transformModifierKey(e),this.renderHotkey=a=>{const t=[];for(let i=0;i<a.length;i++)i>0&&t.push(e.x`<span>${"OR"}</span>`),t.push(this.transformKey(a[i]));return e.x`<span class="flex gap-2xs">${t}</span>`},this.createKeyMap=()=>{if(this.registry){this.hotkeysMap={};for(const[e,a]of Object.entries(this.registry)){const{type:t}=a,i={...a,icon:this.renderHotkey(a.keys),id:e};this.hotkeysMap[t]?this.hotkeysMap[t].push(i):this.hotkeysMap[t]=[i]}}},this.createHotkeyCategoryTab=e=>{const t=e===a.gL.NAVIGATION?"page-1":e===a.gL.ACTION?"page-2":"page-3";return i.a({label:a.gM[e](),size:i.b.Medium,attributes:{slot:t,onclick:()=>{this.activeTabIndex=parseInt(t.replace(/[a-zA-Z-]/g,""))},"data-test-id":e}});},this.createHotKeyListItem=e=>t.l({label:e.label(),trailingSlot:e.icon,disabled:this.disableShortcuts,attributes:{"data-test-id":e.id},innerClassName_DO_NOT_USE:"!px-0"}),this.dispatchHotkeyToggle=e=>{const t=e.target,{checked:i}=t;this.dispatchEvent(new CustomEvent(n.TOGGLE,{composed:!0,bubbles:!0,detail:{checked:i,target:t}})),a.a(this,a.b({source:"settings",action:"save",noun:"hotkey"},{setting:{old_value:this.convertToOnOff(!t.checked),value:this.convertToOnOff(t.checked)}})),this.disableShortcuts=!i},this.convertToOnOff=e=>e?"on":"off"}get dialog(){return this.shadowRoot?.querySelector('[dialog-id="hotkeys-dialog"]')}connectedCallback(){super.connectedCallback(),this.createKeyMap(),this.hotkeysController.subscribe(a.c1.SHOW_SHORTCUTS,this.toggleDialog)}disconnectedCallback(){super.disconnectedCallback(),this.hotkeysController.unsubscribe(a.c1.SHOW_SHORTCUTS,this.toggleDialog)}willUpdate(e){e.has("registry")&&this.createKeyMap()}render(){const i=!this.disableShortcuts,s=e.x` <ac-track trigger="view" san="settings|click|hotkey_help"></ac-track> <rpl-modal-card auto-close class="min-w-[288px] max-w-[640px]"> <h2 slot="title"> ${"Keyboard shortcuts"} </h2> ${a.J({appearance:"secondary",attributes:{slot:"close-button","aria-label":"Close dialog"},leadingIcon:e.m({size:e.I.Small}),size:a.a2.Small})} <div> <div> <p> ${"Boost your efficiency with keyboard shortcuts! Get into the conversation faster without reaching for your mouse. Below is a complete list of available shortcuts, organized by category."} </p> <faceplate-tabgroup pages="${Object.keys(a.gL).length}"> ${[this.createHotkeyCategoryTab(a.gL.NAVIGATION),this.createHotkeyCategoryTab(a.gL.ACTION),this.createHotkeyCategoryTab(a.gL.MEDIA)]} </faceplate-tabgroup> <faceplate-tabpanel pages="${Object.keys(a.gL).length}" pageindex="${this.activeTabIndex}" style="opacity:${this.disableShortcuts?".60":"1"}"> ${r.map(((a,t)=>e.x`<ul slot="page-${t+1}" class="p-0 m-0"> ${this.hotkeysMap[a]?.map((e=>this.createHotKeyListItem(e)))} </ul>`))} </faceplate-tabpanel> </div> <hr> ${t.l({label:"Enable shortcuts",innerClassName_DO_NOT_USE:"!px-0",attributes:{"data-test-id":"toggles",id:"enable-shortcuts-item"},trailingSlot:e.x`<faceplate-switch-input ?checked="${i}" @input="${this.dispatchHotkeyToggle}" aria-labelledby="enable-shortcuts-item"> </faceplate-switch-input>`})} </div> <ac-track trigger="view" san="settings|click|hotkey_help"></ac-track> </rpl-modal-card>`;return e.x`<rpl-dialog-sheet ${a.H(this.modalRef)} dialog-id="hotkeys-dialog" ?open="${this.open}" .litTemplateChildren="${s}"></rpl-dialog-sheet>`}};return l.styles=[a.t],e._([e.b()],l.prototype,"activeTabIndex",void 0),e._([e.n({type:Object})],l.prototype,"registry",void 0),e._([e.n({type:Boolean,attribute:"disable-shortcuts"})],l.prototype,"disableShortcuts",void 0),e._([e.n({type:Boolean})],l.prototype,"open",void 0),e._([e.n({type:Object})],l.prototype,"modalRef",void 0),l=e._([e.c("shreddit-hotkeys-modal")],l),{get S(){return n}}}));
SML.dm("D9fuzJZ0",["DSWSCRFk","DAgRafdt","DHyFGFNn","DV50IcE5","OAEZpqSu","CF9Lfnln","CU4mObWU","ClDT0gYR","BvOdghwp","Cvv8S0Po","Bx9dp7xe","BaPgoYnS","B8bCssFV","B_Z23SiP","DvsbXjsy","DDc9KuQK","D7sQxsRg","BcykV95-"],(async(e,t,a)=>{let i=t.r,s=t.d,r=class extends e.s{constructor(){super(...arguments),this.registry=t.gv,this.pubsub=new t.f(this),this.compareModifiers=(e,t)=>!!e==!!t,this.hasMatchingModifiers=(e,t)=>{if(!t)return!1;const{metaKey:a,altKey:i,shiftKey:s,ctrlKey:r}=e,{meta:n,alt:o,ctrl:l,shift:E}=t,m=!(navigator.userAgent.includes("Mac")||!n||l||!r);return(this.compareModifiers(a,n)||m)&&(this.compareModifiers(r,l)||m)&&this.compareModifiers(s,E)&&this.compareModifiers(i,o)},this.getContextualSubscriber=(e,a,i)=>{const s=e.composedPath();return Array.from(i).find((i=>this.hasMatchingModifiers(e,t.gw.keys[a]?.[i])&&void 0===t.gx[i]&&s?.find((e=>t.gy.has(e)))))},this.getGlobalSubscriber=(e,a,i)=>Array.from(i).find((i=>this.hasMatchingModifiers(e,t.gw.keys[a]?.[i]))),this.publishHotkeyEvent=async e=>{const a=e.key.toLowerCase(),i=t.gw.keys[a],r=this.getContextualSubscriber(e,a,t.gz),n=this.getGlobalSubscriber(e,a,t.gA),o=r??n;if(i&&(this.enabled||"?"===a)&&(o&&i[o].allowFromInput||!e.composedPath().find((e=>e instanceof HTMLTextAreaElement||e instanceof HTMLInputElement||e instanceof HTMLElement&&e.hasAttribute("contenteditable"))))){if(i[t.c1.SHOW_SHORTCUTS]&&(await s({name:t.gB,bodyParams:{enabled:encodeURIComponent(!!this.enabled),open:"true"}})),r)return this.pubsub.publish(t.T.Hotkeys,{id:r}),void this.cancelEvent(e);n&&(this.pubsub.publish(t.T.Hotkeys,{id:n}),this.cancelEvent(e))}},this.cancelEvent=e=>{e.preventDefault(),e.stopImmediatePropagation()},this.onHotkeysToggle=async e=>{const{detail:{checked:a,target:s}}=e;try{const e=await i({operation:t.O.UpdateAccountPreferences,variables:{input:{isHotkeysEnabled:a}}});if(this.enabled=a,e.errors.length>0)throw new Error("Could not save setting")}catch{s.checked=!a;const e=t.c("faceplate-alert",{level:t.I.error,cause:"uncategorized",message:"We had some issues saving your changes. Please try again."});this.dispatchEvent(e)}}}connectedCallback(){super.connectedCallback(),document.addEventListener("keydown",this.publishHotkeyEvent),document.addEventListener(a.S.TOGGLE,this.onHotkeysToggle)}disconnectedCallback(){super.disconnectedCallback(),document.removeEventListener("keydown",this.publishHotkeyEvent),document.removeEventListener(a.S.TOGGLE,this.onHotkeysToggle)}willUpdate(e){e.has("enabled")&&this.enabled&&!Object.keys(t.gw.keys).length?t.gC(this.registry):e.has("registry")&&(t.gD(),t.gC(this.registry))}};e._([e.n({type:Object})],r.prototype,"registry",void 0),e._([e.n({type:Boolean})],r.prototype,"enabled",void 0),r=e._([e.c("shreddit-hotkeys-controller")],r)}));
SML.dm("DyA09elN",["DSWSCRFk","OAEZpqSu","DAgRafdt","DXuMM4FO","DV4LELVr","SRPsYjuk","DjJYrD5V","D9fuzJZ0","DHyFGFNn","DV50IcE5","CF9Lfnln","CU4mObWU","ClDT0gYR","BvOdghwp","Cvv8S0Po","Bx9dp7xe","BaPgoYnS","B8bCssFV","B_Z23SiP","DvsbXjsy","DDc9KuQK","D7sQxsRg","BcykV95-"],(async(t,e,s,o,r,i)=>{const l="virtualized-placeholder";class n{constructor(t){this.topPadding=0,this.topStack=[],this.updatesSinceConnect=0,(this.host=t).addController(this)}hostConnected(){this.updatesSinceConnect=0}hostDisconnected(){}async update(){if(await this.host.updateComplete,this.updatesSinceConnect++,this.updatesSinceConnect<3)return;const{top:t}=this.host.getBoundingClientRect(),e=-1*(t+this.topPadding+window.innerHeight);this._virtualizeTop(e)}virtualizeTopElements(t){let e=t;const s=[];let o=this.host.querySelector(`:not(.${l})`);for(;o;){const{height:t}=o.getBoundingClientRect();if(e-=t,e<0)break;const r=a(t);s.push({node:o,placeholder:r,height:t}),o=o.nextElementSibling}s.forEach((t=>{const{node:e,placeholder:s,height:o}=t;this.topPadding+=o,this.host.replaceChild(s,e),this.topStack.push(t)}))}devirtualizeTopElements(t){let e=t,s=0;const o=[];for(;e<0&&this.topStack.length>0;){const t=this.topStack.pop();if(!t)break;const{height:r}=t;e+=r,s-=r,o.push(t)}this.topPadding+=s,o.forEach((t=>{const{node:e,placeholder:s}=t;this.host.replaceChild(e,s)}))}_virtualizeTop(t){t>1e3?this.virtualizeTopElements(t):t<0&&this.devirtualizeTopElements(t)}}function a(t){const e=document.createElement("div");return e.classList.add(l),e.style.height=`${t}px`,e}class h{constructor(t){this.initializeHotkeys=()=>{this.subscriberController?.subscribe(s.c1.NEXT_POST_COMMENT,this.nextPostOrComment),this.subscriberController?.subscribe(s.c1.PREVIOUS_POST_COMMENT,this.prevPostOrComment),this.subscriberController?.subscribe(s.c1.UPVOTE,this.upvote),this.subscriberController?.subscribe(s.c1.DOWNVOTE,this.downvote),this.subscriberController?.subscribe(s.c1.TOGGLE_EXPANDO,this.toggleExpando),this.subscriberController?.subscribe(s.c1.COPY_POST_OR_COMMENT_LINK,this.copyPostLink),this.subscriberController?.subscribe(s.c1.HIDE_POST,this.hidePost),this.subscriberController?.subscribe(s.c1.TOGGLE_SAVE,this.toggleSave)},this.cleanupHotkeys=()=>{this.subscriberController?.unsubscribe(s.c1.NEXT_POST_COMMENT,this.nextPostOrComment),this.subscriberController?.unsubscribe(s.c1.PREVIOUS_POST_COMMENT,this.prevPostOrComment),this.subscriberController?.unsubscribe(s.c1.UPVOTE,this.upvote),this.subscriberController?.unsubscribe(s.c1.DOWNVOTE,this.downvote),this.subscriberController?.unsubscribe(s.c1.TOGGLE_EXPANDO,this.toggleExpando),this.subscriberController?.unsubscribe(s.c1.COPY_POST_OR_COMMENT_LINK,this.copyPostLink),this.subscriberController?.unsubscribe(s.c1.HIDE_POST,this.hidePost),this.subscriberController?.unsubscribe(s.c1.TOGGLE_SAVE,this.toggleSave)},this.findShredditPost=t=>["shreddit-post","shreddit-ad-post","shreddit-profile-comment"].includes(t?.tagName.toLowerCase()??"")?t:t?.querySelector("shreddit-post, shreddit-ad-post, shreddit-profile-comment"),this.customHotkeyPostTraversal=(t,e)=>{if(!e)return;const s="faceplate-batch"===e.nextElementSibling?.tagName.toLowerCase(),o="faceplate-batch"===e.previousElementSibling?.tagName.toLowerCase();if(s||o)return t===i.P.NEXT?e.nextElementSibling?.firstElementChild:e.previousElementSibling?.lastElementChild;if("faceplate-batch"===e.parentElement?.tagName.toLowerCase()){if(t===i.P.NEXT&&!e.nextElementSibling)return e.parentElement.nextElementSibling;if(t===i.P.PREV&&!e.previousElementSibling)return e.parentElement.previousElementSibling}},this.nextPostOrComment=()=>{this.postOrCommentTraversalController?.traverse(i.P.NEXT),s.a(this.host,s.b({source:"post",action:"next",noun:"post"}))},this.prevPostOrComment=()=>{this.postOrCommentTraversalController?.traverse(i.P.PREV),s.a(this.host,s.b({source:"post",action:"previous",noun:"post"}))},this.upvote=()=>{this.useVotingMethodsFromChildren("upvote")},this.downvote=()=>{this.useVotingMethodsFromChildren("downvote")},this.toggleExpando=()=>{this.postOrCommentTraversalController?.isCurrentPost&&this.postOrCommentTraversalController.current?.hotkeyController?.onToggleExpando()},this.copyPostLink=()=>{this.postOrCommentTraversalController?.isCurrentPost&&this.postOrCommentTraversalController?.current?.hotkeyController?.onCopyLink()},this.hidePost=()=>{this.postOrCommentTraversalController?.isCurrentPost&&this.postOrCommentTraversalController?.current?.hotkeyController?.onToggleHide()},this.toggleSave=()=>{if(this.postOrCommentTraversalController?.isCurrentPost)this.postOrCommentTraversalController?.current?.hotkeyController?.onToggleSave();else{const t=this.postOrCommentTraversalController?.current?.overlowMenuItemProps?.find((t=>"save"===t.id));t?.onClick?.()}},this.useVotingMethodsFromChildren=async t=>{const e=void 0;let s;s=this.postOrCommentTraversalController?.isCurrentPost?this.postOrCommentTraversalController?.current:this.postOrCommentTraversalController?.current?.querySelector("shreddit-comment-action-row"),s&&(s.interactionFromHotkey=!0,"upvote"===t?await s.handleUpvote(e):await s.handleDownvote(e),s.interactionFromHotkey=!1)},this.host=t,t.addController(this)}hostConnected(){this.subscriberController=new s.c0(this.host),this.postOrCommentTraversalController=new i.a(this.host,{type:i.b.FEED,customPostOrCommentDetection:this.findShredditPost,getFirstElement:()=>this.host.firstElementChild,customTraversal:this.customHotkeyPostTraversal}),this.initializeHotkeys()}hostDisconnected(){this.cleanupHotkeys()}}const d=t.s;let c=class extends d{static get styles(){return[s.t,t.i`:host{display:flex;flex-direction:column}`]}get loadAfterController(){return this._loadAfterController}constructor(){super(),this.navigationSessionId="",this.loadBeforeController=new e.I(this),this._loadAfterController=null,this.isFeedTranslatable=!1,this.isTranslationsEligible=!1,this.omitLoadAfter=!1,this.refreshPillDismissThreshold=1200,this.showRefreshPill=!1,this.refreshPillRef=s.C(),this.virtualization=new n(this),this.handleVirtualization=e.o((()=>{this.virtualization?.update()}),200,!0),this.onDocumentScroll=()=>{this.handleVirtualization(),this.updateRefreshPillStyle()},this.updateRefreshPillStyle=()=>{const t=this.refreshPillRef.value;t&&this.refreshPillDismissThreshold&&!isNaN(this.scrollPositionAtRefreshShow??NaN)&&window.scrollY-this.scrollPositionAtRefreshShow>this.refreshPillDismissThreshold&&(t.classList.add("opacity-0"),t.classList.remove("opacity-100"),setTimeout((()=>{this.showRefreshPill=!1,this.scrollPositionAtRefreshShow=void 0}),1e3))},this.reloadFeed=(t={})=>{window.scrollBy({top:this.getBoundingClientRect().top-56,behavior:"instant"}),this.dispatchEvent(new CustomEvent(e.ax,{detail:{queryParameters:t}}))},this.trackRefresh=(t,e)=>{s.a(this,s.b({source:"feed",action:"refresh",noun:"feed"},{timer:{millis:1e3*t,type:s.fs.Background},action_info:{type:e}}))},this.handleVisibilityChange=t=>{t?this.backgroundedAtTime&&(this.backgroundTimeElapsedInSeconds=(Date.now()-this.backgroundedAtTime)/1e3,this.backgroundedAtTime=void 0,this.backgroundAutoRefreshTimeThreshold&&!isNaN(this.backgroundAutoRefreshTimeThreshold)&&this.backgroundTimeElapsedInSeconds>=this.backgroundAutoRefreshTimeThreshold?(this.reloadFeed({refresh:o.B.AUTOMATIC}),this.showRefreshPill=!1,this.trackRefresh(this.backgroundTimeElapsedInSeconds,"automatic_refresh")):this.backgroundManualRefreshTimeThreshold&&!isNaN(this.backgroundManualRefreshTimeThreshold)&&this.backgroundTimeElapsedInSeconds>=this.backgroundManualRefreshTimeThreshold&&(this.showRefreshPill=!0,this.scrollPositionAtRefreshShow=window.scrollY)):(this.backgroundedAtTime=Date.now(),this.backgroundTimeElapsedInSeconds=void 0)},this.reloadController=new e.ay(this,{mode:s.P.Contents,containerSelector:"body"}),this.hotkeyController=new h(this)}async connectedCallback(){super.connectedCallback(),this.omitLoadAfter||(this._loadAfterController=new e.I(this,{rootMargin:2*window.innerHeight+"px"})),document.addEventListener("scroll",this.onDocumentScroll),this.reloadUrl&&(this.reloadController.reloadUrl=this.reloadUrl),"scrollRestoration"in history&&(history.scrollRestoration="manual"),s.an(this.handleVisibilityChange)}updated(t){this.hasUpdated&&t.has("reloadUrl")&&this.reloadUrl&&(this.reloadController.reloadUrl=this.reloadUrl)}handleAfterSlotChange(t){this.loadAfterController?.handleSlotChange(t)}async disconnectedCallback(){super.disconnectedCallback(),document.removeEventListener("scroll",this.onDocumentScroll),s.ao(this.handleVisibilityChange)}render(){return this.reloadController.isLoading?t.x`<shreddit-loading></shreddit-loading>`:t.x`<faceplate-screen-reader-content> <h1>${"Feed"}</h1> </faceplate-screen-reader-content> ${this.showRefreshPill?t.x`<div ${s.H(this.refreshPillRef)} class="sticky h-0 top-[56px] self-center z-10 transition-opacity ease-in-out opacity-100 duration-1000"> ${s.J({appearance:"primary",size:s.a2.Small,children:t.x` ${"New Posts"}`,trailingIcon:r.u({size:t.I.ExtraSmall,attributes:{className:"ml-xs"}}),attributes:{className:"!px-md mt-xs xs:mt-md shadow-sm",onclick:()=>{this.reloadFeed({refresh:o.B.MANUAL}),this.showRefreshPill=!1,this.trackRefresh(this.backgroundTimeElapsedInSeconds??0,"refresh_pill")}}})} </div>`:t.A} <slot @slotchange="${this.loadBeforeController?.handleSlotChange}" name="load-before"></slot> <slot></slot> <slot @slotchange="${this.handleAfterSlotChange}" name="load-after"></slot>`;}};t._([t.n({type:String,attribute:"navigation-session-id"})],c.prototype,"navigationSessionId",void 0),t._([t.n({type:Boolean,attribute:"is-feed-translatable"})],c.prototype,"isFeedTranslatable",void 0),t._([t.n({type:Boolean,attribute:"is-translations-eligible"})],c.prototype,"isTranslationsEligible",void 0),t._([t.n({type:String,attribute:"reload-url"})],c.prototype,"reloadUrl",void 0),t._([t.n({type:Boolean,attribute:"omit-load-after"})],c.prototype,"omitLoadAfter",void 0),t._([t.n({type:Number,attribute:"bg-auto-refresh-time-threshold"})],c.prototype,"backgroundAutoRefreshTimeThreshold",void 0),t._([t.n({type:Number,attribute:"bg-manual-refresh-time-threshold"})],c.prototype,"backgroundManualRefreshTimeThreshold",void 0),t._([t.n({type:Number,attribute:"refresh-pill-dismiss-threshold"})],c.prototype,"refreshPillDismissThreshold",void 0),t._([t.b()],c.prototype,"showRefreshPill",void 0),c=t._([t.c("shreddit-feed")],c)}));
SML.dm("h2Qckg6Q",["DSWSCRFk","DAgRafdt","OAEZpqSu"],(async(t,e,o)=>{let i=class extends t.s{constructor(){super(...arguments),this.country="",this.cookieDomain="",this._events=new e.E(this),this._onLayoutViewChange=this._events.define("layout-view-change",(t=>{const{selected:i}=t.detail;e.u({country:this.country,name:e.fn,value:o.c7(i)?"true":"false",options:{...e.D,domain:this.cookieDomain||void 0}})}))}static get styles(){return t.i`:host{display:flex;align-items:center}`}render(){return t.x` <slot></slot>`}};t._([t.n({type:String})],i.prototype,"country",void 0),t._([t.n({type:String,attribute:"cookie-domain"})],i.prototype,"cookieDomain",void 0),i=t._([t.c("shreddit-layout-event-setter")],i)}));

SML.dm("C-AymPzu",["DAgRafdt","DSWSCRFk"],(async(t,e)=>{let o=class extends t.g5{constructor(){super(...arguments),this._fullscreenBlurEl=document.createElement("div"),this._appliedBlurFilter=null,this._blurElement=null,this.shouldContentScroll=!1,this.isFooterEmpty=!0,this.render=()=>{const o=e.x`<slot name="closeButton" class="${t.x({floating:this.shouldContentScroll})}"></slot>`,i=e.x`<div id="header" class="${t.x({"with-icon":this._titleGraphic.length>0})}"> <slot name="titleGraphic"></slot> <slot name="title"></slot> </div>`,n=e.x`<slot name="primaryButton" @slotchange="${this.calcFooterChildren}"></slot> <slot name="secondaryButton" @slotchange="${this.calcFooterChildren}"></slot> <slot name="tertiaryButton" @slotchange="${this.calcFooterChildren}"></slot>`;return e.x` ${t.c8(this.modal?"\n  <style>\n    :host {\n      top: 50%;\n      transform: translateY(-50%);\n      position: fixed;\n    }\n  </style>\n":"\n  <style>\n    :host {\n      position: absolute;\n    }\n  </style>\n")} <div id="wrapper" role="${e.l(this.open?"dialog":void 0)}" aria-label="${e.l(this.ariaLabel??void 0)}" aria-labelledby="${e.l(null!=this.ariaLabel?void 0:"header-container")}" aria-modal="${e.l(this.open&&this.modal?"true":void 0)}"> <div id="content"> ${o} <div id="header-container">${i}</div> <slot></slot> </div> <div id="footer" class="${t.x({"sticky-footer":this.shouldContentScroll,empty:this.isFooterEmpty})}"> ${n} <slot name="footer" @slotchange="${this.calcFooterChildren}"></slot> </div> </div> `}}static get styles(){return e.i`${t.g5.styles}:host{--content-padding:var(--spacer-md);box-sizing:border-box;max-width:none;border-radius:var(--rem16);padding:0;overflow:hidden}#wrapper{display:flex;flex-direction:column;align-items:center;height:100%;position:relative;font-size:16px;box-sizing:border-box;max-height:inherit;min-height:inherit;overflow:hidden}slot[name=closeButton]{display:inline-flex;position:absolute;position:absolute;top:0;inset-inline-end:0;margin:var(--content-padding)}#header{display:flex;flex-direction:column;gap:var(--spacer-sm);align-items:center;text-align:start;width:100%;box-sizing:border-box}#header.with-icon{text-align:center;padding:0 var(--rem40)}slot[name=title]{font-size:var(--rem18);font-weight:700}slot:not([name]){display:flex;flex-grow:1;width:100%;padding:var(--spacer-xs) 0;font-size:var(--rem14)}#footer{display:flex;flex-direction:column;gap:var(--spacer-sm);width:100%;background:var(--color-ui-modalbackground);padding:var(--spacer-md);box-sizing:border-box}slot[name=tertiaryButton]{display:inline-flex;justify-content:center;font-size:14px}#footer.empty{display:none}@media (min-width:640px){#content{padding:var(--content-padding)}#header,#header.with-icon{flex-direction:row;padding-inline:0 var(--spacer-2xl)}#footer{flex-direction:row-reverse;align-items:center;justify-content:end}slot[name=tertiaryButton]{margin-inline-end:auto}slot[name=title]{text-align:start}}#content{height:100%;max-height:100%;width:100%;overflow:auto;position:relative;--content-padding:var(--spacer-md);padding:var(--content-padding);box-sizing:border-box;flex:1}.overflowing-content{max-height:100%;overflow-y:auto}.sticky-footer{box-shadow:var(--elevation-md)}slot[name=closeButton].floating{box-shadow:var(--elevation-sm);border-radius:999px}`}connectedCallback(){super.connectedCallback(),Object.assign(this._fullscreenBlurEl.style,{position:"fixed",top:"0",bottom:"0",right:"0",left:"0",backdropFilter:i(4)})}disconnectedCallback(){this._fullscreenBlurEl.remove(),t.g6.remove(this),this.resizeObserver?.disconnect()}firstUpdated(){this.resizeObserver=new ResizeObserver((()=>{this.measureShouldContentScroll()})),this.resizeObserver.observe(this.content)}calcFooterChildren(){this.isFooterEmpty=!(this._footerSlot?.length||this._primaryButtonSlot?.length||this._secondaryButtonSlot?.length||this._tertiaryButtonSlot?.length)}measureShouldContentScroll(){this.shouldContentScroll=Boolean(this.content?.scrollHeight&&this.content?.scrollHeight>this.content.offsetHeight)}showModal(e){if(t.g6.add(this),super.showModal(),null!=e?.blur){const t=!0===e.blur?4:Number(e.blur);this._appliedBlurFilter=i(t),e?.blurElement?(this._blurElement=e.blurElement,o=this._blurElement,n=this._appliedBlurFilter,o.style.filter=o.style.filter+" "+n):(Object.assign(this._fullscreenBlurEl.style,{backdropFilter:this._appliedBlurFilter}),document.body.append(this._fullscreenBlurEl))}var o,n}close(){this.open&&(super.close(),t.g6.remove(this),null!=this._blurElement&&null!=this._appliedBlurFilter?(!function(t,e){const o=t.style.filter.split(" ").filter(Boolean).reverse(),i=o.indexOf(e);if(-1===i)return;o.splice(i,1),t.style.filter=o.reverse().join(" ")}(this._blurElement,this._appliedBlurFilter),this._appliedBlurFilter=null,this._blurElement=null):this._fullscreenBlurEl.remove())}};function i(t){return`blur(${t}px)`}e._([e.b()],o.prototype,"shouldContentScroll",void 0),e._([e.k({slot:"titleGraphic"})],o.prototype,"_titleGraphic",void 0),e._([e.D("#content")],o.prototype,"content",void 0),e._([e.D("#footer")],o.prototype,"footer",void 0),e._([e.b()],o.prototype,"isFooterEmpty",void 0),e._([e.v({slot:"footer",flatten:!0})],o.prototype,"_footerSlot",void 0),e._([e.v({slot:"primaryButton",flatten:!0})],o.prototype,"_primaryButtonSlot",void 0),e._([e.v({slot:"secondaryButton",flatten:!0})],o.prototype,"_secondaryButtonSlot",void 0),e._([e.v({slot:"tertiaryButton",flatten:!0})],o.prototype,"_tertiaryButtonSlot",void 0),o=e._([e.c("faceplate-modal")],o);const n=t=>t.startsWith("t1_");return{get F(){return o},O:"mod-show-post-level-crowd-control-modal",a:(e,o,i)=>t.b({source:"removal_reasons",action:"click",noun:"submit"},{mod_action:{removalreason:e},action_info:{reason:o},subreddit:{id:i?.subredditId},post:{id:i?.postId??""},comment:{id:i?.commentId}}),b:()=>t.b({source:"removal_reasons",action:"click",noun:"cancel"}),c:()=>t.b({source:"post",action:"click",noun:"restore_reports"}),d:()=>t.b({source:"comment",action:"click",noun:"ignore_reports"}),e:()=>t.b({source:"comment",action:"click",noun:"restore_reports"}),h:(e,o)=>t.b({source:"moderator",action:"highlight",noun:"post"},{post:{id:e},...o?{action_info:{page_type:o}}:{}}),p:()=>t.b({source:"post",action:"click",noun:"ignore_reports"}),r:e=>{const{authorId:o,subredditId:i,postId:r,commentId:l,subredditName:s,thingId:a,action:d,noun:c="removal_reasons_flow",type:h,reason:p,isLocked:u,sendAs:m,notificationMethod:v}=e;return t.b({source:"moderator",action:d,noun:c},{user:{id:o},subreddit:{id:i,name:s},post:{id:r??""},comment:{id:l},action_info:{source_name:"removal_reasons",type:h,reason:p},mod_action:{removalreason:{is_locked:u,send_as:m,notify:v}},...a&&(b=a,b.startsWith("t3_"))&&{post:{id:a}},...a&&n(a)&&{comment:{id:a}}});var b},u:(e,o)=>t.b({source:"moderator",action:"unhighlight",noun:"post"},{post:{id:e},...o?{action_info:{page_type:o}}:{}})}}));
SML.dm("BQbyLE0C",["DSWSCRFk","DAgRafdt","B_Z23SiP"],(async(t,e,i)=>{function n(t){if(i.i(t)&&(t.checked=t.hasAttribute("checked")),i.a(t))t.formResetCallback&&t.formResetCallback();else if(t instanceof HTMLInputElement)t.value=t.getAttribute("value")||"";else if(t instanceof HTMLTextAreaElement)t.value=t.textContent||"";else if(i.b(t))for(const e of t.options)e.selected=e.hasAttribute("selected");else t instanceof HTMLOutputElement&&(t.value=t.defaultValue)}function s(t){const i={};for(const n of t){const[t,s]=n;if(s instanceof File)throw e.fQ(t);Object.prototype.hasOwnProperty.call(i,t)?Array.isArray(i[t])?i[t].push(s):i[t]=[i[t],s]:i[t]=s}return i}const a=(t,e=0)=>{if(6!==e)return t instanceof HTMLInputElement||t instanceof HTMLButtonElement?t:t?a(t.parentElement,e+1):void 0};function r(t){let i;document.activeElement&&document.activeElement!==document.body&&(i=e.fR(document.activeElement)),!i&&t&&t.target instanceof Element&&(i=function(t){var e;for(const i of null!==(e=t.composedPath())&&void 0!==e?e:[])if((i instanceof HTMLInputElement||i instanceof HTMLButtonElement)&&"submit"===i.type)return i}(t));const n=i instanceof HTMLButtonElement||i instanceof HTMLInputElement;if(i&&t&&!n&&(i=a(i.parentElement)),i)return(i instanceof HTMLInputElement||i instanceof HTMLButtonElement)&&"submit"===i.type?i:void 0}function o(t){return t instanceof HTMLElement&&Object.prototype.hasOwnProperty.call(t.dataset,"faceplateConstraint")}function l(t,i,n){return e.c("faceplate-alert",{level:e.I.error,message:e.fV("Form submission failed"),meta:null==t?void 0:t.toString(),sourceElement:i,cause:n})}const c={[e.eP.UrlEncoded]:e.fS,[e.eP.JSON]:function(t){return JSON.stringify(s(t))},[e.eP.FormData]:t=>t};let d=class extends t.s{constructor(){super(...arguments),this.accept="text/vnd.reddit.partial+html, application/json",this.enctype=e.eP.UrlEncoded,this.action="",this.disabled=!1,this.method=e.aR.Post,this.target="",this.partialMode=e.P.Append,this.novalidate=!1,this.validationTrigger="focusout",this._events=new e.E(this),this.formSubmissionInProgress=!1,this.rulesDidChange=!1,this.focusedInputForValiditySinceLastSubmit=!1,this._shouldRebuildElements=!0,this._elements={},this._validationObserverCount=0,this._asyncInputOperations=0,this.requester=e.fT,this.encoders=c,this._handleInput=this._events.define("input",(()=>{this._shouldRebuildElements=!0})),this._handleFormSubmit=this._events.define("submit",(t=>{const e=t.target;if(!(e&&e instanceof HTMLFormElement))return;t.preventDefault();const i=r(t);this.submit(e.action,void 0,i)})),this._handleClick=this._events.define("click",(t=>{const e=r(t);e&&(t.preventDefault(),this.submit(this.action,void 0,e))})),this._handleFocusIn=this._events.define("focusin",(t=>{if(i.d(t.target)&&o(t.target))if(this.formSubmissionInProgress){const e=this;t.target.addEventListener("input",(function t(i){var n;e.validateElementAgainstRules(i.target)&&(null===(n=i.target)||void 0===n||n.removeEventListener("input",t))}))}else t.target.setCustomValidity("")})),this.configureValidation=()=>this.addEventListener(this.validationTrigger,(t=>{i.d(t.target)&&(o(t.target)&&this.validateElementAgainstRules(t.target),i.F in t.target.constructor&&t.target.syncInputValidity(),this.notifyObservers(t.target))})),this._handleFaceplateAlert=this._events.define("faceplate-alert",(t=>{const{level:i,name:n,message:s}=t.detail;i===e.I.error&&n&&s&&this.invalidateFieldWithMessage(n,s)&&(t.target.remove(),t.stopPropagation())})),this.register=t=>{this.dispatchEvent(new CustomEvent("_faceplate-register-input",{detail:{target:t}}))},this._handleRegister=this._events.define("_faceplate-register-input",(t=>{var e;t.stopImmediatePropagation(),t.detail.register&&(null===(e=t.detail)||void 0===e||e.register(this)),this._shouldRebuildElements=!0;const{target:i}=t.detail;i.syncInputValidity(!1),this.notifyObservers(i)}))}updated(t){t.has("validationTrigger")&&(t.get("validationTrigger")&&this.removeEventListener(t.get("validationTrigger"),this.configureValidation),this.configureValidation())}get canSubmit(){return!(this.disabled||this.formSubmissionInProgress||this._asyncInputOperations>0)}get elements(){if(this._shouldRebuildElements){this._elements={};for(const t of this.recognizedInputs()){const{name:e}=t;if(e)if(e in this._elements){const n=this._elements[e];let s;Array.isArray(n)?(s=n,n.push(t)):(s=[n,t],s.value=i.e(n)&&n.checked?n.value:"",this._elements[e]=s),i.e(t)&&t.checked&&(s.value=t.value)}else this._elements[t.name]=t}this._shouldRebuildElements=!1}return this._elements}static get styles(){return t.i`:host{display:block;margin-bottom:1rem}`}render(){return t.x` <slot></slot> `}addEventListener(t,e,i){super.addEventListener(t,e,i),"_faceplate-validation-change"===t&&(this._validationObserverCount+=1)}removeEventListener(t,e,i){super.removeEventListener(t,e,i),"_faceplate-validation-change"===t&&(this._validationObserverCount-=1)}async disableUntil(t){this._asyncInputOperations+=1;try{await t}finally{this._asyncInputOperations-=1}}notifyObservers(t){if(this._validationObserverCount){const i=e.fU("_faceplate-validation-change",{bubbles:!0,cancelable:!1,composed:!1,detail:{input:t,message:t.validationMessage,name:t.name}});this.dispatchEvent(i)}}invalidateFieldWithMessage(t,e){const n=this.querySelector(`[name="${t}"]`);return!!i.d(n)&&(n.setCustomValidity(e),n.setAttribute("faceplate-dirty",""),this.notifyObservers(n),e&&n.addEventListener("input",(function t(){n.setCustomValidity(""),n.removeEventListener("input",t)})),e&&!this.focusedInputForValiditySinceLastSubmit&&(this.focusedInputForValiditySinceLastSubmit=!0,this.reportFieldValidity(n)),!0)}reportFieldValidity(t){const i=t.reportValidity();if(!i&&null===t.offsetParent){const i=e.c("faceplate-alert",{level:e.I.error,message:e.fV("Validation error on hidden input"),meta:`"${t.name}": ${t.validationMessage}`,sourceElement:this.tagName,cause:"faceplate-form-input-validation-failure"});this.dispatchEvent(i)}return i}get targetElement(){return this.target&&document.querySelector(this.target)||this}get isValid(){let t=!0;const e=r(),n=!(this.novalidate||e&&e.hasAttribute("formnovalidate"));for(const e of this.recognizedInputs())if(i.d(e)){if(e.disabled)continue;if(e.matches(":disabled"))continue;if(n&&(this.validateElementAgainstRules(e),!e.checkValidity())){t=!1;break}}return t}async submit(i=this.action,n,s){var a,r,o,c;if(!this.canSubmit)return;this.formSubmissionInProgress=!0,this.focusedInputForValiditySinceLastSubmit=!1;try{const f=e.c("faceplate-submit");if(this.dispatchEvent(f),f.defaultPrevented)return;const p=this.buildRequest(n,s);if(!p)return;if("dialog"===p.method){const t=this.closest("faceplate-dialog");if(!t)throw new Error("Unable to find parent faceplate-dialog element to close with form submission");return t.close(p.body)}let m=this.enctype;if(s&&s.hasAttribute("formenctype")&&(m=s.getAttribute("formenctype")),"log"===p.method){const t=this.encoders[m];return console.log(t?t(p.body):p.body)}s&&s.hasAttribute("formaction")&&(i=s.getAttribute("formaction"));const v={enctype:m,encoders:this.encoders,credentials:this.credentials};try{for(var d,u=!0,h=t.h(this.requester(i,p,v));!(a=(d=await h.next()).done);){c=d.value,u=!1;try{const t=c;if("faceplate-error"===t.type){const e=l(t.detail,this.tagName,"faceplate-form-fetch-failure");this.dispatchEvent(e);break}if(this.dispatchEvent(t),"faceplate-response"===t.type){await this.handleResponse(t.detail.response);break}}finally{u=!0}}}catch(t){r={error:t}}finally{try{u||a||!(o=h.return)||await o.call(h)}finally{if(r)throw r.error}}}catch(t){const e=l(t,this.tagName,"faceplate-form-submission-uncaught-error");this.dispatchEvent(e)}finally{return void(this.formSubmissionInProgress=!1)}}validateElementAgainstRules(t){var n;if(!o(t))return!0;if(this.rulesDidChange){const t=e.c("faceplate-form-constraints-changed");this.dispatchEvent(t),this.rulesDidChange=!1}t.setCustomValidity("");const s=i.g.getRegisteredElements(this);if(!s)return!0;const a=null===(n=t.dataset.faceplateConstraint)||void 0===n?void 0:n.split(" ");if(!a||!a.length)return!0;for(const e of a){const i=s.get(e);if(!i){console.warn(`Skipping validation against unknown rule "${e}"`);continue}const n=t.value;if(null!==n&&!i.validate(n))return t.setCustomValidity(i.message),!1}return!0}*elementsIterator(){yield*this.recognizedInputs()}recognizedInputs(){let t=new Set;for(const e of[...this.querySelectorAll("*")].filter(i.d))t.add(e);const e=this.querySelectorAll("output");for(let i=0;i<e.length;i++)t.add(e[i]);const n=i.h.getRegisteredElements(this);return n&&(t=new Set([...t,...n])),t}reset(){for(const t of this.recognizedInputs())n(t)}buildRequest(t,n){const s=new FormData;!n&&arguments.length<3&&(n=r());const a=!(this.novalidate||n&&n.hasAttribute("formnovalidate"));for(const t of this.recognizedInputs())if(i.d(t)){if(t.disabled)continue;if(t.matches(":disabled"))continue;if(a&&(this.validateElementAgainstRules(t),!this.reportFieldValidity(t)))return null;if(i.i(t)&&!t.checked)continue;const{name:e,value:n}=t;if(null===n)continue;if(n instanceof FormData){for(const t of n)s.append(t[0],t[1]);continue}if(!e)continue;if(i.b(t)&&t.multiple)for(const i of t.options)i.selected&&s.append(e,i.value);else if(t instanceof HTMLInputElement&&"file"===t.type){const i=t.files;if(i)for(const t of i)s.append(e,t)}else s.append(e,n)}if(t)for(const e of t)s.append(e.name,e.value);let o=this.method;return n&&(n.name&&n.value&&s.append(n.name,n.value),n.hasAttribute("formmethod")&&(o=e.fW(n.getAttribute("formmethod")))),{body:s,method:o.toLowerCase(),headers:{Accept:this.accept}}}async handleResponse(t){const i=e.cA(t);if("text/vnd.reddit.partial+html"===i){const i=await t.text(),n=this.targetElement;e.ax(i,n,this.partialMode)}else if("application/json"===i&&t.status>=400){const i=await t.json();if("object"==typeof(n=i)&&n&&Object.prototype.hasOwnProperty.call(n,"title")&&Object.prototype.hasOwnProperty.call(n,"message")){const n=e.c("faceplate-alert",{level:e.I.error,name:i.title,message:e.fV("Form responded with error"),meta:i.message,sourceElement:this.tagName,cause:`faceplate-form-response-error-${t.status}`});this.dispatchEvent(n)}}else"text/html"===i&&t.redirected&&(window.location.href=t.url);var n}};return t._([t.n({type:String})],d.prototype,"accept",void 0),t._([t.n({type:String})],d.prototype,"enctype",void 0),t._([t.n({type:String})],d.prototype,"action",void 0),t._([t.n({type:Boolean,reflect:!0})],d.prototype,"disabled",void 0),t._([t.n({converter:e.fW,reflect:!0})],d.prototype,"method",void 0),t._([t.n({type:String})],d.prototype,"target",void 0),t._([t.n({type:String,attribute:"partial-mode"})],d.prototype,"partialMode",void 0),t._([t.n({type:String})],d.prototype,"novalidate",void 0),t._([t.n({type:String})],d.prototype,"credentials",void 0),t._([t.n({type:String,attribute:"validation-trigger"})],d.prototype,"validationTrigger",void 0),d=t._([t.c("faceplate-form")],d),i.r(d),{C:class{get active(){return this.duration>0}get timeRemaining(){return`${Math.floor(this.duration/6e4)}:${Math.ceil(this.duration%6e4/1e3).toString().padStart(2,"0")}`}get secondsRemaining(){return Math.ceil(this.duration/1e3).toString()}constructor(t){this.duration=0,this.interval=0,this.update=()=>{this.duration=this.duration-this.interval,this.duration<=0&&this.reset(),this.host.requestUpdate()},this.host=t,this.host.addController(this)}hostDisconnected(){this.reset()}reset(){clearInterval(this.timeout),this.duration=0,this.interval=0}start(t,e=1e3){this.reset(),this.duration=t,this.interval=e,this.timeout=setInterval(this.update,this.interval),this.host.requestUpdate()}},get F(){return d},c:s}}));
SML.dm("s1sP3jLz",["DAgRafdt"],(async e=>{var o,t,n;!function(e){e.AddRemovalReason="mod-add-removal-reason",e.IgnoreReports="mod-ignore-reports",e.UnignoreReports="mod-unignore-reports",e.Distinguish="mod-distinguish",e.Undistinguish="mod-undistinguish",e.Sticky="mod-sticky",e.Unsticky="mod-unsticky",e.Lock="mod-lock",e.Unlock="mod-unlock",e.ApproveContent="mod-approve-content",e.RemoveContent="mod-remove-content",e.RemoveContentAsSpam="mod-remove-spam-content",e.ConfirmRemoval="mod-confirm-removal",e.RemoveContentMenu="mod-remove-content-menu",e.MarkNsfw="mod-mark-nsfw",e.UnmarkNsfw="mod-unmark-nsfw",e.MarkSpoiler="mod-mark-spoiler",e.UnmarkSpoiler="mod-unmark-spoiler",e.AdjustCrowdControl="mod-adjust-crowd-control",e.OpenEditPostFlairModal="mod-open-edit-post-flair-modal",e.SnoozeReporter="mod-snooze-reporter",e.UnsnoozeReporter="mod-unsnooze-reporter",e.UpdateHighlightedPost="mod-update-highlighted-post",e.RemoveHighlightedPost="mod-remove-highlighted-post",e.ApproveContentOptimistic="mod-approve-content-optimistic",e.RemoveContentOptimistic="mod-remove-content-optimistic",e.ConfirmRemovalOptimistic="mod-confirm-removal-optimistic",e.RemoveContentAsSpamOptimistic="mod-remove-spam-optimistic",e.ShareToModChat="mod-share-to-mod-chat",e.ViewChatThread="view-chat-thread"}(o||(o={})),function(e){e.Distinguish="admin-distinguish",e.Undistinguish="admin-undistinguish"}(t||(t={})),function(e){e.Dismissed="Dismissed",e.Ignored="Ignored",e.Reported="Reported"}(n||(n={}));const r=async(e=document,o=5e3,t=100)=>{const n=Date.now(),r=e=>{const o=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,null);let t=o.nextNode();for(;t;){if(t instanceof Element&&t.shadowRoot){const e=m(t.shadowRoot);if(e)return e}t=o.nextNode()}return null},m=e=>{const o=e.querySelector('textarea[name="message"]');return o instanceof HTMLTextAreaElement?o:r(e)};return new Promise((m=>{const i=()=>{const s=(()=>{const o=e.querySelector("rs-message-composer");return o?.input?o.input:r(e)})();s?m(s):Date.now()-n>o?m(null):setTimeout(i,t)};i()}))};return{get A(){return t},get M(){return o},get R(){return n},f:async(e,o=r)=>{const t=await o();t&&(e?(t.value="",t.focus()):setTimeout((()=>{t.focus()}),1e3))},g:t=>{switch(t){case e.f6.ApproveComment:case e.f6.ApproveLink:return o.ApproveContent;case e.f6.RemoveComment:case e.f6.RemoveLink:return o.RemoveContent;case e.f6.SpamComment:case e.f6.SpamLink:return o.RemoveContentAsSpam;case e.f6.AddRemovalReason:return o.AddRemovalReason;default:return o.ApproveContent}}}}));
SML.dm("ANc6hYHB",["s1sP3jLz"],(async e=>{var i;!function(e){e.addRemovalReason="add_removal_reason",e.distinguishAsMod="distinguish_as_mod",e.distinguishAsAdmin="distinguish_as_admin",e.sticky="sticky",e.lock="lock",e.approve="approve",e.remove="remove",e.removeAsSpam="remove_as_spam",e.confirmRemoval="confirm_removal",e.approveOptimistic="approve_optimistic",e.removeOptimistic="remove_optimistic",e.removeAsSpamOptimistic="remove_as_spam_optimistic",e.confirmRemovalOptimistic="confirm_removal_optimistic",e.ignoreReports="ignore_reports",e.edit="edit",e.snoozeReporter="snooze_reporter",e.unsnoozeReporter="unsnooze_reporter"}(i||(i={}));const o={[e.M.Distinguish]:i.distinguishAsMod,[e.M.Undistinguish]:i.distinguishAsMod,[e.M.Lock]:i.lock,[e.M.Unlock]:i.lock,[e.M.Sticky]:i.sticky,[e.M.Unsticky]:i.sticky,[e.M.AddRemovalReason]:i.addRemovalReason,[e.M.ApproveContent]:i.approve,[e.M.RemoveContent]:i.remove,[e.M.RemoveContentAsSpam]:i.removeAsSpam,[e.M.ConfirmRemoval]:i.confirmRemoval,[e.M.IgnoreReports]:i.ignoreReports,[e.M.UnignoreReports]:i.ignoreReports,[e.M.SnoozeReporter]:i.snoozeReporter,[e.M.UnsnoozeReporter]:i.unsnoozeReporter,[e.A.Distinguish]:i.distinguishAsAdmin,[e.A.Undistinguish]:i.distinguishAsAdmin,[e.M.ApproveContentOptimistic]:i.approveOptimistic,[e.M.RemoveContentOptimistic]:i.removeOptimistic,[e.M.RemoveContentAsSpamOptimistic]:i.removeAsSpamOptimistic,[e.M.ConfirmRemovalOptimistic]:i.confirmRemovalOptimistic};var t,s;return function(e){e.Preview="preview",e.Pdp="pdp"}(t||(t={})),function(e){e.CommentPreviewUnit="CommentPreviewUnit",e.CommentTree="CommentTree"}(s||(s={})),{get C(){return i},S:o}}));
SML.dm("BHN2zcRJ",["s1sP3jLz","DAgRafdt"],(async(t,e)=>{var o;!function(t){t.follow="follow",t.hide="hide",t.save="save",t.delete="delete",t.markAsSpoiler="mark_as_spoiler",t.markAsNsfw="mark_as_nsfw",t.markAsCommercialCommunication="mark_as_commercial_communication",t.distinguishAsMod="distinguish_as_mod",t.distinguishAsAdmin="distinguish_as_admin",t.updatePostFlair="update_post_flair",t.lock="lock",t.sticky="sticky",t.addRemovalReason="add_removal_reason",t.edit="edit",t.updateContent="update_content",t.updatePostBodyPending="update_post_body_pending",t.approve="approve",t.remove="remove",t.removeAsSpam="remove_as_spam",t.ignoreReports="ignore_reports",t.confirmRemoval="confirm_removal",t.updateSendReplies="update_send_replies",t.snoozeReporter="snooze_reporter",t.unsnoozeReporter="unsnooze_reporter",t.updateHighlightedPost="update_highlighted_post",t.approveOptimistic="approve_optimistic",t.removeOptimistic="remove_optimistic",t.removeAsSpamOptimistic="remove_as_spam_optimistic",t.confirmRemovalOptimistic="confirm_removal_optimistic",t.shareToModChat="share_to_mod_chat"}(o||(o={}));const i={isPostFollowed:o.follow,isPostHidden:o.hide,isPostSaved:o.save,isPostSpoiler:o.markAsSpoiler,isPostNsfw:o.markAsNsfw,isPostCommercialCommunication:o.markAsCommercialCommunication,isPostDistinguishedAsAdmin:o.distinguishAsAdmin,isPostStickied:void 0,isReceivingPostReplies:o.updateSendReplies,[t.M.Distinguish]:o.distinguishAsMod,[t.M.Undistinguish]:o.distinguishAsMod,[t.M.Lock]:o.lock,[t.M.Unlock]:o.lock,[t.M.Sticky]:o.sticky,[t.M.Unsticky]:o.sticky,[t.M.AddRemovalReason]:o.addRemovalReason,[t.M.ApproveContent]:o.approve,[t.M.RemoveContent]:o.remove,[t.M.RemoveContentAsSpam]:o.removeAsSpam,[t.M.ConfirmRemoval]:o.confirmRemoval,[t.M.IgnoreReports]:o.ignoreReports,[t.M.UnignoreReports]:o.ignoreReports,[t.M.SnoozeReporter]:o.snoozeReporter,[t.M.UnsnoozeReporter]:o.unsnoozeReporter,[t.M.RemoveHighlightedPost]:o.updateHighlightedPost,[t.A.Distinguish]:o.distinguishAsAdmin,[t.A.Undistinguish]:o.distinguishAsAdmin,[t.M.ApproveContentOptimistic]:o.approveOptimistic,[t.M.RemoveContentOptimistic]:o.removeOptimistic,[t.M.RemoveContentAsSpamOptimistic]:o.removeAsSpamOptimistic,[t.M.ConfirmRemovalOptimistic]:o.confirmRemovalOptimistic};o.hide,o.markAsSpoiler,o.markAsNsfw,o.markAsCommercialCommunication;var r;!function(t){t[t.Follow=5]="Follow",t[t.Edit=10]="Edit",t[t.Report=20]="Report",t[t.Save=30]="Save",t[t.TranslationSetting=35]="TranslationSetting",t[t.LanguageAndTranslations=40]="LanguageAndTranslations",t[t.Delete=70]="Delete",t[t.AdminDistinguish=80]="AdminDistinguish",t[t.BrandAffiliate=90]="BrandAffiliate",t[t.Notifs=100]="Notifs",t[t.Reply=110]="Reply",t[t.Award=120]="Award",t[t.Insights=130]="Insights",t[t.ShareAsPost=140]="ShareAsPost"}(r||(r={}));const s="429";function a(t){return t?.[0]?.message??"Something went wrong";}return{get C(){return r},E:"post__click_unrsvp",P:["isPostFollowed","isPostHidden","isPostSaved","isPostSpoiler","isPostNsfw","isPostCommercialCommunication","isPostDistinguishedAsAdmin","isPostStickied","isReceivingPostReplies"],R:s,S:i,get a(){return o},b:"post__click_rsvp",c:"edit",d:async function(t){const o={input:t},{data:i,errors:r}=await e.r({operation:e.O.DeletePost,variables:o});if(r?.length)throw new Error(a(r));const{deletePost:s}=i;if(!s?.ok)throw new Error(a(s?.errors))},e:"overflow__click_comments",f:"overflow__click_share",g:async function(t,o){const i={input:{postId:t,saveState:o?e.gj.None:e.gj.Saved}},{data:r,errors:s}=await e.r({operation:e.O.UpdatePostSaveState,variables:i});if(s?.length)throw new Error(a(s));if(r?.updatePostSaveState?.ok)return!o;throw new Error(a(r?.updatePostSaveState?.errors))},h:async function(t,o){const i={input:{postId:t,followState:o?e.gl.Unfollowed:e.gl.Followed}},{data:r,errors:s}=await e.r({operation:e.O.UpdatePostFollowState,variables:i});if(s?.length)throw new Error(a(s));if(r?.updatePostFollowState?.ok)return!o;throw new Error(a(r?.updatePostFollowState?.errors))},i:async function(t,o){const i={input:{postId:t,distinguishState:o?e.gk.None:e.gk.Distinguished,distinguishType:o?e.gh.None:e.gh.AdminDistinguished}},{data:r,errors:s}=await e.r({operation:e.O.UpdatePostDistinguishedState,variables:i});if(s?.length)throw new Error(a(s));if(r?.updatePostDistinguishState?.ok)return r.updatePostDistinguishState.distinguishType===e.gh.AdminDistinguished;throw new Error(a(r?.updatePostDistinguishState?.errors))},j:async function(t,o){const i={input:{postId:t,spoilerState:o?e.gf.None:e.gf.Spoiler}},{data:r,errors:s}=await e.r({operation:e.O.UpdatePostSpoilerState,variables:i});if(s?.length)throw new Error(a(s));if(r?.updatePostSpoilerState?.ok)return r.updatePostSpoilerState.spoilerState===e.gf.Spoiler;throw new Error(a(r?.updatePostSpoilerState?.errors))},k:async function(t,o){const i={input:{postId:t,nsfwState:o?e.gg.None:e.gg.Nsfw}},{data:r,errors:s}=await e.r({operation:e.O.UpdatePostNsfwState,variables:i});if(s?.length)throw new Error(a(s));if(r?.updatePostNsfwState?.ok)return r.updatePostNsfwState.nsfwState===e.gg.Nsfw;throw new Error(a(r?.updatePostNsfwState?.errors))},l:async function(t,o){const i={input:{thingId:t,commercialCommunicationState:!o}},{data:r,errors:s}=await e.r({operation:e.O.UpdateCommercialCommunicationState,variables:i});if(s?.length)throw new Error(a(s));if(r?.updateCommercialCommunicationState?.ok)return!o;throw new Error(a(r?.updateCommercialCommunicationState?.errors))},m:async function(t,o){const i={postId:t,sendRepliesState:o?e.gi.DoNotSend:e.gi.Send},{data:r,errors:s}=await e.r({operation:e.O.UpdatePostSendRepliesState,variables:{input:i}});if(s?.length)throw new Error(a(s));if(r?.updatePostSendRepliesState?.ok)return r.updatePostSendRepliesState?.sendRepliesState===e.gi.Send;throw new Error(a(r?.updatePostSendRepliesState?.errors))},n:async function(t,o){const i={input:{postId:t,hideState:o?e.ge.None:e.ge.Hidden}},{data:r,errors:s}=await e.r({operation:e.O.UpdatePostHideState,variables:i});if(s?.length)throw new Error(a(s));if(r?.updatePostHideState?.ok)return r.updatePostHideState.hideState===e.ge.Hidden;throw new Error(a(r?.updatePostHideState?.errors))},o:async function(t){const o={input:t},{data:i,errors:r}=await e.r({operation:e.O.UpdatePostStickyState,variables:o});if(r?.length)throw new Error(a(r));if(!i?.updatePostStickyState?.ok)throw new Error(a(i?.updatePostStickyState?.errors))},u:async function(t){const o={input:t},{data:i,errors:r}=await e.r({operation:e.O.UpdateAdHideState,variables:o});if(r?.length)throw new Error(a(r));if(i?.updateAdHideState?.ok)return i.updateAdHideState.hideState===e.ge.Hidden;if(i?.updateAdHideState?.errors&&(i?.updateAdHideState?.errors[0]).code===s)throw new Error(s);throw new Error(a(i?.updateAdHideState?.errors))}}}));
SML.dm("DjoKwtwQ",["DAgRafdt","OAEZpqSu"],(async(e,t)=>{var o,n;!function(e){e.SubredditFeed="SubredditFeed",e.CustomFeed="CustomFeed",e.AggregateFeed="AggregateFeed",e.BestOfRedditPage="BestOfRedditPage",e.CommentsPage="CommentsPage",e.Comment="Comment",e.DynamicFeed="DynamicFeed",e.ListingBelowSubredditPosts="ListingBelowSubredditPosts",e.ListingBelowLinkedPosts="ListingBelowLinkedPosts",e.PopularFeed="PopularFeed",e.PostStatsPage="PostStatsPage",e.ProfileFeed="ProfileFeed",e.ProfileFeed2="ProfileFeed2",e.ProfileTrendingConvos="ProfileTrendingConvos",e.BrandMentionFeed="BrandMentionFeed",e.BrandPostPerformanceFeed="BrandPostPerformanceFeed",e.ArticleFeed="ArticleFeed",e.SearchResultsPage="SearchResultsPage",e.RightRail="RightRail",e.ModChatChannels="ModChatChannels",e.ModQueue="ModQueue",e.ModQueueAll="ModQueueAll",e.ModNotesRail="ModNotesRail",e.ModLog="ModLog",e.ModTrainingQueue="ModTrainingQueue",e.UserManagement="UserManagement",e.ModRules="ModRules",e.ModRecruitment="ModRecruitment",e.ModWiki="ModWiki",e.ArticleDetails="ArticleDetails",e.RelatedPosts="RelatedPosts"}(o||(o={})),function(e){e.Scheduled="scheduled",e.Live="live",e.Ended="ended"}(n||(n={}));const i=e=>`${e}`.startsWith("t3_")?`${e}`:`t3_${e}`;function s(e){return e===o.ListingBelowLinkedPosts||e===o.ListingBelowSubredditPosts}const a=/^.*?\/(?:u|user|r)\/(?:[a-zA-Z0-9_-]+)\/comments\/(?<postId>[a-zA-Z0-9]+)(?:(?:\/|\?).*|$)/;const r=t=>c(t,e.eI)?t:void 0,c=(e,t)=>Object.values(t).includes(e),d=(e,t)=>void 0===e?void 0:t(e);function u(e){return e&&s(e)?"post_detail":"post"}function l(e){return u(e.viewContext??null)}const m=({archived:t,authorId:o,createdTimestamp:n,domain:i,id:s,feedIndex:a,nsfw:c,isStickied:u,isHighlighted:l,postTitle:m,postType:p,promoted:_,recommendationSource:f,recommendationSubredditId:b,recommendationSubredditName:g,score:h,spoiler:w,subredditId:P,subredditPrefixedName:v,viewType:T,commentCount:k,permalink:M,awardId:I,interactionFromHotkey:L})=>{const F=d(p,r),C=d(n,e.c3),S={name:v?.toLowerCase(),id:P},A=I?{id:I}:void 0,x=L?e.co.HOTKEY:void 0;return{...A,post:{archived:t,author_id:o,created_timestamp:C,domain:i,id:s,nsfw:c,pinned:u,highlighted:l,promoted:_,score:h,spoiler:w,subreddit_id:P,subreddit_name:S.name,title:m,type:F,recommendation_source:f?.toLowerCase(),recommendation_source_subreddit_id:b,recommendation_source_subreddit_name:g,number_comments:k,url:M},screen:{view_type:e.ec(T)},subreddit:S,action_info:{position:a,trigger_type:x}}},p=t=>({...m(t),feed:e.eb()}),_=({fields:e,post:t,postIsTranslated:o,reason:n})=>{const{isMTSEOUserPage:i,postLanguage:s,translationLanguage:a}=t;return e={...e,post:{...e.post,language:s,translation_language:o?a:"original",translation_state:o,translation_reason:o?i?"mt_seo":"immersive_auto":"original"},...n&&{action_info:{...e.action_info,reason:n}}}};function f(e,t){return e&&t?{ad_metadata:{impression_id:e,placement:t}}:void 0}function b(e){return{..._({fields:p(e),post:e,postIsTranslated:!!e.isPostTranslated,withTranslationMetrics:!0}),new_award:{id:e.awardId,is_content_eligible:Boolean(e.isAwardable)}}}const g=(t,o,n={})=>e.b({source:l(t),action:"click",noun:o},{...t.viewContext&&s(t.viewContext)?b(t):n,feed:e.eb()}),h=e=>`${e}`.startsWith("t1_")?`${e}`:`t1_${e}`,w=/^.*\/r\/.*\/comments\/(?<postId>[a-zA-Z0-9]+)\/.*\/?$/;const P=/\/r\/([^/]+)\/$/;return{$:t=>e.b({source:l(t),action:"click",noun:"read_more"},p(t)),get A(){return n},B:function(e){const t=(e?.getAttribute("href")||"").match(P);return t?t[1]:""},C:"hidden",D:h,E:(t,o)=>e.b({source:u(t),action:"click",noun:"report"},o),F:t=>e.b({source:"ad_overflow",action:"hide",noun:"ad"},t),G:(t,o)=>e.b({source:u(t),action:"click",noun:"overflow_show_less"},o),H:t=>e.b({source:u(t),action:"click",noun:"edit"}),I:t=>e.b({source:u(t),action:"click",noun:"update_post_flair"}),J:t=>e.b({source:u(t),action:"click",noun:"save"}),K:t=>e.b({source:u(t),action:"click",noun:"overflow_rec_context"}),L:(t,o)=>e.b({source:u(t),action:o?"undo":"click",noun:"follow"}),M:"overflow-hidden h-[60px] embed-xs:h-[80px]",N:t=>e.b({source:u(t),action:"click",noun:"unpin"}),O:t=>e.b({source:u(t),action:"click",noun:"pin"}),get P(){return o},Q:t=>e.b({source:u(t),action:"click",noun:"delete"}),R:"read-more-click",S:({markedAsSpoiler:t,viewContext:o})=>e.b({source:u(o),action:"click",noun:t?"mark_spoiler":"unmark_spoiler"}),T:"h-[316px]",U:({markedAsNsfw:t,viewContext:o})=>e.b({source:u(o),action:"click",noun:t?"mark_nsfw":"unmark_nsfw"}),V:({markedAsBrandAffiliate:t,viewContext:o})=>e.b({source:u(o),action:"click",noun:t?"mark_brand_affiliate":"unmark_brand_affiliate"}),W:({turnNotificationsOn:t,viewContext:o})=>e.b({source:u(o),action:"click",noun:t?"turn_notifications":"unsend_reply_notifications"}),X:t=>e.b({source:u(t),action:"click",noun:"hide"}),Y:(t,o)=>e.b({source:"post"===o?"post":"post_detail",action:t,noun:"post"===o?"post":"comment"},{action_info:{trigger_type:e.co.HOTKEY}}),Z:t=>e.b({source:"post",action:"leave",noun:"post",visibility:{on_screen_timestamp:t.becameVisibleOnScreenTimestamp,off_screen_timestamp:Date.now()}},p(t)),_:t=>e.b({source:"post",action:"consume",noun:"post"},{..._({fields:p(t),post:t,postIsTranslated:!!t.isPostTranslated,withTranslationMetrics:!0}),new_award:{id:t.awardId,is_content_eligible:Boolean(t.isAwardable)}}),a:2e3,a0:function(t){return t===e.a6.Popular},a1:function(t){return t===e.a6.Home},a2:s,a3:e=>g(e,"share",m(e)),a4:e=>g(e,"share_copy",m(e)),a5:(o,n)=>{switch(t.P(o,"postClickLocation")){case e.a4.SUBREDDIT_LINK:return(e=>g(e,"subreddit",m(e)))(n);case e.a4.JOIN:return(e=>g(e,"subscribe",m(e)))(n);case e.a4.OVERFLOW_BUTTON:case e.a4.COMMENTS_BUTTON:case e.a4.VOTE:case e.a4.SHARE:case e.a4.VIDEO_PLAYER:return null;case e.a4.TEXT_BODY:return(e=>g(e,"text",m(e)))(n);default:return(e=>g(e,"post",m(e)))(n)}},a6:t=>e.b({source:l(t),action:"click",noun:"vote_try"},m(t)),a7:t=>e.b({source:"subreddit_hovercard",action:"view",noun:"hover_subreddit_hovercard"},p(t)),a8:t=>e.b({source:"user_hovercard",action:"view",noun:"hover_user_hovercard"},p(t)),a9:function(e){const t=e.match(a),o=t?.groups?.postId;if(o)return i(o)},b:t=>{const o=b(t);return e.b({source:"translate_button",action:"view",noun:"post"},{...o,action_info:{...o.action_info,reason:t.isPostTranslated?e.aV:e.aW}})},c:function(e){switch(e){case o.AggregateFeed:case o.SubredditFeed:case o.CustomFeed:case o.ListingBelowLinkedPosts:case o.ListingBelowSubredditPosts:case o.PopularFeed:case o.ProfileFeed:case o.ProfileFeed2:case o.BrandMentionFeed:case o.BrandPostPerformanceFeed:case o.ArticleDetails:case o.ModQueue:case o.ModQueueAll:case o.ModLog:case o.ModNotesRail:return!0;case o.CommentsPage:default:return!1}},d:"partial-update",e:i,f:function(e){return`https://www.redditmedia.com/mediaembed/${e.replace("t3_","")}/`},g:m,h:e=>e.startsWith("t3_"),i:function(e){return e===o.CommentsPage},j:_,k:p,l:t=>e.b({source:l(t),action:"click",noun:"clearvote"},p(t)),m:t=>e.b({source:l(t),action:"click",noun:"downvote"},{..._({fields:p(t),post:t,postIsTranslated:!!t.isPostTranslated,withTranslationMetrics:!0})}),n:t=>e.b({source:l(t),action:"view",noun:"post"},b(t)),o:t=>{const o=b(t);return e.b({source:"translate_button",action:"click",noun:"post"},{...o,action_info:{...o.action_info,reason:t.isPostTranslated?e.aV:e.aW}})},p:(t,o)=>e.b({source:"translate_button",action:"view",noun:"post"},_({fields:p(t),post:t,postIsTranslated:o,reason:o?"on":"off"})),q:function(e){const t=(e?.getAttribute("href")||"").match(w),o=t?.groups?.postId;return o?i(o):""},r:e=>g(e,"view_all_comments",m(e)),s:e=>g(e,"comments",m(e)),t:"flex",u:t=>e.b({source:l(t),action:"click",noun:"upvote"},{..._({fields:p(t),post:t,postIsTranslated:!!t.isPostTranslated,withTranslationMetrics:!0})}),v:t=>e.b({source:u(t),action:"click",noun:"post_overflow_menu"}),w:"max-h-[253px] overflow-hidden s:max-h-[318px] m:max-h-[337px] l:max-h-[352px] xl:max-h-[452px]",x:t=>e.b({source:"event_post",action:"click",noun:"rsvp"},{...m(t),...f(t.impressionId,t.placement)}),y:t=>e.b({source:"event_post",action:"click",noun:"un_rsvp"},{...m(t),...f(t.impressionId,t.placement)}),z:function(t){const o=t?e.hl(t.href):null;if(!o)return{postId:"",commentId:""};const n=o?.groups?.postId,s=o?.groups?.commentId;return{postId:n?i(n):"",commentId:s?h(s):""}}}}));
SML.dm("BY0sdjRu",["DAgRafdt","DSWSCRFk","DvsbXjsy"],(async(r,e,o)=>{var l=e.i`${r.X}a,button{background:0 0;border-radius:inherit;color:inherit;border:none;padding:0;margin:inherit;font:inherit;cursor:pointer;outline:inherit;display:inherit;width:inherit;height:inherit;text-decoration:none}a:focus-visible,button:focus-visible{outline:2px solid var(--color-global-focus)}`;class i extends r.Y{constructor(){super(...arguments),this.disabled=!1,this.selected=!1}renderLeadingContent(){return e.x`<slot name="leading"></slot> `}renderTrailingContent(){return e.x`<slot name="trailing"></slot> `}handleDisabledLinkClick(r){this.disabled&&(r.preventDefault(),r.stopPropagation())}render(){const r=e.x`${this.renderLeadingContent()} <slot></slot> ${this.renderTrailingContent()}`;return this.href?e.x`<a href="${this.href}" aria-disabled="${this.disabled?"true":"false"}" aria-pressed="${this.selected}" @click="${this.handleDisabledLinkClick}">${r}</a>`:e.x`<button ?disabled="${this.disabled}" aria-pressed="${this.selected}"> ${r} </button>`}}i.styles=l,e._([e.n({type:Boolean})],i.prototype,"disabled",void 0),e._([e.n({type:Boolean,reflect:!0})],i.prototype,"selected",void 0),e._([e.n({type:String})],i.prototype,"href",void 0);var t=e.i`${r.X}:host{display:inline-flex;border:1px solid transparent;cursor:pointer}.container{display:inherit;align-items:center}slot:not([name]){display:inline-flex;line-height:var(--rem16);font-size:var(--rem12)}`;class a extends i{}a.styles=[i.styles,t];var d=e.i`${r.X}.checkmark-icon,::slotted([slot=leading]){display:inline-flex;margin-inline-end:var(--spacer-xs)}a,button{padding:calc(var(--spacer-xs) - var(--rem1))}:host([appearance=bordered]){--rpl-filter-chip-border-color:var(--color-neutral-border);--rpl-filter-chip-text-color:var(--color-secondary-plain);--rpl-filter-chip-disabled-background-color:var(--color-interactive-content-disabled);--rpl-filter-chip-disabled-text-color:var(--color-interactive-content-disabled);--rpl-filter-chip-disabled-border-color:var(--color-neutral-border-weak);--rpl-filter-chip-selected-background-color:var(--color-secondary-background-selected);--rpl-filter-chip-selected-border-color:var(--color-neutral-border);--rpl-filter-chip-hover-background-color:var(--color-secondary-background-hover)}:host([appearance=media]){--rpl-filter-chip-border-color:var(--color-media-border-weak);--rpl-filter-chip-background-color:var(--color-media-background);--rpl-filter-chip-text-color:var(--color-media-onbackground);--rpl-filter-chip-disabled-text-color:var(--color-media-onbackground-disabled);--rpl-filter-chip-disabled-background-color:var(--color-media-background);--rpl-filter-chip-disabled-border-color:var(--color-media-border-weak);--rpl-filter-chip-hover-background-color:var(--color-media-background-hover);--rpl-filter-chip-selected-background-color:var(--color-media-background-selected);--rpl-filter-chip-selected-border-color:var(--color-media-border-selected)}:host{border:1px solid var(--rpl-filter-chip-border-color);color:var(--rpl-filter-chip-text-color);background:var(--rpl-filter-chip-background-color);border-radius:var(--rem8);font-weight:600}:host(.hover:not([disabled])),:host(:hover:not([disabled])){background:var(--rpl-filter-chip-hover-background-color)}:host([selected]){--rpl-filter-chip-background-color:var(--rpl-filter-chip-selected-background-color);--rpl-filter-chip-border-color:var(--rpl-filter-chip-selected-border-color)}:host([disabled]){--rpl-filter-chip-background-color:var(--rpl-filter-chip-disabled-background-color);--rpl-filter-chip-border-color:var(--rpl-filter-chip-disabled-border-color);--rpl-filter-chip-text-color:var(--rpl-filter-chip-disabled-text-color)}`;const c={Bordered:"bordered",Media:"media"};let n=class extends a{constructor(){super(...arguments),this.appearance=c.Bordered}static get styles(){return[a.styles,d]}renderLeadingContent(){return this.selected?o.c({size:e.I.Small,attributes:{className:"checkmark-icon"}}):super.renderLeadingContent()}};return e._([e.n({type:String})],n.prototype,"appearance",void 0),n=e._([e.c("rpl-filter-chip")],n),{R:c}}));
SML.dm("BVLgyhDE",["DSWSCRFk","DAgRafdt"],(async(t,e)=>{const o=Math.min,n=Math.max,i=Math.round,r=Math.floor,a=t=>({x:t,y:t}),s={left:"right",right:"left",bottom:"top",top:"bottom"},l={start:"end",end:"start"};function c(t,e,i){return n(t,o(e,i))}function p(t,e){return"function"==typeof t?t(e):t}function f(t){return t.split("-")[0]}function h(t){return t.split("-")[1]}function u(t){return"x"===t?"y":"x"}function d(t){return"y"===t?"height":"width"}function m(t){return["top","bottom"].includes(f(t))?"y":"x"}function y(t){return u(m(t))}function g(t){return t.replace(/start|end/g,(t=>l[t]))}function v(t){return t.replace(/left|right|bottom|top/g,(t=>s[t]))}function b(t){return"number"!=typeof t?function(t){return{top:0,right:0,bottom:0,left:0,...t}}(t):{top:t,right:t,bottom:t,left:t}}function w(t){return{...t,top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height}}function x(t,e,o){let{reference:n,floating:i}=t;const r=m(e),a=y(e),s=d(a),l=f(e),c="y"===r,p=n.x+n.width/2-i.width/2,u=n.y+n.height/2-i.height/2,g=n[s]/2-i[s]/2;let v;switch(l){case"top":v={x:p,y:n.y-i.height};break;case"bottom":v={x:p,y:n.y+n.height};break;case"right":v={x:n.x+n.width,y:u};break;case"left":v={x:n.x-i.width,y:u};break;default:v={x:n.x,y:n.y}}switch(h(e)){case"start":v[a]-=g*(o&&c?-1:1);break;case"end":v[a]+=g*(o&&c?-1:1)}return v}async function E(t,e){var o;void 0===e&&(e={});const{x:n,y:i,platform:r,rects:a,elements:s,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:f="viewport",elementContext:h="floating",altBoundary:u=!1,padding:d=0}=p(e,t),m=b(d),y=s[u?"floating"===h?"reference":"floating":h],g=w(await r.getClippingRect({element:null==(o=await(null==r.isElement?void 0:r.isElement(y)))||o?y:y.contextElement||await(null==r.getDocumentElement?void 0:r.getDocumentElement(s.floating)),boundary:c,rootBoundary:f,strategy:l})),v="floating"===h?{...a.floating,x:n,y:i}:a.reference,x=await(null==r.getOffsetParent?void 0:r.getOffsetParent(s.floating)),E=await(null==r.isElement?void 0:r.isElement(x))&&await(null==r.getScale?void 0:r.getScale(x))||{x:1,y:1},P=w(r.convertOffsetParentRelativeRectToViewportRelativeRect?await r.convertOffsetParentRelativeRectToViewportRelativeRect({rect:v,offsetParent:x,strategy:l}):v);return{top:(g.top-P.top+m.top)/E.y,bottom:(P.bottom-g.bottom+m.bottom)/E.y,left:(g.left-P.left+m.left)/E.x,right:(P.right-g.right+m.right)/E.x}}const P=function(t){return void 0===t&&(t={}),{name:"flip",options:t,async fn(e){var o,n;const{placement:i,middlewareData:r,rects:a,initialPlacement:s,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:m=!0,fallbackPlacements:b,fallbackStrategy:w="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:P=!0,...R}=p(t,e);if(null!=(o=r.arrow)&&o.alignmentOffset)return{};const S=f(i),T=f(s)===s,L=await(null==l.isRTL?void 0:l.isRTL(c.floating)),z=b||(T||!P?[v(s)]:function(t){const e=v(t);return[g(t),e,g(e)]}(s));b||"none"===x||z.push(...function(t,e,o,n){const i=h(t);let r=function(t,e,o){const n=["left","right"],i=["right","left"],r=["top","bottom"],a=["bottom","top"];switch(t){case"top":case"bottom":return o?e?i:n:e?n:i;case"left":case"right":return e?r:a;default:return[]}}(f(t),"start"===o,n);return i&&(r=r.map((t=>t+"-"+i)),e&&(r=r.concat(r.map(g)))),r}(s,P,x,L));const A=[s,...z],O=await E(e,R),_=[];let D=(null==(n=r.flip)?void 0:n.overflows)||[];if(u&&_.push(O[S]),m){const t=function(t,e,o){void 0===o&&(o=!1);const n=h(t),i=y(t),r=d(i);let a="x"===i?n===(o?"end":"start")?"right":"left":"start"===n?"bottom":"top";return e.reference[r]>e.floating[r]&&(a=v(a)),[a,v(a)]}(i,a,L);_.push(O[t[0]],O[t[1]])}if(D=[...D,{placement:i,overflows:_}],!_.every((t=>t<=0))){var k,C;const t=((null==(k=r.flip)?void 0:k.index)||0)+1,e=A[t];if(e)return{data:{index:t,overflows:D},reset:{placement:e}};let o=null==(C=D.filter((t=>t.overflows[0]<=0)).sort(((t,e)=>t.overflows[1]-e.overflows[1]))[0])?void 0:C.placement;if(!o)switch(w){case"bestFit":{var B;const t=null==(B=D.map((t=>[t.placement,t.overflows.filter((t=>t>0)).reduce(((t,e)=>t+e),0)])).sort(((t,e)=>t[1]-e[1]))[0])?void 0:B[0];t&&(o=t);break}case"initialPlacement":o=s}if(i!==o)return{reset:{placement:o}}}return{}}}};const R=function(t){return void 0===t&&(t=0),{name:"offset",options:t,async fn(e){var o,n;const{x:i,y:r,placement:a,middlewareData:s}=e,l=await async function(t,e){const{placement:o,platform:n,elements:i}=t,r=await(null==n.isRTL?void 0:n.isRTL(i.floating)),a=f(o),s=h(o),l="y"===m(o),c=["left","top"].includes(a)?-1:1,u=r&&l?-1:1,d=p(e,t);let{mainAxis:y,crossAxis:g,alignmentAxis:v}="number"==typeof d?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...d};return s&&"number"==typeof v&&(g="end"===s?-1*v:v),l?{x:g*u,y:y*c}:{x:y*c,y:g*u}}(e,t);return a===(null==(o=s.offset)?void 0:o.placement)&&null!=(n=s.arrow)&&n.alignmentOffset?{}:{x:i+l.x,y:r+l.y,data:{...l,placement:a}}}}},S=function(t){return void 0===t&&(t={}),{name:"size",options:t,async fn(e){const{placement:i,rects:r,platform:a,elements:s}=e,{apply:l=()=>{},...c}=p(t,e),u=await E(e,c),d=f(i),y=h(i),g="y"===m(i),{width:v,height:b}=r.floating;let w,x;"top"===d||"bottom"===d?(w=d,x=y===(await(null==a.isRTL?void 0:a.isRTL(s.floating))?"start":"end")?"left":"right"):(x=d,w="end"===y?"top":"bottom");const P=b-u[w],R=v-u[x],S=!e.middlewareData.shift;let T=P,L=R;if(g){const t=v-u.left-u.right;L=y||S?o(R,t):t}else{const t=b-u.top-u.bottom;T=y||S?o(P,t):t}if(S&&!y){const t=n(u.left,0),e=n(u.right,0),o=n(u.top,0),i=n(u.bottom,0);g?L=v-2*(0!==t||0!==e?t+e:n(u.left,u.right)):T=b-2*(0!==o||0!==i?o+i:n(u.top,u.bottom))}await l({...e,availableWidth:L,availableHeight:T});const z=await a.getDimensions(s.floating);return v!==z.width||b!==z.height?{reset:{rects:!0}}:{}}}};function T(t){return A(t)?(t.nodeName||"").toLowerCase():"#document"}function L(t){var e;return(null==t||null==(e=t.ownerDocument)?void 0:e.defaultView)||window}function z(t){var e;return null==(e=(A(t)?t.ownerDocument:t.document)||window.document)?void 0:e.documentElement}function A(t){return t instanceof Node||t instanceof L(t).Node}function O(t){return t instanceof Element||t instanceof L(t).Element}function _(t){return t instanceof HTMLElement||t instanceof L(t).HTMLElement}function D(t){return"undefined"!=typeof ShadowRoot&&(t instanceof ShadowRoot||t instanceof L(t).ShadowRoot)}function k(t){const{overflow:e,overflowX:o,overflowY:n,display:i}=H(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+o)&&!["inline","contents"].includes(i)}function C(t){return["table","td","th"].includes(T(t))}function B(t){const e=$(),o=H(t);return"none"!==o.transform||"none"!==o.perspective||!!o.containerType&&"normal"!==o.containerType||!e&&!!o.backdropFilter&&"none"!==o.backdropFilter||!e&&!!o.filter&&"none"!==o.filter||["transform","perspective","filter"].some((t=>(o.willChange||"").includes(t)))||["paint","layout","strict","content"].some((t=>(o.contain||"").includes(t)))}function $(){return!("undefined"==typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}function F(t){return["html","body","#document"].includes(T(t))}function H(t){return L(t).getComputedStyle(t)}function N(t){return O(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function M(t){if("html"===T(t))return t;const e=t.assignedSlot||t.parentNode||D(t)&&t.host||z(t);return D(e)?e.host:e}function W(t){const e=M(t);return F(e)?t.ownerDocument?t.ownerDocument.body:t.body:_(e)&&k(e)?e:W(e)}function j(t,e,o){var n;void 0===e&&(e=[]),void 0===o&&(o=!0);const i=W(t),r=i===(null==(n=t.ownerDocument)?void 0:n.body),a=L(i);return r?e.concat(a,a.visualViewport||[],k(i)?i:[],a.frameElement&&o?j(a.frameElement):[]):e.concat(i,j(i,[],o))}function V(t){const e=H(t);let o=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const r=_(t),a=r?t.offsetWidth:o,s=r?t.offsetHeight:n,l=i(o)!==a||i(n)!==s;return l&&(o=a,n=s),{width:o,height:n,$:l}}function I(t){return O(t)?t:t.contextElement}function q(t){const e=I(t);if(!_(e))return a(1);const o=e.getBoundingClientRect(),{width:n,height:r,$:s}=V(e);let l=(s?i(o.width):o.width)/n,c=(s?i(o.height):o.height)/r;return l&&Number.isFinite(l)||(l=1),c&&Number.isFinite(c)||(c=1),{x:l,y:c}}const Y=a(0);function X(t){const e=L(t);return $()&&e.visualViewport?{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}:Y}function U(t,e,o,n){void 0===e&&(e=!1),void 0===o&&(o=!1);const i=t.getBoundingClientRect(),r=I(t);let s=a(1);e&&(n?O(n)&&(s=q(n)):s=q(t));const l=function(t,e,o){return void 0===e&&(e=!1),!(!o||e&&o!==L(t))&&e}(r,o,n)?X(r):a(0);let c=(i.left+l.x)/s.x,p=(i.top+l.y)/s.y,f=i.width/s.x,h=i.height/s.y;if(r){const t=L(r),e=n&&O(n)?L(n):n;let o=t.frameElement;for(;o&&n&&e!==t;){const t=q(o),e=o.getBoundingClientRect(),n=H(o),i=e.left+(o.clientLeft+parseFloat(n.paddingLeft))*t.x,r=e.top+(o.clientTop+parseFloat(n.paddingTop))*t.y;c*=t.x,p*=t.y,f*=t.x,h*=t.y,c+=i,p+=r,o=L(o).frameElement}}return w({width:f,height:h,x:c,y:p})}function G(t){return U(z(t)).left+N(t).scrollLeft}function J(t,e,o){let i;if("viewport"===e)i=function(t,e){const o=L(t),n=z(t),i=o.visualViewport;let r=n.clientWidth,a=n.clientHeight,s=0,l=0;if(i){r=i.width,a=i.height;const t=$();(!t||t&&"fixed"===e)&&(s=i.offsetLeft,l=i.offsetTop)}return{width:r,height:a,x:s,y:l}}(t,o);else if("document"===e)i=function(t){const e=z(t),o=N(t),i=t.ownerDocument.body,r=n(e.scrollWidth,e.clientWidth,i.scrollWidth,i.clientWidth),a=n(e.scrollHeight,e.clientHeight,i.scrollHeight,i.clientHeight);let s=-o.scrollLeft+G(t);const l=-o.scrollTop;return"rtl"===H(i).direction&&(s+=n(e.clientWidth,i.clientWidth)-r),{width:r,height:a,x:s,y:l}}(z(t));else if(O(e))i=function(t,e){const o=U(t,!0,"fixed"===e),n=o.top+t.clientTop,i=o.left+t.clientLeft,r=_(t)?q(t):a(1);return{width:t.clientWidth*r.x,height:t.clientHeight*r.y,x:i*r.x,y:n*r.y}}(e,o);else{const o=X(t);i={...e,x:e.x-o.x,y:e.y-o.y}}return w(i)}function K(t,e){const o=M(t);return!(o===e||!O(o)||F(o))&&("fixed"===H(o).position||K(o,e))}function Q(t,e,o){const n=_(e),i=z(e),r="fixed"===o,s=U(t,!0,r,e);let l={scrollLeft:0,scrollTop:0};const c=a(0);if(n||!n&&!r)if(("body"!==T(e)||k(i))&&(l=N(e)),n){const t=U(e,!0,r,e);c.x=t.x+e.clientLeft,c.y=t.y+e.clientTop}else i&&(c.x=G(i));return{x:s.left+l.scrollLeft-c.x,y:s.top+l.scrollTop-c.y,width:s.width,height:s.height}}function Z(t,e){return _(t)&&"fixed"!==H(t).position?e?e(t):t.offsetParent:null}function tt(t,e){const o=L(t);if(!_(t))return o;let n=Z(t,e);for(;n&&C(n)&&"static"===H(n).position;)n=Z(n,e);return n&&("html"===T(n)||"body"===T(n)&&"static"===H(n).position&&!B(n))?o:n||function(t){let e=M(t);for(;_(e)&&!F(e);){if(B(e))return e;e=M(e)}return null}(t)||o}const et={convertOffsetParentRelativeRectToViewportRelativeRect:function(t){let{rect:e,offsetParent:o,strategy:n}=t;const i=_(o),r=z(o);if(o===r)return e;let s={scrollLeft:0,scrollTop:0},l=a(1);const c=a(0);if((i||!i&&"fixed"!==n)&&(("body"!==T(o)||k(r))&&(s=N(o)),_(o))){const t=U(o);l=q(o),c.x=t.x+o.clientLeft,c.y=t.y+o.clientTop}return{width:e.width*l.x,height:e.height*l.y,x:e.x*l.x-s.scrollLeft*l.x+c.x,y:e.y*l.y-s.scrollTop*l.y+c.y}},getDocumentElement:z,getClippingRect:function(t){let{element:e,boundary:i,rootBoundary:r,strategy:a}=t;const s=[..."clippingAncestors"===i?function(t,e){const o=e.get(t);if(o)return o;let n=j(t,[],!1).filter((t=>O(t)&&"body"!==T(t))),i=null;const r="fixed"===H(t).position;let a=r?M(t):t;for(;O(a)&&!F(a);){const e=H(a),o=B(a);o||"fixed"!==e.position||(i=null),(r?!o&&!i:!o&&"static"===e.position&&i&&["absolute","fixed"].includes(i.position)||k(a)&&!o&&K(t,a))?n=n.filter((t=>t!==a)):i=e,a=M(a)}return e.set(t,n),n}(e,this._c):[].concat(i),r],l=s[0],c=s.reduce(((t,i)=>{const r=J(e,i,a);return t.top=n(r.top,t.top),t.right=o(r.right,t.right),t.bottom=o(r.bottom,t.bottom),t.left=n(r.left,t.left),t}),J(e,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}},getOffsetParent:tt,getElementRects:async function(t){let{reference:e,floating:o,strategy:n}=t;const i=this.getOffsetParent||tt,r=this.getDimensions;return{reference:Q(e,await i(o),n),floating:{x:0,y:0,...await r(o)}}},getClientRects:function(t){return Array.from(t.getClientRects())},getDimensions:function(t){return V(t)},getScale:q,isElement:O,isRTL:function(t){return"rtl"===H(t).direction}};function ot(t,e,i,a){void 0===a&&(a={});const{ancestorScroll:s=!0,ancestorResize:l=!0,elementResize:c="function"==typeof ResizeObserver,layoutShift:p="function"==typeof IntersectionObserver,animationFrame:f=!1}=a,h=I(t),u=s||l?[...h?j(h):[],...j(e)]:[];u.forEach((t=>{s&&t.addEventListener("scroll",i,{passive:!0}),l&&t.addEventListener("resize",i)}));const d=h&&p?function(t,e){let i,a=null;const s=z(t);function l(){clearTimeout(i),a&&a.disconnect(),a=null}return function c(p,f){void 0===p&&(p=!1),void 0===f&&(f=1),l();const{left:h,top:u,width:d,height:m}=t.getBoundingClientRect();if(p||e(),!d||!m)return;const y={rootMargin:-r(u)+"px "+-r(s.clientWidth-(h+d))+"px "+-r(s.clientHeight-(u+m))+"px "+-r(h)+"px",threshold:n(0,o(1,f))||1};let g=!0;function v(t){const e=t[0].intersectionRatio;if(e!==f){if(!g)return c();e?c(!1,e):i=setTimeout((()=>{c(!1,1e-7)}),100)}g=!1}try{a=new IntersectionObserver(v,{...y,root:s.ownerDocument})}catch(t){a=new IntersectionObserver(v,y)}a.observe(t)}(!0),l}(h,i):null;let m,y=-1,g=null;c&&(g=new ResizeObserver((t=>{let[o]=t;o&&o.target===h&&g&&(g.unobserve(e),cancelAnimationFrame(y),y=requestAnimationFrame((()=>{g&&g.observe(e)}))),i()})),h&&!f&&g.observe(h),g.observe(e));let v=f?U(t):null;return f&&function e(){const o=U(t);!v||o.x===v.x&&o.y===v.y&&o.width===v.width&&o.height===v.height||i();v=o,m=requestAnimationFrame(e)}(),i(),()=>{u.forEach((t=>{s&&t.removeEventListener("scroll",i),l&&t.removeEventListener("resize",i)})),d&&d(),g&&g.disconnect(),g=null,f&&cancelAnimationFrame(m)}}const nt=(t,e,o)=>{const n=new Map,i={platform:et,...o},r={...i.platform,_c:n};return(async(t,e,o)=>{const{placement:n="bottom",strategy:i="absolute",middleware:r=[],platform:a}=o,s=r.filter(Boolean),l=await(null==a.isRTL?void 0:a.isRTL(e));let c=await a.getElementRects({reference:t,floating:e,strategy:i}),{x:p,y:f}=x(c,n,l),h=n,u={},d=0;for(let o=0;o<s.length;o++){const{name:r,fn:m}=s[o],{x:y,y:g,data:v,reset:b}=await m({x:p,y:f,initialPlacement:n,placement:h,strategy:i,middlewareData:u,rects:c,platform:a,elements:{reference:t,floating:e}});p=null!=y?y:p,f=null!=g?g:f,u={...u,[r]:{...u[r],...v}},b&&d<=50&&(d++,"object"==typeof b&&(b.placement&&(h=b.placement),b.rects&&(c=!0===b.rects?await a.getElementRects({reference:t,floating:e,strategy:i}):b.rects),({x:p,y:f}=x(c,h,l))),o=-1)}return{x:p,y:f,placement:h,strategy:i,middlewareData:u}})(t,e,{...i,platform:r})};function it(t){return function(t){for(let e=t;e;e=rt(e))if(e instanceof Element&&"none"===getComputedStyle(e).display)return null;for(let e=rt(t);e;e=rt(e)){if(!(e instanceof Element))continue;const t=getComputedStyle(e);if("contents"!==t.display){if("static"!==t.position||"none"!==t.filter)return e;if("BODY"===e.tagName)return e}}return null}(t)}function rt(t){return t.assignedSlot?t.assignedSlot:t.parentNode instanceof ShadowRoot?t.parentNode.host:t.parentNode}var at=t.i`${e.X}:host{--arrow-color:var(--color-neutral-background-strong);--arrow-size:6px;--arrow-size-diagonal:calc(var(--arrow-size) * 0.7071);--arrow-padding-offset:calc(var(--arrow-size-diagonal) - var(--arrow-size));display:contents}.popup{position:absolute;isolation:isolate;max-width:var(--auto-size-available-width,none);max-height:var(--auto-size-available-height,none)}.popup--fixed{position:fixed}.popup:not(.popup--active){display:none}.popup--arrow{position:absolute;width:calc(var(--arrow-size-diagonal) * 2);height:calc(var(--arrow-size-diagonal) * 2);rotate:45deg;background:var(--arrow-color)}.popup-safe-area:not(.popup-safe-area--visible){display:none}.popup-safe-area{position:fixed;z-index:calc(var(--faceplate-tooltip-z-index,1) - 1);inset:0;clip-path:polygon(var(--safe-area-top-left-x,0) var(--safe-area-top-left-y,0),var(--safe-area-top-right-x,0) var(--safe-area-top-right-y,0),var(--safe-area-bottom-right-x,0) var(--safe-area-bottom-right-y,0),var(--safe-area-bottom-left-x,0) var(--safe-area-bottom-left-y,0))}`;const st={Top:"top",TopStart:"top-start",TopEnd:"top-end",Bottom:"bottom",BottomStart:"bottom-start",BottomEnd:"bottom-end",Right:"right",RightStart:"right-start",RightEnd:"right-end",Left:"left",LeftStart:"left-start",LeftEnd:"left-end"},lt="anchor";class ct extends e.Y{constructor(){super(...arguments),this.anchorEl=null,this.active=!1,this.placement=st.Top,this.strategy="absolute",this.distance=0,this.skidding=0,this.arrow=!1,this.arrowPlacement=lt,this.arrowPadding=10,this.flip=!1,this.flipFallbackPlacements="",this.flipFallbackStrategy="best-fit",this.flipPadding=0,this.shift=!1,this.shiftPadding=0,this.autoSizePadding=0,this.safeArea=!1,this.updateSafeArea=()=>{if(!this.safeArea||!this.anchorEl)return;const t=this.anchorEl.getBoundingClientRect(),e=this.popup.getBoundingClientRect();let o=0,n=0,i=0,r=0,a=0,s=0,l=0,c=0;this.placement.includes("top")||this.placement.includes("bottom")?t.top<e.top?(o=t.left,n=t.bottom,i=t.right,r=t.bottom,a=e.left,s=e.top,l=e.right,c=e.top):(o=e.left,n=e.bottom,i=e.right,r=e.bottom,a=t.left,s=t.top,l=t.right,c=t.top):t.left<e.left?(o=t.right,n=t.top,i=e.left,r=e.top,a=t.right,s=t.bottom,l=e.left,c=e.bottom):(o=e.right,n=e.top,i=t.left,r=t.top,a=e.right,s=e.bottom,l=t.left,c=t.bottom),this.style.setProperty("--safe-area-top-left-x",`${o}px`),this.style.setProperty("--safe-area-top-left-y",`${n}px`),this.style.setProperty("--safe-area-top-right-x",`${i}px`),this.style.setProperty("--safe-area-top-right-y",`${r}px`),this.style.setProperty("--safe-area-bottom-left-x",`${a}px`),this.style.setProperty("--safe-area-bottom-left-y",`${s}px`),this.style.setProperty("--safe-area-bottom-right-x",`${l}px`),this.style.setProperty("--safe-area-bottom-right-y",`${c}px`)}}async connectedCallback(){super.connectedCallback(),await this.updateComplete,this.start()}disconnectedCallback(){super.disconnectedCallback(),this.stop()}async updated(t){super.updated(t),t.has("active")&&(this.active?this.start():this.stop()),t.has("anchor")&&this.handleAnchorChange(),this.active&&(await this.updateComplete,this.reposition())}async handleAnchorChange(){if(await this.stop(),this.anchor&&"string"==typeof this.anchor){const t=this.getRootNode();this.anchorEl=t.getElementById(this.anchor)}else this.anchor instanceof Element||null!==(t=this.anchor)&&"object"==typeof t&&"getBoundingClientRect"in t?this.anchorEl=this.anchor:this.anchorEl=this.querySelector('[slot="anchor"]');var t;this.anchorEl instanceof HTMLSlotElement&&(this.anchorEl=this.anchorEl.assignedElements({flatten:!0})[0]),this.anchorEl&&this.start()}start(){this.anchorEl&&(this.cleanup=ot(this.anchorEl,this.popup,(()=>{this.reposition()})))}async stop(){return new Promise((t=>{this.cleanup?(this.cleanup(),this.cleanup=void 0,this.removeAttribute("data-current-placement"),this.style.removeProperty("--auto-size-available-width"),this.style.removeProperty("--auto-size-available-height"),requestAnimationFrame((()=>t()))):t()}))}reposition(){if(!this.active||!this.anchorEl)return;const t=[R({mainAxis:this.distance,crossAxis:this.skidding})];var e;this.sync?t.push(S({apply:({rects:t})=>{const e="width"===this.sync||"both"===this.sync,o="height"===this.sync||"both"===this.sync;this.popup.style.width=e?`${t.reference.width}px`:"",this.popup.style.height=o?`${t.reference.height}px`:""}})):(this.popup.style.width="",this.popup.style.height=""),this.flip&&t.push(P({boundary:this.flipBoundary,fallbackPlacements:this.flipFallbackPlacements,fallbackStrategy:"best-fit"===this.flipFallbackStrategy?"bestFit":"initialPlacement",padding:this.flipPadding})),this.shift&&t.push((void 0===(e={boundary:this.shiftBoundary,padding:this.shiftPadding})&&(e={}),{name:"shift",options:e,async fn(t){const{x:o,y:n,placement:i}=t,{mainAxis:r=!0,crossAxis:a=!1,limiter:s={fn:t=>{let{x:e,y:o}=t;return{x:e,y:o}}},...l}=p(e,t),h={x:o,y:n},d=await E(t,l),y=m(f(i)),g=u(y);let v=h[g],b=h[y];if(r){const t="y"===g?"bottom":"right";v=c(v+d["y"===g?"top":"left"],v,v-d[t])}if(a){const t="y"===y?"bottom":"right";b=c(b+d["y"===y?"top":"left"],b,b-d[t])}const w=s.fn({...t,[g]:v,[y]:b});return{...w,data:{x:w.x-o,y:w.y-n}}}})),this.autoSize?t.push(S({boundary:this.autoSizeBoundary,padding:this.autoSizePadding,apply:({availableWidth:t,availableHeight:e})=>{"vertical"===this.autoSize||"both"===this.autoSize?this.style.setProperty("--auto-size-available-height",`${e}px`):this.style.removeProperty("--auto-size-available-height"),"horizontal"===this.autoSize||"both"===this.autoSize?this.style.setProperty("--auto-size-available-width",`${t}px`):this.style.removeProperty("--auto-size-available-width")}})):(this.style.removeProperty("--auto-size-available-width"),this.style.removeProperty("--auto-size-available-height")),this.arrow&&t.push((t=>({name:"arrow",options:t,async fn(e){const{x:n,y:i,placement:r,rects:a,platform:s,elements:l,middlewareData:f}=e,{element:u,padding:m=0}=p(t,e)||{};if(null==u)return{};const g=b(m),v={x:n,y:i},w=y(r),x=d(w),E=await s.getDimensions(u),P="y"===w,R=P?"top":"left",S=P?"bottom":"right",T=P?"clientHeight":"clientWidth",L=a.reference[x]+a.reference[w]-v[w]-a.floating[x],z=v[w]-a.reference[w],A=await(null==s.getOffsetParent?void 0:s.getOffsetParent(u));let O=A?A[T]:0;O&&await(null==s.isElement?void 0:s.isElement(A))||(O=l.floating[T]||a.floating[x]);const _=L/2-z/2,D=O/2-E[x]/2-1,k=o(g[R],D),C=o(g[S],D),B=k,$=O-E[x]-C,F=O/2-E[x]/2+_,H=c(B,F,$),N=!f.arrow&&null!=h(r)&&F!=H&&a.reference[x]/2-(F<B?k:C)-E[x]/2<0,M=N?F<B?F-B:F-$:0;return{[w]:v[w]+M,data:{[w]:H,centerOffset:F-H-M,...N&&{alignmentOffset:M}},reset:N}}}))({element:this.arrowEl,padding:this.arrowPadding}));const n="absolute"===this.strategy?t=>et.getOffsetParent(t,it):et.getOffsetParent;nt(this.anchorEl,this.popup,{placement:this.placement,middleware:t,strategy:this.strategy,platform:{...et,getOffsetParent:n}}).then((({x:t,y:e,middlewareData:o,placement:n})=>{const i="rtl"===getComputedStyle(this).direction,r={top:"bottom",right:"left",bottom:"top",left:"right"}[n.split("-")[0]];if(this.setAttribute("data-current-placement",n),Object.assign(this.popup.style,{left:`${t}px`,top:`${e}px`}),!this.arrow)return;const a=o.arrow.x,s=o.arrow.y;let l="",c="",p="",f="";if("start"===this.arrowPlacement){const t="number"==typeof a?`calc(${this.arrowPadding}px - var(--arrow-padding-offset))`:"";l="number"==typeof s?`calc(${this.arrowPadding}px - var(--arrow-padding-offset))`:"",c=i?t:"",f=i?"":t}else if("end"===this.arrowPlacement){const t="number"==typeof a?`calc(${this.arrowPadding}px - var(--arrow-padding-offset))`:"";c=i?"":t,f=i?t:"",p="number"==typeof s?`calc(${this.arrowPadding}px - var(--arrow-padding-offset))`:""}else"center"===this.arrowPlacement?(f="number"==typeof a?"calc(50% - var(--arrow-size-diagonal))":"",l="number"==typeof s?"calc(50% - var(--arrow-size-diagonal))":""):(f="number"==typeof a?`${a}px`:"",l="number"==typeof s?`${s}px`:"");Object.assign(this.arrowEl.style,{top:l,right:c,bottom:p,left:f,[r]:"calc(var(--arrow-size-diagonal) * -1)"})})),requestAnimationFrame((()=>this.updateSafeArea())),this.emitter.dispatch("reposition")}render(){return t.x` <slot name="anchor" @slotchange="${this.handleAnchorChange}"></slot> <span part="safe-area" class="${e.x({"popup-safe-area":!0,"popup-safe-area--visible":this.safeArea&&this.active})}"></span> <div part="popup" class="${e.x({popup:!0,"popup--active":this.active,"popup--fixed":"fixed"===this.strategy,"popup--has-arrow":this.arrow})}"> <slot></slot> ${this.arrow?t.x`<div part="arrow" class="popup--arrow" role="presentation"></div>`:""} </div> `}}ct.styles=at,t._([t.D(".popup")],ct.prototype,"popup",void 0),t._([t.D(".popup--arrow")],ct.prototype,"arrowEl",void 0),t._([t.n()],ct.prototype,"anchor",void 0),t._([t.n({type:Boolean,reflect:!0})],ct.prototype,"active",void 0),t._([t.n({reflect:!0})],ct.prototype,"placement",void 0),t._([t.n({reflect:!0})],ct.prototype,"strategy",void 0),t._([t.n({type:Number})],ct.prototype,"distance",void 0),t._([t.n({type:Number})],ct.prototype,"skidding",void 0),t._([t.n({type:Boolean})],ct.prototype,"arrow",void 0),t._([t.n({attribute:"arrow-placement"})],ct.prototype,"arrowPlacement",void 0),t._([t.n({attribute:"arrow-padding",type:Number})],ct.prototype,"arrowPadding",void 0),t._([t.n({type:Boolean})],ct.prototype,"flip",void 0),t._([t.n({attribute:"flip-fallback-placements",converter:{fromAttribute:t=>t.split(" ").map((t=>t.trim())).filter((t=>""!==t))}})],ct.prototype,"flipFallbackPlacements",void 0),t._([t.n({attribute:"flip-fallback-strategy"})],ct.prototype,"flipFallbackStrategy",void 0),t._([t.n({type:Object})],ct.prototype,"flipBoundary",void 0),t._([t.n({attribute:"flip-padding",type:Number})],ct.prototype,"flipPadding",void 0),t._([t.n({type:Boolean})],ct.prototype,"shift",void 0),t._([t.n({type:Object})],ct.prototype,"shiftBoundary",void 0),t._([t.n({attribute:"shift-padding",type:Number})],ct.prototype,"shiftPadding",void 0),t._([t.n({attribute:"auto-size"})],ct.prototype,"autoSize",void 0),t._([t.n()],ct.prototype,"sync",void 0),t._([t.n({type:Object})],ct.prototype,"autoSizeBoundary",void 0),t._([t.n({attribute:"auto-size-padding",type:Number})],ct.prototype,"autoSizePadding",void 0),t._([t.n({attribute:"safe-area",type:Boolean})],ct.prototype,"safeArea",void 0);let pt=class extends ct{};return pt=t._([t.c("rpl-popper")],pt),{P:st}}));
SML.dm("Vy1IDB19",["DSWSCRFk","DAgRafdt","OAEZpqSu","BVLgyhDE"],(async(e,t,i,o)=>{const s={Neutral:"neutral",Inverted:"inverted",Primary:"primary"};class n extends t.Y{constructor(){super(...arguments),this.contentSlotRef=t.C(),this.defaultSlotRef=t.C(),this.bodyRef=t.C(),this.popperRef=t.C(),this.interactionController=new i.a9(this,{isInteractedWith:e=>e.open,hoverDelayStart:e=>t.bB(getComputedStyle(e).getPropertyValue("--show-delay")),hoverDelayEnd:e=>t.bB(getComputedStyle(e).getPropertyValue("--hide-delay"))}),this.appearance=s.Neutral,this.content="",this.placement=o.P.Top,this.disabled=!1,this.distance=4,this.open=!1,this.skidding=0,this.trigger="hover focus",this.hoist=!1,this.noAnimate=!1,this.eventUsedMap=new WeakMap,this.handleDocumentKeyDown=e=>{"Escape"===e.key&&(e.stopPropagation(),this.hide())},this.handleDocumentClick=e=>{if(!(e.target instanceof HTMLElement)||this.hidden)return;this.eventUsedMap.has(e)||i.aa(this,e.target)||this.hide()}}disconnectedCallback(){document.removeEventListener("keydown",this.handleDocumentKeyDown),document.removeEventListener("click",this.handleDocumentClick)}willUpdate(e){e.has("open")&&this.hasUpdated&&this.handleOpenChange(),e.has("disabled")&&this.handleDisabledChange(),(e.has("content")||e.has("distance")||e.has("hoist")||e.has("placement")||e.has("skidding"))&&this.handleOptionsChange()}firstUpdated(){this.bodyRef.value&&(this.bodyRef.value.hidden=!this.open),this.open&&(document.addEventListener("keydown",this.handleDocumentKeyDown),document.addEventListener("click",this.handleDocumentClick),this.popperRef.value&&(this.popperRef.value.active=!0,this.popperRef.value.reposition()))}startInteraction(e){this.eventUsedMap.set(e,!0),this.show()}finishInteraction(e){this.eventUsedMap.set(e,!0),this.hide()}async handleOpenChange(){if(!this.disabled&&this.contentSlotRef.value&&this.bodyRef.value&&this.popperRef.value)if(this.open){this.emitter.dispatch("show"),document.addEventListener("keydown",this.handleDocumentKeyDown),document.addEventListener("click",this.handleDocumentClick),await t.bC(this.bodyRef.value),this.bodyRef.value.hidden=!1,this.popperRef.value.active=!0;const{keyframes:e,options:i}=t.bD(this,"tooltip.show");await t.bE(this.popperRef.value.popup,e,i),this.popperRef.value.reposition(),this.emitter.dispatch("after-show")}else{this.emitter.dispatch("hide"),document.removeEventListener("keydown",this.handleDocumentKeyDown),document.removeEventListener("click",this.handleDocumentClick),await t.bC(this.bodyRef.value);const{keyframes:e,options:i}=t.bD(this,"tooltip.hide");await t.bE(this.popperRef.value.popup,e,i),this.popperRef.value.active=!1,this.bodyRef.value.hidden=!0,this.emitter.dispatch("after-hide")}}async handleOptionsChange(){this.hasUpdated&&this.popperRef.value&&(await this.updateComplete,this.popperRef.value.reposition())}handleDisabledChange(){this.disabled&&this.open&&this.hide()}async show(){if(!this.open)return this.open=!0,t.bF(this,this.emitter.eventId("after-show"))}async hide(){if(this.open)return this.open=!1,t.bF(this,this.emitter.eventId("after-hide"))}render(){return e.x` <rpl-popper part="popper" exportparts="
          popup:popper--popup,
          arrow:popper--arrow
        " class="${t.x({tooltip:!0,"tooltip--open":this.open})}" placement="${this.placement}" distance="${this.distance}" skidding="${this.skidding}" strategy="${this.hoist?"fixed":"absolute"}" flip shift arrow safe-area @mouseenter="${this.interactionController.handleMouseEnter}" @mouseleave="${this.interactionController.handleMouseLeave}" @mousedown="${this.interactionController.handleMouseDown}" @mouseup="${this.interactionController.handleMouseUp}" @focusin="${this.interactionController.handleFocus}" @focusout="${this.interactionController.handleBlur}" ${t.H(this.popperRef)}> <slot slot="anchor" aria-describedby="tooltip" @click="${this.interactionController.handleClick}" ${t.H(this.defaultSlotRef)}></slot> <div part="body" id="tooltip" class="tooltip-body" role="tooltip" aria-live="${this.open?"polite":"off"}" ${t.H(this.bodyRef)}> <slot name="content" ${t.H(this.contentSlotRef)}>${this.content}</slot> <slot name="shortcut"></slot> </div> </rpl-popper> `}}return e._([e.n({type:String,reflect:!0})],n.prototype,"appearance",void 0),e._([e.n()],n.prototype,"content",void 0),e._([e.n()],n.prototype,"placement",void 0),e._([e.n({type:Boolean,reflect:!0})],n.prototype,"disabled",void 0),e._([e.n({type:Number})],n.prototype,"distance",void 0),e._([e.n({type:Boolean,reflect:!0})],n.prototype,"open",void 0),e._([e.n({type:Number})],n.prototype,"skidding",void 0),e._([e.n()],n.prototype,"trigger",void 0),e._([e.n({type:Boolean})],n.prototype,"hoist",void 0),e._([e.n({type:Boolean,attribute:"no-animate"})],n.prototype,"noAnimate",void 0),t.bA("tooltip.show",{keyframes:[{visibility:"visible",opacity:0,scale:.8},{opacity:1,scale:1}],options:{duration:150,easing:"ease"}}),t.bA("tooltip.hide",{keyframes:[{scale:1},{opacity:0,scale:.8}],options:{duration:150,easing:"ease"}}),{T:n,a:s}}));
SML.dm("C9Y39_ZO",["DAgRafdt","DSWSCRFk","Vy1IDB19","OAEZpqSu","BVLgyhDE"],(async(o,r,t)=>{var a=r.i`${o.X}:host{--max-width:20rem;--hide-delay:0ms;--show-delay:750ms;display:contents}:host,:host([appearance=neutral]){--rpl-tooltip-code-background-color:var(--color-neutral-background-hover);--rpl-tooltip-background-color:var(--color-neutral-background);--rpl-tooltip-color:var(--color-neutral-content-strong)}:host([appearance=inverted]){--rpl-tooltip-code-background-color:var(--color-inverted-neutral-background-hover);--rpl-tooltip-background-color:var(--color-inverted-neutral-background);--rpl-tooltip-color:var(--color-inverted-neutral-content-strong)}:host([appearance=primary]){--rpl-tooltip-background-color:var(--color-tooltip-bg-primary);--rpl-tooltip-color:var(--color-tooltip-text-primary)}.tooltip{--arrow-size:var(--rpl-tooltip-arrow-size, 4px);--arrow-color:var(--rpl-tooltip-background-color)}.tooltip[placement^=top]::part(arrow){box-shadow:1px 1px 2px rgba(0,0,0,.05)}.tooltip[placement^=bottom]::part(arrow){box-shadow:-1px -1px 2px rgba(0,0,0,.05)}.tooltip[placement^=left]::part(arrow){box-shadow:0 -2px 2px rgba(0,0,0,.05)}.tooltip[placement^=right]::part(arrow){box-shadow:-2px 0 2px rgba(0,0,0,.05)}.tooltip::part(popup){z-index:var(--rpl-z-index-tooltip,var(--faceplate-tooltip-z-index,1))}.tooltip[placement^=top]::part(popup){transform-origin:bottom}.tooltip[placement^=bottom]::part(popup){transform-origin:top}.tooltip[placement^=left]::part(popup){transform-origin:right}.tooltip[placement^=right]::part(popup){transform-origin:left}.tooltip-body{display:flex;justify-content:center;align-items:center;width:max-content;max-width:var(--max-width);border-radius:var(--rpl-tooltip-border-radius,.25rem);box-shadow:var(--rpl-tooltip-box-shadow,var(--boxshadow-tooltip));background-color:var(--rpl-tooltip-background-color);font:var(--rpl-tooltip-font,var(--font-12-16-semibold));color:var(--rpl-tooltip-color);padding:var(--rpl-tooltip-padding,.5rem);pointer-events:none;user-select:none;-webkit-user-select:none;gap:var(--rem4)}::slotted([slot=shortcut]),::slotted(code[slot=shortcut]){font:var(--rpl-tooltip-font,var(--font-12-16-semibold))!important;color:var(--rpl-tooltip-color)!important;background-color:var(--rpl-tooltip-code-background-color)!important;border:none!important;border-radius:calc(var(--rpl-tooltip-border-radius,.25rem) - var(--rem2))!important;padding:var(--rem4)!important}`;let p=class extends t.T{};return p.styles=a,p=r._([r.c("rpl-tooltip")],p),{get R(){return p}}}));
SML.dm("alLlRaWG",["DSWSCRFk"],(async e=>{const t=["input","a","faceplate-checkbox-input","faceplate-radio-input","faceplate-switch-input "],s=({collection:e,activeIndex:s})=>{let i=0;for(const o of e){o.tabIndex=i===s?0:-1;for(const e of Array.from(o.children)){const o=e.querySelector(t.join(","));o&&o instanceof HTMLElement&&(o.tabIndex=i===s?0:-1)}i++}};let i=class extends e.s{constructor(){super(...arguments),this.disableAutoFocus=!1,this.ariarole="menu",this.activeIndex=0,this.firstUpdated=()=>{this.prevFocusedElement=document.activeElement,this.hasAttribute("hidden")?this.toggleItemsTabbable(!1):this.openMenu()},this.toggleItemsTabbable=(e=!0,{overrideActiveIndex:t}={})=>{s({collection:this.getFocusableListItems(),activeIndex:t??(e?0:-1)})},this.openMenu=async()=>{const e=this.getFocusableListItems().findIndex((e=>"true"===e.getAttribute("aria-selected")));this.toggleItemsTabbable(!0,{overrideActiveIndex:-1===e?void 0:e}),this.disableAutoFocus||(e>=0&&e!==this.activeIndex&&(this.activeIndex=e),this.getFocusableListItems()[this.activeIndex]?.focus())},this.closeMenu=()=>{this.toggleItemsTabbable(!1)},this.setFocus=e=>{this.getFocusableListItems()[e]?.focus(),this.activeIndex=e},this.onFocusNext=()=>{const e=this.activeIndex===this.getFocusableListItems().length-1?0:this.activeIndex+1;s({collection:this.getFocusableListItems(),activeIndex:e}),this.setFocus(e)},this.onFocusPrev=()=>{const e=0===this.activeIndex?this.getFocusableListItems().length-1:this.activeIndex-1;s({collection:this.getFocusableListItems(),activeIndex:e}),this.setFocus(e)},this.onKeyDown=e=>{switch(e.key){case"Escape":this.prevFocusedElement.focus(),this.onclose&&this.onclose(e);break;case"ArrowDown":case"ArrowRight":this.onFocusNext(),e.preventDefault();break;case"ArrowUp":case"ArrowLeft":this.onFocusPrev(),e.preventDefault()}}}static get styles(){return e.i`:host{background-color:var(--color-neutral-background-strong)}ul{padding:var(--spacing-sm) 0;margin:0}`}getFocusableListItems(){const e="li:not([list-item-group]):not([list-item-header])",t=this.shadowRoot.querySelector("slot"),s=[];for(const i of t.assignedElements({flatten:!0}))i?.matches(e)&&s.push(i),s.push(...Array.from(i.querySelectorAll(e)));return s.map((e=>e.firstElementChild))}render(){return e.x` <ul role="${this.ariarole}" @keydown="${this.onKeyDown}"> <slot></slot> </ul> `}};e._([e.n({type:Boolean,attribute:"disable-auto-focus"})],i.prototype,"disableAutoFocus",void 0),e._([e.n({type:String})],i.prototype,"ariarole",void 0),e._([e.b()],i.prototype,"activeIndex",void 0),i=e._([e.c("faceplate-menu")],i);return{get F(){return i},S:class{constructor(e){this.previousChar="",this.focusedIndex=-1,this.cancelUpdate=!1,this.hasOptionVisualFocus=!1,this.hasSelection=!1,this.searchString="",this.searchTimeoutId=null,this.initializeSelections=()=>{this.options.forEach((e=>{this.makeSelection({selected:e.selected,option:e})}))},this.dispatchChangeEvent=()=>{this.hasSelection=!0,this.host.dispatchEvent(new CustomEvent(`${this.host.nodeName.toLowerCase()}:change`,{composed:!0,bubbles:!0,detail:{target:this.host}}))},this.onBlur=e=>{this.options.includes(e.relatedTarget)||(this.closeDropdownMenu(),this.host.blur())},this.onClick=()=>{(this.host.multiple&&!this.hasOptionVisualFocus||!this.host.multiple)&&this.host.dropdownMenu?.toggle()},this.shouldSelectFocusedOption=()=>{const e=this.host.hasAttribute("autocomplete"),t=!!this.host.readonly;return(e||t)&&!this.hasSelection&&this.hasOptionVisualFocus},this.onMenuClose=()=>{if(this.cancelUpdate||this.shouldSelectFocusedOption()&&this.selectFocusedOption(),this.selectedIndex>=0)this.focusedIndex=this.selectedIndex;else{if(this.host.readonly&&this.cancelUpdate)return;this.visibleOptions[this.focusedIndex]?.visualFocus(!1)}this.hasOptionVisualFocus=!1},this.onMenuOpen=()=>{this.focusedIndex=this.selectedIndex>=0?this.selectedIndex:-1,this.host.readonly&&this.focusedIndex<0&&(this.focusedIndex=0),this.focusedIndex>=0&&this.visuallyFocusOption(this.focusedIndex),this.hasSelection=!1,this.cancelUpdate=!1},this.onFaceplateOptionSelect=e=>{if(e.stopImmediatePropagation(),e.defaultPrevented)return;const t=e,{option:s,selected:i,allowSingleDeselection:o}=t?.detail||{};s&&this.makeSelection({option:s,selected:i,allowSingleDeselection:o})},this.makeSelection=async({selected:e,option:t,allowSingleDeselection:s})=>{this.host.multiple?(t?.dispatchEvent(this.createUpdateEvent(e)),await(t?.updateComplete)):(!s&&e||s)&&(e&&this.singleSelectionCache!==t&&this.singleSelectionCache?.dispatchEvent(this.createUpdateEvent(!1)),t?.selected!==e&&(t?.dispatchEvent(this.createUpdateEvent(e)),await(t?.updateComplete)),e&&(this.singleSelectionCache=t),setTimeout(this.closeDropdownMenu)),this.dispatchChangeEvent(),this.cancelUpdate=!1,this.host.requestUpdate()},this.visuallyFocusNextOption=()=>{this.focusedIndex===this.visibleOptions.length-1&&(this.focusedIndex=-1),this.visuallyFocusOption(++this.focusedIndex),this.hasOptionVisualFocus=!0},this.visuallyFocusPrevOption=()=>{this.focusedIndex<=0&&(this.focusedIndex=this.visibleOptions.length),this.visuallyFocusOption(--this.focusedIndex),this.hasOptionVisualFocus=!0},this.focusNextMatchedOption=e=>{if("number"==typeof this.searchTimeoutId&&window.clearTimeout(this.searchTimeoutId),this.searchTimeoutId=setTimeout((()=>{this.previousChar=this.searchString,this.searchString=""}),500),this.searchString+=e,this.searchString===this.previousChar){let e=this.focusedIndex+1;for(let t=0;t<this.visibleOptions.length;t++){if(e>this.visibleOptions.length-1&&(e=0),this.visibleOptions[e]?.displayText?.toLowerCase().startsWith(this.searchString)){this.visuallyFocusOption(e),this.focusedIndex=e;break}e++}}else{const e=this.visibleOptions.findIndex(((e,t)=>t!==this.focusedIndex&&e.displayText?.toLowerCase().startsWith(this.searchString)));-1!==e&&(this.focusedIndex=e,this.visuallyFocusOption(this.focusedIndex))}this.previousChar=this.searchString},this.selectFocusedOption=()=>{if(this.focusedIndex<0)return;const e=this.visibleOptions[this.focusedIndex];this.makeSelection({selected:!e.selected,option:e})},this.visuallyFocusOption=e=>{this.currentFocusedOption&&this.currentFocusedOption?.visualFocus(!1),this.currentFocusedOption=this.visibleOptions[e],this.currentFocusedOption?.visualFocus(!0),this.currentFocusedOption?.scrollIntoView()},this.openDropdownMenu=()=>{!this.host.disabled&&this.host.dropdownMenu?.hidden&&this.host.dropdownMenu?.show()},this.closeDropdownMenu=()=>{this.host.dropdownMenu?.hidden||this.host.dropdownMenu?.close()},this.handleKeyBindings=e=>{switch(e.key){case"ArrowDown":if(this.host.dropdownMenu?.hidden)return void this.openDropdownMenu();e.altKey||this.visuallyFocusNextOption();break;case"ArrowUp":this.openDropdownMenu(),this.visuallyFocusPrevOption();break;case"Escape":this.cancelUpdate=!0,this.closeDropdownMenu(),e.stopPropagation();break;case"Enter":case"Tab":this.host.dropdownMenu?.hidden||this.selectFocusedOption();break;default:e.key.match("^\\w$")&&(this.openDropdownMenu(),(this.host.multiple||this.host.readonly||this.host.referenceElement instanceof HTMLButtonElement)&&this.focusNextMatchedOption(e.key))}},(this.host=e).addController(this)}async hostConnected(){await this.host.updateComplete,this.resizeObserver=new ResizeObserver((()=>{this.host.style.setProperty("--select-width",`${this.host.getBoundingClientRect().width}px`)})),this.resizeObserver?.observe(this.host),this.host.addEventListener("faceplate-option:select",this.onFaceplateOptionSelect),this.host.addEventListener("keydown",this.handleKeyBindings),this.host.addEventListener("faceplate-dropdown-menu:open",this.onMenuOpen),this.host.addEventListener("faceplate-dropdown-menu:closed",this.onMenuClose),this.host.addEventListener("click",this.onClick),this.host.addEventListener("blur",this.onBlur),this.initializeSelections(),this.host.dropdownMenu&&(this.host.dropdownMenu.triggerEvent=void 0)}hostDisconnected(){this.resizeObserver?.disconnect(),this.host.removeEventListener("keydown",this.handleKeyBindings),this.host.removeEventListener("faceplate-option:select",this.onFaceplateOptionSelect),this.host.removeEventListener("faceplate-dropdown-menu:open",this.onMenuOpen),this.host.removeEventListener("faceplate-dropdown-menu:closed",this.onMenuClose),this.host.removeEventListener("click",this.onClick),this.host.removeEventListener("blur",this.onBlur)}get selectedOptions(){return this.options.filter((e=>e.selected))}get options(){return this.host.options??[]}get selectedIndex(){return this.options.findIndex((e=>e.selected))}get visibleOptions(){return(this.host.options??[]).filter((e=>!e.hasAttribute("hidden")))}get value(){return this.selectedOptions[0]?.value||""}set value(e){if(e===this.value)return;const t=this.options.findIndex((t=>t.value===e));if(-1===t)this.singleSelectionCache?.dispatchEvent(this.createUpdateEvent(!1)),this.singleSelectionCache=null;else{const e=this.options[t];this.makeSelection({selected:t>=0,option:e})}}createUpdateEvent(e){return new CustomEvent("faceplate-option:update",{composed:!0,detail:{selected:e}})}getSelectedOptionsAsStr(){return this.selectedOptions.map((e=>e.displayText)).join(", ").trim()}}}}));
SML.dm("Dnwr24bF",["DSWSCRFk","DAgRafdt"],(async(t,e)=>{const i={variantFlipOrder:{start:"sme",middle:"mse",end:"ems"},positionFlipOrder:{top:"tbrl",right:"rltb",bottom:"btrl",left:"lrbt"},position:"bottom",margin:8,padding:0},n=(t,e,n)=>{const{container:o,margin:s,padding:r,position:l,variantFlipOrder:p,positionFlipOrder:a}={container:document.documentElement.getBoundingClientRect(),...i,...n},{left:h,top:c}=e.style;e.style.left="0",e.style.top="0";const u=t.getBoundingClientRect(),d=e.getBoundingClientRect(),m={t:u.top-d.height-s,b:u.bottom+s,r:u.right+s,l:u.left-d.width-s},f={vs:u.left,vm:u.left+u.width/2+-d.width/2,ve:u.left+u.width-d.width,hs:u.top,hm:u.bottom-u.height/2-d.height/2,he:u.bottom-d.height},[g,E="middle"]=l.split("-"),y=a[g],b=p[E],{top:v,left:_,bottom:w,right:S}=o;for(const t of y){const i="t"===t||"b"===t,n=m[t],[o,s]=i?["top","left"]:["left","top"],[l,p]=i?[d.height,d.width]:[d.width,d.height],[a,h]=i?[w,S]:[S,w],[c,u]=i?[v,_]:[_,v];if(!(n<c||n+l+r>a))for(const l of b){const a=f[(i?"v":"h")+l];if(!(a<u||a+p+r>h))return e.style[s]=a-d[s]+"px",e.style[o]=n-d[o]+"px",t+l}}return e.style.left=h,e.style.top=c,null};function o(t,e=50,i={leading:!0,trailing:!0}){i={leading:!0,trailing:!0,...i};let n,o,s,r=null,l=0;const p=function(){l=i.leading?Date.now():0,r=null,s=t.apply(n,o),r||(n=o=null)};return function(...a){const h=Date.now();l||!1!==i.leading||(l=h);const c=e-(h-l);return n=this,o=a,c<=0||c>e?(r&&(clearTimeout(r),r=null),l=h,s=t.apply(n,a),r||(n=o=null)):r||!1===i.trailing||(r=setTimeout(p,c)),s}}const s=["button","link","menuitem","tab","checkbox","combobox","gridcell","application","treeitem"];class r{set popperTrigger(t){this._popperTrigger=t}get popperTrigger(){if(this._popperTrigger)return this._popperTrigger;let t=this.host.shadowRoot?.querySelector("slot[faceplate-popper-trigger]")?.assignedElements()?.[0]??null;let e=0;const i=t=>t instanceof HTMLButtonElement||t instanceof HTMLAnchorElement||s.includes(t?.getAttribute("role")??"");if(i(t))return t;for(;t&&e<5;){if(t=t?.assignedElements?t?.assignedElements()?.[0]??null:t?.children[0]??null,i(t))return t;e++}return null}get popperContent(){return this.host.shadowRoot?.querySelector("[faceplate-popper-content]")?.querySelector("slot")?.assignedElements()?.[0]??null}constructor(e,{containerElement:i=document.documentElement,scrollContainerElement:n=t.bZ().scrollContainerElement(),allowCloseByEvent:s=!0,...r}){this.status="closed",this._containerSize=null,this.containerSizeChanged=t=>{if(!this._containerSize)return!0;const e=this._containerSize;return Object.keys(t).some((i=>e[i]!==t[i]))},this.updateAriaStates=async(t=!1)=>{const e="open"===this.currentState.state,i="tooltip"===this.host.shadowRoot?.querySelector("[faceplate-popper-content]")?.getAttribute("role"),n="dialog"===this.host.shadowRoot?.querySelector("[faceplate-popper-content]")?.getAttribute("role"),o=this.popperTrigger,s=this.popperContent,r=!this._options.manualTriggerFocus&&!t&&!n&&"function"==typeof o?.focus;i||(t&&(o?.setAttribute("aria-haspopup",n?"dialog":"true"),s?.setAttribute("hidden","")),e?(s?.removeAttribute("hidden"),this.currentState.animationFinished&&await this.currentState.animationFinished,s?.openMenu?.()):(s?.setAttribute("hidden",""),s?.closeMenu?.(),r&&o?.focus()),o?.setAttribute("aria-expanded",`${e}`))},this.referenceInViewport=o((()=>{const{reference:t=null,containerElement:e=document.documentElement}=this._options;if("open"!==this.status)return!1;if(!t)return!1;const i=t.getBoundingClientRect();return i.top>=0&&i.left>=0&&i.bottom<=(window.innerHeight||e.clientHeight)&&i.right<=(window.innerWidth||e.clientWidth)}),80),this.isOffscreenBottom=o((t=>{const e=t.popper?.getBoundingClientRect(),i=this._options.reference?.getBoundingClientRect();return!!e&&window.innerHeight-(i.bottom+e.height)<16}),80),this.getPosition=t=>{const e=t.position??"bottom";return"open"===this.status?e:this.popper&&this.isOffscreenBottom(t)&&e?.includes("bottom")?e.replace("bottom","top"):t.position},this.reposition=()=>{this.referenceInViewport()?this.updatePopper():this.close()},this.open=async()=>{if(this.popper){if("open"===this.status)return Promise.resolve(null)}else this.initialize();this.popperContent?.removeAttribute("hidden"),this.updateOptions({});const t=this.showElement(this._options.popper,!0);return this.setStatus("open",t),t?.finished??Promise.resolve(null)},this.close=async t=>{if(t&&!this._options.allowCloseByEvent)return Promise.resolve(null);if(t&&(t.preventDefault(),t.stopPropagation()),"open"!==this.status)return Promise.resolve(null);const e=this.hideElement(this._options.popper,!0);return this.setStatus("closed",e),e?.finished??Promise.resolve(null)},this.toggle=async t=>"open"!==this.status?this.open():this.close(t),this.updatePopper=t=>{if(!this.popper)return null;const e=this.actualPosition;let i=null;try{i=this.popper.update(t)}catch(t){return null}const n=p(i);return n!==e&&(this.setActualPosition(n),this.host.requestUpdate()),i},this.setStatus=(t,e)=>{this.status=t,this.statusAnimation=e,this.statusAnimation?.finished.then((()=>{this.updateAriaStates()}))},this.setActualPosition=t=>{this.actualPosition=t},this.handleContainerResize=o((()=>{if("open"!==this.status)return;const t=(this._options.containerElement??document.documentElement).getBoundingClientRect();this.containerSizeChanged(t)&&(this._containerSize=t,this.updatePopper({...this._options,container:t}))}),80),this.getKeyframes=(t,e="show",i)=>{try{return new KeyframeEffect(t,[{visibility:"hidden",opacity:"0"},{visibility:"visible",opacity:"1"}],{fill:"both",direction:"show"===e?"normal":"reverse",duration:i,easing:"ease-in-out"})}catch(i){return()=>{"show"===e?(t.style.visibility="visible",t.style.opacity="1"):(t.style.visibility="hidden",t.style.opacity="0")}}},(this.host=e).addController(this),this._options={...r,containerElement:i,scrollContainerElement:n,allowCloseByEvent:s},this.actualPosition=this._options.position||null}async hostConnected(){await this.host.updateComplete,this.updateAriaStates(!0)}initialize(){this._containerSize=(this._options.containerElement??document.documentElement).getBoundingClientRect(),this.popper=((t,e,i)=>{const o="object"!=typeof t||t instanceof HTMLElement?{reference:t,popper:e,...i}:t;return{update(t=o){const{reference:e,popper:i}=Object.assign(o,t);if(!i||!e)throw new Error("Popper- or reference-element missing.");return n(e,i,o)}}})({...this._options,container:this._containerSize}),this.resizeObserver=new ResizeObserver(this.handleContainerResize),this._options.containerElement&&this.resizeObserver.observe(this._options.containerElement);(this._options.scrollContainerElement??window).addEventListener("scroll",this.reposition),this.replaceElement(void 0,this._options.popper)}hostDisconnected(){this._options.containerElement&&this.resizeObserver?.unobserve(this._options.containerElement);(this._options.scrollContainerElement??window).removeEventListener("scroll",this.reposition)}getOptions(){return this._options}updateOptions({...t}){const e={...this._options,...t},i={...e};this.popper&&(this._containerSize=(e.containerElement??document.documentElement).getBoundingClientRect(),i.container=this._containerSize);const n=i.popperElementKey||"popperElement";!i.popper&&n in this.host&&(i.popper=this.host[n]);const o=i.referenceElementKey||"popperReferenceElement";!i.reference&&o in this.host&&(i.reference=this.host[o]),i.popper!==this._options.popper&&this.replaceElement(this._options.popper,i.popper),i.containerElement!==this._options.containerElement&&(this._options.containerElement&&(this.resizeObserver?.unobserve(this._options.containerElement),this._options.containerElement.removeEventListener("faceplate-close",this.close)),i.containerElement&&(this.resizeObserver?.observe(i.containerElement),i.containerElement.addEventListener("faceplate-close",this.close))),this._options=i,this.updatePopper({...this._options,position:this.getPosition(i)})}get currentState(){return{state:this.status,animationFinished:this.statusAnimation?.finished.then((()=>{}))??Promise.resolve()}}showElement(t,e=!0){if(t)return t.style.display="",this.updatePopper(),l(this.getKeyframes(t,"show",e?150:0))}hideElement(t,e="open"===this.status){if(!t)return;if("closed"===this.status)return void(t.style.display="none");const i=l(this.getKeyframes(t,"hide",e?150:0));return i?.finished.catch((()=>{})).then((()=>{"closed"===this.status&&(t.style.display="none"),i?.cancel()})),i}replaceElement(t,e){t&&(this.hideElement(t,!1),t.removeEventListener("faceplate-close",this.close)),e&&("open"===this.status?this.showElement(e,!1):this.hideElement(e,!1),e.addEventListener("faceplate-close",this.close))}}r.defaultPopperContentStyles=t.i`[faceplate-popper-content]{position:fixed;visibility:hidden;opacity:0}`;const l=t=>{if("function"==typeof t)return t();if(!t.target)return;t.target.getAnimations().forEach((t=>t.cancel()));const e=new Animation(t);return e.play(),e},p=t=>{if(!t)return null;const[e,i]=t,n=e?{t:"top",b:"bottom",l:"left",r:"right"}[e]:null,o=i?{s:"start",m:"middle",e:"end"}[i]:null;return n&&o?`${n}-${o}`:null};let a=e.d;return{P:r,s:async(t,{isEditMode:i=!1,preselectFlairId:n}={})=>{try{return await a({name:e.fL,renderMode:e.P.Contents,queryParams:{postId:t,isEditMode:i?"true":"false",...void 0!==n&&{preselectFlairId:n}}}),!0}catch{return!1}}}}));
SML.dm("DxvZ7Xss",["DSWSCRFk","Dnwr24bF","OAEZpqSu"],(async(e,t,n)=>{let s=class extends e.s{constructor(){super(...arguments),this.position="bottom-middle",this.triggerEvent="click",this.disabled=!1,this.manualTriggerFocus=!1,this.containerElement=document.documentElement,this.scrollContainerElement=window,this.onopen=null,this.onclose=null,this.emitter=n.k(this),this._popperController=new t.P(this,{position:this.position,referenceElementKey:"referenceElement",popperElementKey:"_menu",containerElement:this.containerElement,scrollContainerElement:this.scrollContainerElement,manualTriggerFocus:this.manualTriggerFocus}),this._eventUsedMap=new WeakMap,this.updated=e=>{e.has("position")&&this._popperController.updateOptions({position:this.position}),e.has("manualTriggerFocus")&&this._popperController.updateOptions({manualTriggerFocus:this.manualTriggerFocus})},this.handleDocumentClick=e=>{if(!(e.target instanceof Element)||this.hidden)return;const t=e.target.closest('[slot="menu"]'),n=this._eventUsedMap.has(e);null!==t||n||this.close()},this.handleEscape=e=>{"Escape"===e.key&&this.close(e)},this.addListenersWhileOpened=()=>{document.addEventListener("click",this.handleDocumentClick),document.addEventListener("keydown",this.handleEscape)},this.cleanupListenersWhileOpened=()=>{document.removeEventListener("click",this.handleDocumentClick),document.removeEventListener("keydown",this.handleEscape)},this.show=e=>{this.hidden=!1,this.emitter.dispatch("open"),this._menu.style.pointerEvents="auto",this._popperController.currentState.animationFinished.then((()=>{this.addListenersWhileOpened(),this.emitter.dispatch("opened")})),this.onopen?.(e??new Event("faceplate-dropdown-menu-show"))},this.close=(e,t)=>{!0===t?.disableRestoreFocus&&this._popperController.updateOptions({manualTriggerFocus:!0}),this.cleanupListenersWhileOpened(),this.hidden=!0,this.emitter.dispatch("close"),this._menu.style.pointerEvents="none",this._popperController.currentState.animationFinished.then((()=>{this.emitter.dispatch("closed"),this._popperController.updateOptions({manualTriggerFocus:this.manualTriggerFocus})})),this.onclose?.(e??new Event("faceplate-dropdown-menu-open"))},this.toggle=e=>{this.hidden?this.show(e):this.close(e)},this.handleClick=this.disabledHandler((e=>{this._eventUsedMap.set(e,!0),"click"===this.triggerEvent&&(this.hidden?this.show(e):this.close(e))})),this.handleMouseenter=this.disabledHandler((e=>{"hover"===this.triggerEvent&&this.show(e)})),this.handleMouseleave=this.disabledHandler((e=>{"hover"===this.triggerEvent&&this.close(e)})),this.handleFocusOut=this.disabledHandler((e=>{!this.hidden&&e.relatedTarget instanceof HTMLElement&&!i(this,e.relatedTarget)&&this.close(e,{disableRestoreFocus:!0})}))}get referenceElement(){return this.shadowRoot?.querySelector("#trigger")?.assignedElements()[0]??this}static get styles(){return[e.i`:host{--faceplate-dropdown-menu-z-index:1000;display:flex}#menu{border-radius:var(--rem8);box-shadow:0 4px 8px 0 rgba(0,0,0,.1),0 6px 12px 0 rgba(0,0,0,.25);display:inline-flex;justify-content:center;overflow:hidden;width:max-content;z-index:var(--faceplate-dropdown-menu-z-index);outline-offset:-1px}`,t.P.defaultPopperContentStyles]}get hidden(){return"closed"===this._popperController.currentState.state}set hidden(e){!0===e?this._popperController.close():this._popperController.open()}connectedCallback(){super.connectedCallback(),this.classList.add("connected")}firstUpdated(){this._menu&&(this._menu.style.pointerEvents="none")}disconnectedCallback(){super.disconnectedCallback(),this.cleanupListenersWhileOpened()}disabledHandler(e){return t=>{this.disabled||e(t)}}render(){return e.x` <slot id="trigger" aria-describedby="menu" faceplate-popper-trigger aria-controls="menu" @click="${this.handleClick}" @mouseenter="${this.handleMouseenter}" @mouseleave="${this.handleMouseleave}" @focusin="${this.handleMouseenter}" @focusout="${this.handleMouseleave}"></slot> <article id="menu" faceplate-popper-content @focusout="${this.handleFocusOut}"> <slot name="menu"></slot> </article> `}};e._([e.n({type:String})],s.prototype,"position",void 0),e._([e.n({type:String,attribute:"trigger-event"})],s.prototype,"triggerEvent",void 0),e._([e.n({type:Boolean})],s.prototype,"disabled",void 0),e._([e.n({type:Boolean,attribute:"manual-trigger-focus"})],s.prototype,"manualTriggerFocus",void 0),e._([e.D("#menu")],s.prototype,"_menu",void 0),e._([e.D("#trigger")],s.prototype,"_trigger",void 0),s=e._([e.c("faceplate-dropdown-menu")],s);const i=(e,t)=>{if(!e||!t)return!1;if(e===t)return!0;if(0===e.childElementCount&&!(e instanceof HTMLSlotElement))return!1;if(e.contains(t))return!0;if(e instanceof HTMLSlotElement&&e.assignedElements().some((e=>i(e,t))))return!0;if(e instanceof Element&&e.shadowRoot&&i(e.shadowRoot,t))return!0;for(const n of e.querySelectorAll("slot"))if(n.assignedElements().some((e=>i(e,t))))return!0;return!1};return{get F(){return s},a:({attributes:t,children:n})=>{const{html:s,createElement:i}=e.g();return i("li",{...t,booleanListItemGroup:!0,className:"list-none",rpl:!0},s`<ul class="p-0"> ${n} </ul>`)},l:({attributes:t,children:n,trailingSlot:s})=>{const{html:i,createElement:o}=e.g();return o("li",{...t,booleanListItemHeader:!0,className:"flex items-center m-0 pe-md h-2xl min-w-0 text-secondary font-semibold text-12",rpl:!0},i`<span class="grow min-w-0 px-sm truncate">${n}</span> ${s?i`<span class="flex items-center">${s}</span> `:void 0}`)}}}));
SML.dm("BjRhnMPP",["DSWSCRFk","B_Z23SiP","DAgRafdt","B8bCssFV","OAEZpqSu"],(async(e,t,a,i,n)=>{const r=e.e(class extends e.a{constructor(t){if(super(t),t.type!==e.t.PROPERTY&&t.type!==e.t.ATTRIBUTE&&t.type!==e.t.BOOLEAN_ATTRIBUTE)throw Error("The `live` directive is not allowed on child or event bindings");if(!e.j(t))throw Error("`live` bindings can only contain a single expression")}render(e){return e}update(t,[a]){if(a===e.T||a===e.A)return a;const i=t.element,n=t.name;if(t.type===e.t.PROPERTY){if(a===i[n])return e.T}else if(t.type===e.t.BOOLEAN_ATTRIBUTE){if(!!a===i.hasAttribute(n))return e.T}else if(t.type===e.t.ATTRIBUTE&&i.getAttribute(n)===a+"")return e.T;return e.c5(t),a}});class o{constructor(e,t){this._observedNames=new Set,this._previousStates=new Map,this._records=new Map,this._eventListener=e=>{this._processRecord(e.detail)},this._callCallback=()=>{this._records.size&&this._callback(this.takeRecords(),this)},this._callback=e,this.form=t.form}_processRecord(e){const t=!this._records.size,{input:a,message:i,name:n}=e;if(!this._observedNames.has(n))return;this._previousStates.get(n)!==i&&(this._records.set(n,{target:a,message:i,name:n}),this._previousStates.set(n,i),this._records.size&&t&&queueMicrotask(this._callCallback))}observe(e){if(this._observedNames.has(e))return;this._observedNames.add(e),1===this._observedNames.size&&this.form.addEventListener("_faceplate-validation-change",this._eventListener);const t=this.form.elements[e];!t||t instanceof HTMLOutputElement||Array.isArray(t)||this._processRecord({input:t,name:e,message:t.validationMessage})}disconnect(){this._observedNames.size&&(this._observedNames.clear(),this._previousStates.clear(),this._records.clear(),this.form.removeEventListener("_faceplate-validation-change",this._eventListener))}takeRecords(){const e=Array.from(this._records.values());return this._records=new Map,e}unobserve(e){this._observedNames.has(e)&&(this._observedNames.delete(e),this._previousStates.delete(e),this._records.delete(e),this._observedNames.size||this.disconnect())}}let s=class extends e.s{constructor(){super(...arguments),this.name="",this.level=null,this.placeholder="",this.ariaLive=null,this.message="",this.characterCount=Number.NEGATIVE_INFINITY,this.characterCountAriaLabel="",this.visuallyHiddenText="",this.isInputDirty=!0,this._message="",this.setIsDirtyByAttribute=e=>{this.isInputDirty=e.hasAttribute("faceplate-dirty")},this.onFormConnect=e=>{e?.addEventListener("faceplate-submit",(()=>{this.isInputDirty=!0})),e&&this.isConnected&&(this._observer=new o((e=>{for(const t of e)if(t.name===this.name){if(t.target instanceof i.F){this.setIsDirtyByAttribute(t.target);new MutationObserver((e=>{for(const t of e)"faceplate-dirty"===t.attributeName&&this.setIsDirtyByAttribute(t.target),"faceplate-validity"===t.attributeName&&this.toggleSuccessStyling(t.target)})).observe(t.target,{attributes:!0})}else this.isInputDirty=!0;this.setMessage(this.message||t.message,"valid"===t.target.getAttribute("faceplate-validity")?a.I.success:a.I.error)}}),{form:e}),this._observer.observe(this.name),this._observer.form.addEventListener("faceplate-alert",this._handleAlert))},this.associateForm=e=>{this.onFormConnect(e)},this._handleAlert=e=>{this.isInputDirty=!0;const{name:t,level:i,message:n}=e.detail;t===this.name&&i!==a.I.error&&this.setMessage(n,i)},this.toggleSuccessStyling=e=>{this.isInputDirty&&("valid"===e.getAttribute("faceplate-validity")?this.shadowRoot?.getElementById("helper-text")?.classList.add("success"):this.shadowRoot?.getElementById("helper-text")?.classList.remove("success"))}}connectedCallback(){super.connectedCallback(),t.c(this).then(this.onFormConnect)}disconnectedCallback(){super.disconnectedCallback(),this._observer&&(this._observer.disconnect(),this._observer.form.removeEventListener("faceplate-alert",this._handleAlert))}setMessage(e,t){e&&void 0!==t?this.level=a.I[t]:this.removeAttribute("level"),this._message=e||""}get textContent(){return this.shadowRoot?.firstElementChild?.textContent||""}get innerText(){return this.shadowRoot?.firstElementChild?.innerText||""}static get styles(){return e.i`:host{display:block;font-size:var(--font-small);color:var(--color-input-helper-text);line-height:var(--size-md);font-size:var(--font-small);box-sizing:border-box}.container{display:flex;justify-content:space-between;padding-top:var(--spacer-input-padding-top);line-height:var(--size-md);font-size:var(--font-small)}.success,:host([level=success]){color:var(--color-success-content)}.overflow-char-limit,:host([level=alert]),:host([level=critical]),:host([level=emergency]),:host([level=error]){color:var(--color-danger-content)}:host([level=warning]){color:var(--color-alert-caution)}:host([level=notice]){color:var(--color-success-content)}.pristine{color:var(--color-input-helper-text)}:host([character-count]) .character-count{margin-inline-start:var(--spacer-xs);flex-shrink:0}.empty{padding:0}`}render(){const t=this.characterCount>Number.NEGATIVE_INFINITY;return this.placeholder||this._message||t?e.x`<span aria-live="${e.l(this.ariaLive??void 0)}" class="${a.x({container:!0,pristine:!this.isInputDirty})}"> <span id="helper-text">${this.isInputDirty&&this._message?this._message:this.placeholder}</span> ${t?e.x`<span class="character-count ${this.characterCount<0?"overflow-char-limit":""}" aria-label="${e.l(this.characterCountAriaLabel)}">${this.characterCount}</span>`:void 0} </span> <faceplate-screen-reader-content aria-live="assertive">${this.visuallyHiddenText}</faceplate-screen-reader-content>`:e.x`<faceplate-screen-reader-content aria-live="polite">${this.visuallyHiddenText}</faceplate-screen-reader-content>`}};e._([e.n({type:String,reflect:!0})],s.prototype,"name",void 0),e._([e.n({type:String,reflect:!0})],s.prototype,"level",void 0),e._([e.n({type:String})],s.prototype,"placeholder",void 0),e._([e.n({type:String,reflect:!0,attribute:"aria-live"})],s.prototype,"ariaLive",void 0),e._([e.n({type:String,attribute:"message"})],s.prototype,"message",void 0),e._([e.n({type:Number,attribute:"character-count"})],s.prototype,"characterCount",void 0),e._([e.n({type:String,attribute:"character-count-aria-label"})],s.prototype,"characterCountAriaLabel",void 0),e._([e.n({type:String,attribute:"visually-hidden-text"})],s.prototype,"visuallyHiddenText",void 0),e._([e.b()],s.prototype,"isInputDirty",void 0),e._([e.b()],s.prototype,"_message",void 0),s=e._([e.c("faceplate-form-helper-text")],s);class l extends i.F{constructor(){super(...arguments),this.suffix="",this.value="",this.name="",this.placeholder="",this.required=!1,this.screenReaderContent="",this.novalidate=!1,this.helperTextLevel=null,this.helperTextPlaceholder="",this.helperTextAriaLive="polite",this.helperTextMessage="",this.hasLabel=!1,this.hasTrailingButton=!1,this.statefulInput=!1,this.reportedDirty=!1,this.hasValidationHelpers=!1,this.suppressInternalClicks=!1,this.validationMsg="",this.allowMaxLengthOverflow=!1,this.setFormValidationHelpers=e=>{e&&(e.addEventListener("faceplate-submit",this.setDirtyAttribute),this.helperText?.associateForm(e),this.hasValidationHelpers=!0)},this.setStatefulInputByValue=()=>{this.statefulInput=!this.isEmpty},this.inputContainer=t=>e.x` <span class="${a.x({"input-container":!0})}"> ${t} </span> `,this.labelTextWrapper=()=>{const t=e=>e&&e[0]?.textContent;return e.x` <span class="label-text inner-label" id="fp-input-label"><slot name="label" @slotchange="${e=>this.onSlotChange({event:e,property:"hasLabel",name:"label",hasChanged:t})}"></slot>${this.required?e.x`<span class="required-asterisk" aria-hidden="true">*</span>`:null}</span> `},this.setDirtyAttribute=()=>{this.setAttribute("faceplate-dirty","")},this.onSlotChange=({event:e,property:t,name:a,hasChanged:i})=>{e.target?.name===a&&(this[t]=i?i(e.target?.assignedElements()):e.target?.assignedNodes().length>0)}}async connectedCallback(){super.connectedCallback(),this.addEventListener("focus",this.onFocus.bind(this)),this.addEventListener("blur",this.onBlur.bind(this));const e=await t.c(this);this.setFormValidationHelpers(e)}disconnectedCallback(){super.disconnectedCallback(),this?.removeEventListener("focus",this.onFocus),this?.removeEventListener("blur",this.onBlur),this.form?.removeEventListener("faceplate-submit",this.setDirtyAttribute)}async firstUpdated(){super.firstUpdated(),this.calculateLabelPosition(),this.validateMaxLength()}updated(e){if(e.get("prefix")&&this.calculateLabelPosition(),void 0!==e.get("statefulInput")){const e=this.shadowRoot?.querySelector(".input-container")?.classList;this.statefulInput?e.add("stateful-input"):e.remove("stateful-input")}e.has("value")&&(super.value=this.value,this.setStatefulInputByValue())}get delegatedFocusElements(){return[this.innerInput]}static get styles(){return[super.styles,e.i`label{display:flex;position:relative}:host{outline:0;font-family:var(--font-sans);cursor:text}:host input,:host textarea{font:inherit;color:var(--color-neutral-content-strong);padding:0}.label-container{display:inline-flex;position:relative;height:var(--rem40);align-items:center;box-sizing:border-box}:host([appearance=bordered]) .label-container{background:var(--color-input-bordered);color:var(--color-input-bordered-text)}:host([appearance=secondary]) .label-container{background:var(--color-input-secondary);border-radius:var(--radius-md);outline:0;color:var(--color-input-secondary-text)}:host([appearance=secondary]) .label-container:hover{background:var(--color-input-secondary-hover)}:host([appearance=bordered]) .label-container:hover{background:var(--color-input-bordered-hover)}:host(:focus-within) .label-container{outline:1px auto var(--color-global-focus)}:host([faceplate-validity=invalid][faceplate-dirty]) .label-container{border-color:transparent;box-shadow:0 0 0 var(--rem2) var(--color-danger-content)}:host([faceplate-validity=valid][novalidate]) .label-container{border-color:transparent;box-shadow:none}:host .label-container,:host faceplate-form-helper-text{padding-inline-start:var(--spacer-md)}:host .label-container,:host faceplate-form-helper-text:not(.helper-text-without-label-with-trailing){padding-inline-end:var(--spacer-md)}:host([appearance=secondary]) .label-container{align-items:center}:host .label-container.with-trailing-button{padding-inline-end:var(--spacer-xs)}.label-container.interior-label{height:var(--rem56)}.input-container{font:var(--font-16-20-regular)}::slotted([slot=leadingIcon]),::slotted([slot=trailingIconButton]){color:var(--color-neutral-content-weak);display:inline-flex;align-items:center}:host([faceplate-validity=valid][faceplate-dirty]) .trailing-icon.valid{color:var(--color-success-background)}.required-asterisk,:host([faceplate-validity=invalid][faceplate-dirty]) .trailing-icon.invalid{color:var(--color-danger-content)}:host([faceplate-validity=valid][novalidate]) .trailing-icon.valid{display:none}.trailing-icon,::slotted([slot=trailingIcon]){margin-inline-start:var(--spacer-xs);flex-shrink:0}:host([disabled]){color:var(--color-neutral-content-disabled)}:host([faceplate-validity=invalid][faceplate-dirty]) .invalid,:host([faceplate-validity=valid][faceplate-dirty]) .valid{display:inline-block}.trailing-icon{display:none}:host .label-container.without-label faceplate-form-helper-text,:host([appearance=secondary]) .label-container.without-label{padding-top:var(--rem10);padding-bottom:var(--rem10)}:host([faceplate-validity=invalid]:not([disabled])[faceplate-dirty]) .label-text:not(.inner-label),:host([faceplate-validity=valid]:not([disabled])[faceplate-dirty]) .label-text:not(.inner-label){color:var(--color-label-default)}.label-text{position:absolute;pointer-events:none}:host([disabled]) .label-text:not(.inner-label){color:var(--color-neutral-content-disabled)}.stateful-input .label-text:not(.inner-label){clip:rect(0 0 0 0);clip-path:inset(50%);height:1px;overflow:hidden;position:absolute;white-space:nowrap;width:1px}.stateful-input .label-text.inner-label{transform:translate(calc(-1 * var(--left-label-position)),calc(-1 * (var(--rem16))));font-size:var(--size-sm);line-height:var(--rem16);white-space:nowrap}.label-container:not(.without-label) .input-container:not(.stateful-input) input::placeholder,.label-container:not(.without-label) .input-container:not(.stateful-input) textarea::placeholder{opacity:0}.label-container:not(.without-label) .input-container.stateful-input{transform:translateY(var(--spacer-xs))}.activated,.activated .label-text.inner-label{transition:all 150ms ease-out}.inner-label{inset-inline-start:var(--left-label-position)}.input-container:not(.stateful-input) .inner-label{transform:translateY(0);transition:transform 150ms ease}.hidden{display:none}.label-text:not(.inner-label){color:var(--color-label-default)}slot[name=clearButton]:not(.has-value){display:none}.input-boundary-box{display:flex;align-items:center}.input-boundary-box,.label-container{flex:1}.label-container:not(.without-label) .input-boundary-box{padding:var(--spacer-xs) 0}#trailing-icons-container{display:flex;align-items:center;gap:var(--spacer-xs);justify-content:flex-end}:host([persistent-trailing-icon]) #trailing-icons-general{flex-direction:row-reverse}.input-prefix,.input-suffix,.label-text{color:var(--color-label-default)}:host .without-label.with-trailing-button{padding-inline-end:var(--spacer-2xs)}.input-container{position:relative;transform:translateY(0);display:flex;align-items:center;width:100%;line-height:var(--rem20)}:host([faceplate-validity=invalid]:not([persistent-trailing-icon])[faceplate-dirty]) ::slotted([slot=trailingIconButton]){display:none}#trailing-icons-general{display:flex;align-items:center}#trailing-icons-validation{display:flex}:host(:not([faceplate-dirty])) #trailing-icons-validation{display:none}`]}get isEmpty(){return!(!this.innerInput?.value&&this.innerInput?.validity.badInput)&&!(this.innerInput?.value??this.value)}onFocus(){this.hasAttribute("faceplate-dirty")&&!this.reportedDirty&&(this.reportedDirty=!0),this.removeAttribute("faceplate-dirty"),this.shadowRoot?.querySelector(".input-container")?.classList.add("activated"),this.isEmpty&&(this.statefulInput=!0)}onBlur(){this.isEmpty&&(this.statefulInput=!1),this.reportedDirty&&this.setAttribute("faceplate-dirty","")}focus(){this.innerInput?.focus()}blur(){this.innerInput?.blur()}onChange(e){const t=e?.target;this.value=t?.value||"",this.dispatchEvent(new InputEvent("change",{bubbles:!0}))}onInput(e){const t=e?.target;this.value=t?.value||"",this.handleCharLimit?.(),this.validateMaxLength(),this.setStatefulInputByValue()}validateMaxLength(){if(this.allowMaxLengthOverflow&&this.maxLength){const e=this._internals.validationMessage===this.validationMsg,t=this.value.length>this.maxLength;!e&&t?this.setCustomValidity(this.validationMsg):e&&!t&&this.setCustomValidity("")}}handleCharLimit(){const e=this.maxLength&&this.value.length>=this.maxLength;this.helperText&&this.helperTextScreenReaderMsg&&(e?this.helperText.visuallyHiddenText=this.helperTextScreenReaderMsg:!e&&this.helperText.visuallyHiddenText&&(this.helperText.visuallyHiddenText=""))}async calculateLabelPosition(e=0){let t=0,a=0;const i=this.shadowRoot?.querySelector(".input-prefix");if(i){!getComputedStyle(this.shadowRoot?.host).getPropertyValue("--font-16-20-regular").trim().length&&e<5&&setTimeout((()=>{this.calculateLabelPosition(e+1)}),50),a=i.getBoundingClientRect().width;const n=getComputedStyle(this.shadowRoot?.querySelector(".input-prefix")).getPropertyValue("margin-inline-end");t+=a+parseFloat(n)}(this.shadowRoot?.querySelector("label")).style.setProperty("--left-label-position",`${t}px`)}onLabelClick(e){this.suppressInternalClicks&&"input"!==e.target.nodeName.toLowerCase()&&e.stopPropagation()}renderInput(t){let i;return this.characterCount&&(i=this.maxLength?this.maxLength-this.value.length:this.value.length),e.x`<label @click="${this.onLabelClick}"> <div class="${a.x({"label-container":!0,"interior-label":!0,"without-label":!this.hasLabel,"with-trailing-button":this.hasTrailingButton})}"> <span class="input-boundary-box"> <slot name="leadingIcon"></slot> ${this.inputContainer(e.x` ${this.prefix?e.x`<span class="input-prefix">${this.prefix}</span>`:void 0} ${this.labelTextWrapper()} ${t} ${this.suffix?e.x`<span class="input-suffix">${this.suffix}</span>`:void 0} `)} <span id="trailing-icons-container"> <span id="trailing-icons-validation"> ${e.c2({attributes:{className:"trailing-icon invalid"},size:e.q.Medium})} ${e.R({attributes:{className:"trailing-icon valid"},size:e.q.Medium})} </span> <span id="trailing-icons-general"> <slot name="trailingIconButton" @slotchange="${e=>this.onSlotChange({event:e,property:"hasTrailingButton",name:"trailingIconButton"})}"> </slot> <slot name="clearButton" class="${a.x({"has-value":!!this.value.length})}"></slot> </span> </span> </span> </div> </label> <faceplate-form-helper-text class="${a.x({"no-label":!this.hasLabel,"helper-text-without-label-with-trailing":!this.hasLabel&&this.hasTrailingButton})}" character-count="${e.l(i)}" name="${this.name}" aria-live="${e.l(this.helperTextAriaLive??void 0)}" message="${e.l(this.helperTextMessage)}" level="${e.l(this.helperTextLevel??void 0)}" placeholder="${this.helperTextPlaceholder}" character-count-aria-label="${e.l(this.characterCountAriaLabel)}"> </faceplate-form-helper-text>`}}l.clearButton=(t={})=>a.J({attributes:{...t,type:"button"},appearance:"plain",size:a.a2.Small,leadingIcon:e.b7({attributes:{className:"trailing-icon"},size:e.q.Medium})}),e._([e.n({type:String})],l.prototype,"suffix",void 0),e._([e.n({type:String})],l.prototype,"value",void 0),e._([e.n({type:String})],l.prototype,"name",void 0),e._([e.n({type:String})],l.prototype,"placeholder",void 0),e._([e.n({type:Boolean})],l.prototype,"required",void 0),e._([e.n({type:String})],l.prototype,"screenReaderContent",void 0),e._([e.n({type:String})],l.prototype,"autocomplete",void 0),e._([e.n({type:String})],l.prototype,"inputmode",void 0),e._([e.n({type:Boolean})],l.prototype,"novalidate",void 0),e._([e.n({type:Number,attribute:"maxlength"})],l.prototype,"maxLength",void 0),e._([e.n({type:Number,attribute:"minlength"})],l.prototype,"minLength",void 0),e._([e.D("input,textarea")],l.prototype,"innerInput",void 0),e._([e.D("faceplate-form-helper-text")],l.prototype,"helperText",void 0),e._([e.n({type:String,reflect:!0,attribute:"helper-text-level"})],l.prototype,"helperTextLevel",void 0),e._([e.n({type:String,attribute:"helper-text-placeholder"})],l.prototype,"helperTextPlaceholder",void 0),e._([e.n({type:String,reflect:!0,attribute:"helper-text-aria-live"})],l.prototype,"helperTextAriaLive",void 0),e._([e.n({type:String,attribute:"helper-text-message"})],l.prototype,"helperTextMessage",void 0),e._([e.n({type:Boolean,attribute:"character-count"})],l.prototype,"characterCount",void 0),e._([e.n({type:String,attribute:"helper-text-screen-reader-msg"})],l.prototype,"helperTextScreenReaderMsg",void 0),e._([e.n({type:String,attribute:"character-count-aria-label"})],l.prototype,"characterCountAriaLabel",void 0),e._([e.b()],l.prototype,"hasLabel",void 0),e._([e.b()],l.prototype,"hasTrailingButton",void 0),e._([e.k({slot:"label"})],l.prototype,"labelSlot",void 0),e._([e.k({slot:"trailingIconButton"})],l.prototype,"trailingIconButtonSlot",void 0),e._([e.b()],l.prototype,"statefulInput",void 0),e._([e.n({type:Boolean,attribute:"suppress-internal-clicks"})],l.prototype,"suppressInternalClicks",void 0),e._([e.n({type:Boolean})],l.prototype,"readonly",void 0),e._([e.n({type:String,attribute:"validation-message"})],l.prototype,"validationMsg",void 0),e._([e.n({type:Boolean,attribute:"allow-max-length-overflow"})],l.prototype,"allowMaxLengthOverflow",void 0);let d=n.cA({videoMinDimensionError:(e,t)=>`Videos must be at least ${e}x${t}`,videoMinRateError:e=>`Videos must have a bitrate of at least ${Math.floor(e)}KB/s`,videoCodecError:()=>"Unsupported video codec",videoIsTooShortError:e=>a.bu({one:`Videos must be at least ${e} second`,other:`Videos must be at least ${e} seconds`,count:e}),videoIsTooLongError:e=>a.bu({one:`Videos must be shorter than ${e} minute`,other:`Videos must be shorter than ${e} minutes`,count:e}),videoMaxSizeError:e=>`Videos must be ${e}GB or smaller`,videoMimetypeError:()=>"Upload an MP4 or MOV",imageMaxSizeError:e=>`Upload an image less than ${e}MB`,imageMaxSizeErrorKB:e=>`Upload an image less than ${e}KB`,gifMaxSizeError:e=>`Upload a GIF less than ${e}MB`,gifMaxSizeErrorKB:e=>`Upload a GIF less than${e}KB`,imageMaxDimensionError:(e,t)=>`Upload an image smaller than ${e}x${t}`,imageMinDimensionError:(e,t)=>`Upload an image at least ${e}x${t}`,imageOnlyGifsError:()=>"Upload a GIF",imageOnlyStaticImagesError:()=>"Upload a PNG, JPG, WEBP",imageStaticOrGifError:()=>"Upload a PNG, JPG, WEBP, or GIF",or:()=>"or ",imageTypeJoin:e=>`${u(e).reduce(((e,t,a,i)=>`${e}${$(a,i)}${c(a,i)}${t}`),"")}`,imageInvalidTypeErrorGeneric:()=>"Upload an image",imageInvalidTypeErrorSpecified:e=>`Upload a ${e}`});const u=e=>e.reduce(((e,t)=>{const a=n._.get(t)||t;return e.includes(a)?e:[...e,a]}),[]),$=(e,t)=>e>0?t.length>2?", ":" ":"",c=(e,t)=>t.length>1&&e===t.length-1?d.or():"",h=["image/jpeg","image/png","image/webp"],m=["image/gif"],p=[...h,...m],b=1024,v=1048576,I=20971520,g=104857600,N=e=>e.split(",").map((e=>e.trim())),P=e=>{const t="accept"in e?e.accept:void 0,{allowStaticImages:a=!1,allowAnimatedImages:i=!1}="allowStaticImages"in e?e:{};return{accept:t,allowStaticImages:a,allowAnimatedImages:i}};function f(e){const{accept:t,allowStaticImages:a,allowAnimatedImages:i}=P(e);if(t&&t?.includes("image/*"))return d.imageInvalidTypeErrorGeneric();if(t){const e=N(t);return d.imageInvalidTypeErrorSpecified(d.imageTypeJoin(e))}return i&&!a?d.imageOnlyGifsError():a&&!i?d.imageOnlyStaticImagesError():d.imageStaticOrGifError(t)}function k(e){const t=[],{accept:a,allowStaticImages:i,allowAnimatedImages:n}=P(e);return a?N(a):(i&&t.push(...h),n&&t.push(...m),t)}return{S:p,T:l,a:k,g:async function(e){const t=URL.createObjectURL(e),{width:a,height:i}=await function(e){return new Promise(((t,a)=>{const i=new Image;i.onload=()=>{t({width:i.width,height:i.height})},i.onerror=e=>{a(e)},i.src=e}))}(t);return{src:t,type:e.type,size:e.size,width:a,height:i}},l:r,get u(){return d},v:function(e,t){const{width:a,height:i,type:n,size:r}=e,{minImageDimension:o,maxImageDimension:s,maxImageFileSize:l=I,maxGifFileSize:u=g}=t,{accept:$,allowStaticImages:c,allowAnimatedImages:h}=P(t),m=k(t);if(!(m.includes(n)||m.includes("image/*")&&n.startsWith("image/")))return{valid:!1,error:f($?{accept:$}:{allowStaticImages:c,allowAnimatedImages:h}),reason:"INVALID_IMAGE_TYPE_ERROR"};if(o&&(a<o||i<o))return{valid:!1,error:d.imageMinDimensionError(o,o),reason:"IMAGE_MIN_DIMENSION_ERROR"};if(s&&(a>s||i>s))return{valid:!1,error:d.imageMaxDimensionError(s,s),reason:"IMAGE_MAX_DIMENSION_ERROR"};if("image/gif"===n&&r>u){return{valid:!1,error:Math.floor(u/v)<1?d.gifMaxSizeErrorKB(Math.floor(u/b)):d.gifMaxSizeError(Math.floor(u/v)),reason:"IMAGE_SIZE_LIMIT_EXCEEDED_ERROR"}}if(n.startsWith("image/")&&"image/gif"!==n&&r>l){return{valid:!1,error:Math.floor(l/v)<1?d.imageMaxSizeErrorKB(Math.floor(l/b)):d.imageMaxSizeError(Math.floor(l/v)),reason:"IMAGE_SIZE_LIMIT_EXCEEDED_ERROR"}}return{valid:!0,error:null}}}}));
SML.dm("DOyzSNfA",["DSWSCRFk","BjRhnMPP","DAgRafdt"],(async(e,i,a)=>{var n;!function(e){e.BORDERED="bordered",e.SECONDARY="secondary"}(n||(n={}));let t=class extends i.T{constructor(){super(...arguments),this.prefix="",this.type="text",this.appearance=n.SECONDARY,this.persistentTrailingIcon=!1,this.withSelect=!1}static get styles(){return[super.styles,e.i`input{outline:0;background:0 0;border:none;width:100%}:host([appearance=bordered]) .label-container:not(.without-label) .input-container.stateful-input{transform:translateY(0)}::slotted([slot=leadingIcon]){margin-inline-end:var(--spacer-xs);display:flex}.input-prefix{margin-inline-end:var(--spacer-4xs)}.input-suffix{margin-inline-start:var(--spacer-4xs)}.input-prefix,.input-suffix{flex-shrink:0}:host([appearance=bordered]) .label-container{border-radius:20px 20px 0 0;align-items:flex-end;padding-bottom:var(--spacer-2xs)}:host([appearance=bordered]) .input-boundary-box{margin-bottom:var(--rem6);align-items:center;padding:0}:host .label-container.without-label{height:var(--rem40)}:host(:focus-within) .label-container:not(.with-trailing-button) ::slotted([slot=clearButton].has-value),:host([faceplate-validity=invalid]:not([disabled])[faceplate-dirty]) ::slotted([slot=clearButton].has-value){display:inline-block}`]}dispatchFocusin(){}render(){return super.renderInput(e.x`<input aria-labelledby="fp-input-label" ?readonly="${this.readonly}" type="${this.type}" pattern="${e.l(this.pattern)}" @input="${this.onInput}" @change="${this.onChange}" @mouseover="${e=>e.stopPropagation()}" .value="${i.l(this.value)}" name="${e.l(this.withSelect?void 0:this.name)}" minlength="${e.l(this.minLength)}" maxlength="${e.l(this.allowMaxLengthOverflow?void 0:this.maxLength)}" min="${e.l(this.min)}" max="${e.l(this.max)}" placeholder="${e.l(0===this.placeholder.length?void 0:this.placeholder)}" ?disabled="${this.disabled}" ?required="${this.required}" autocomplete="${e.l(this.autocomplete)}" inputmode="${e.l(this.inputmode)}" step="${e.l(this.step)}">`)}};e._([e.n({type:String})],t.prototype,"prefix",void 0),e._([e.n({type:String})],t.prototype,"type",void 0),e._([e.n({type:String})],t.prototype,"pattern",void 0),e._([e.n({converter:e=>"string"==typeof e&&"any"===e.toLowerCase()?"any":isNaN(e)?void 0:Number(e)})],t.prototype,"step",void 0),e._([e.n({type:Number})],t.prototype,"min",void 0),e._([e.n({type:Number})],t.prototype,"max",void 0),e._([e.n({type:String,reflect:!0})],t.prototype,"appearance",void 0),e._([e.n({type:Boolean,attribute:"persistent-trailing-icon"})],t.prototype,"persistentTrailingIcon",void 0),e._([e.n({type:Boolean,attribute:"with-select"})],t.prototype,"withSelect",void 0),t=e._([e.c("faceplate-text-input")],t);let o=a.r;return {get F(){return t},I:/[^\p{L}\d '&\-/$]/u,M:10,get T(){return n},f:async function(e){return (async e=>{const{data:i,errors:n}=await o({operation:a.O.UpdateFollowedKeywords,variables:{input:{keywords:e.map((e=>({keyword:e,followState:a.a3.Followed})))}}});if(n?.length||!i?.updateFollowedKeywords?.ok){const e=i?.updateFollowedKeywords?.errors;if(e&&e.length>0){const i=e.filter((e=>"InvalidArgument"===e.code)),a=e.filter((e=>"InvalidArgument"!==e.code)),n=[];if(i.length>0){const e=[];i.forEach((i=>{const a=i.message.match(/invalid arguments: ([^\\"]+)/i);a&&a[1]&&a[1].split(",").forEach((i=>{const a=i.trim();a&&e.push(a)}))})),e.length>0&&n.push(`Keyword alerts are not available for "${e.join('", "')}"`)}if(a.length>0){const e=a.map((e=>{const i=e.message.match(/keyword "(.+?)"/);return i?i[1]:null})).filter(Boolean);let i=a.map((e=>e.message)).join("; ");e.length>0&&(i=`Could not follow the following keywords: ${e.join(", ")}.`),n.push(i)}if(n.length>0)throw new Error(n.join("\n"))}throw new Error("Unable to follow keywords")}})(e);},u:async function(e){return (async e=>{const{data:i,errors:n}=await o({operation:a.O.UpdateFollowedKeywords,variables:{input:{keywords:[{keywordId:e,followState:a.g9.Unfollowed}]}}}),t="Unable to remove keyword";if(n?.length||!i?.updateFollowedKeywords?.ok)throw new Error(t)})(e);}};}));
SML.dm("zYHiKPTa",["DSWSCRFk","B_Z23SiP","DAgRafdt","alLlRaWG","B8bCssFV","DOyzSNfA","DxvZ7Xss"],(async(e,t,i,a,l,s)=>{let r=class extends l.F{constructor(){super(...arguments),this.appearance=s.T.SECONDARY,this.label="",this.clearable=!1,this.multiple=!1,this.required=!1,this.helperTextLevel=null,this.helperTextPlaceholder="",this.helperTextAriaLive="polite",this.helperTextMessage="",this.readonly=!1,this.inputRef=i.C(),this._selectController=new a.S(this),this.focus=()=>{this.inputRef.value?.focus()},this.syncInputValidation=(e=!1)=>{const t=this.options.map((e=>e.value)),i=this.inputRef?.value?.value,a=this.value||this.arbitrary&&i||!this.arbitrary&&t.includes(i);if(this.required&&!a){const t=this.inputRef?.value?._internals.validationMessage;this.dropdownMenu?.hidden&&t&&(e?this.form?.invalidateFieldWithMessage(this.name,t):this.setCustomValidity(t))}else this.form?.invalidateFieldWithMessage(this.name,"")},this.resetFaceplateDirty=()=>{this.removeAttribute("faceplate-dirty")},this.matchOptionsToInput=e=>{if(this.autocomplete&&!this.multiple){const t=e.currentTarget?.value;this.options.forEach((e=>{const i=e.displayText?.toLowerCase().trim();if(this.onFilterOption?this.onFilterOption?.(t,e):i?.startsWith(t.toLowerCase())){if(!t)return e.removeAttribute("hidden"),void(e.matchedText="");e.hasAttribute("hidden")&&e.removeAttribute("hidden"),e.matchedText=e.displayText?.slice(0,t.length)}else e.setAttribute("hidden","")})),this._selectController.focusedIndex=0}},this.clear=e=>{e.preventDefault(),e.stopPropagation(),this._selectController.selectedOptions.forEach((e=>{e.resetSelection()})),this.inputRef.value&&(this.inputRef.value.value="")},this.handleKeyBindings=e=>{this.readonly||this.multiple?e.preventDefault():"Backspace"!==e.key||this.multiple||(this._selectController.value="")},this.getTextField=()=>e.x`<faceplate-text-input ?disabled="${this.disabled}" novalidate ${i.H(this.inputRef)} appearance="${this.appearance}" role="combobox" aria-controls="menu" aria-expanded="${!this.hidden}" id="trigger" faceplate-popper-trigger aria-label="${this.label}" value="${this._selectController.getSelectedOptionsAsStr()}" ?required="${this.required}" @input="${this.matchOptionsToInput}" suppress-internal-clicks persistent-trailing-icon with-select helper-text-aria-live="${e.l(this.helperTextAriaLive??void 0)}" helper-text-message="${e.l(this.helperTextMessage)}" helper-text-level="${e.l(this.helperTextLevel??void 0)}" helper-text-placeholder="${e.l(this.helperTextPlaceholder)}" helper-text-screen-reader-msg="${e.l(this.helperTextScreenReaderMsg)}" aria-autocomplete="list" name="${this.name}"> <span slot="label">${this.label}</span> <slot name="clearButton" slot="clearButton" @click="${this.clear}"></slot> <span slot="trailingIconButton">${e.O({attributes:{"aria-hidden":"true"}})}</span> </faceplate-text-input>`}get referenceElement(){return this.inputRef.value}get selectedOptions(){return this._selectController.selectedOptions}get selectedIndex(){return this._selectController.selectedIndex}get value(){return this._selectController.value}set value(e){e!==this.value&&(this._selectController.value=e)}connectedCallback(){super.connectedCallback(),this.addEventListener("focus",this.resetFaceplateDirty),this.addEventListener("keydown",this.handleKeyBindings)}disconnectedCallback(){super.disconnectedCallback(),this.removeEventListener("focus",this.resetFaceplateDirty),this.removeEventListener("keydown",this.handleKeyBindings)}async firstUpdated(){super.firstUpdated(),this.setupValidationSync()}async setupValidationSync(){const e=await t.c(this);e&&this.isConnected&&(this.inputRef.value?.hasValidationHelpers||this.inputRef.value?.setFormValidationHelpers(e),this.syncInputValidation(),this.addEventListener(e.validationTrigger,(()=>this.syncInputValidation(!0))),e.addEventListener("faceplate-submit",(()=>this.syncInputValidation(!0))))}static get styles(){return e.i`:host{display:inline-block}:host([disabled]){cursor:not-allowed}faceplate-text-input{flex:1}:host([readonly]){caret-color:transparent}faceplate-menu{height:var(--faceplate-select-menu-height,auto);width:var(--faceplate-select-menu-width,auto);max-height:var(--faceplate-select-menu-max-height,auto);max-width:var(--faceplate-select-menu-max-width,auto);overflow:auto}`}render(){return e.x` <faceplate-dropdown-menu ?disabled="${this.disabled}" position="bottom-start" manual-trigger-focus> ${this.getTextField()} <faceplate-menu part="menu" slot="menu" id="menu" ariarole="listbox" faceplate-popper-content disable-auto-focus> <slot></slot> </faceplate-menu> </faceplate-dropdown-menu> `}};e._([e.n({type:String})],r.prototype,"appearance",void 0),e._([e.n({type:String})],r.prototype,"label",void 0),e._([e.n({type:Boolean})],r.prototype,"clearable",void 0),e._([e.n({type:Boolean})],r.prototype,"multiple",void 0),e._([e.n({type:Boolean})],r.prototype,"required",void 0),e._([e.n({type:String})],r.prototype,"autocomplete",void 0),e._([e.n({type:Boolean})],r.prototype,"arbitrary",void 0),e._([e.n({type:String,reflect:!0,attribute:"helper-text-level"})],r.prototype,"helperTextLevel",void 0),e._([e.n({type:String,attribute:"helper-text-placeholder"})],r.prototype,"helperTextPlaceholder",void 0),e._([e.n({type:String,reflect:!0,attribute:"helper-text-aria-live"})],r.prototype,"helperTextAriaLive",void 0),e._([e.n({type:String,attribute:"helper-text-message"})],r.prototype,"helperTextMessage",void 0),e._([e.n({type:String,attribute:"helper-text-screen-reader-msg"})],r.prototype,"helperTextScreenReaderMsg",void 0),e._([e.n()],r.prototype,"onFilterOption",void 0),e._([e.n({type:Boolean})],r.prototype,"readonly",void 0),e._([e.k()],r.prototype,"options",void 0),e._([e.k({selector:"faceplate-option:not([hidden])"})],r.prototype,"visibleOptions",void 0),e._([e.k()],r.prototype,"triggerSlot",void 0),e._([e.D("faceplate-dropdown-menu")],r.prototype,"dropdownMenu",void 0),r=e._([e.c("faceplate-select-text-input")],r)}));
SML.dm("CSE2B15f",["DSWSCRFk","OAEZpqSu"],(async(e,t)=>{class s extends(function(e){var t;return(t=class extends e{}).VERSION="unreleased",t}(e.s)){}let i=class extends s{constructor(){super(...arguments),this.selected=!1,this.disabled=!1,this.current=!1,this.emitter=t.k(this),this.trustedUpdate=!1,this.handleSelection=e=>{e.stopPropagation(),this.disabled||this.dispatchSelectRequest(!this.selected)},this.onClick=e=>{this.handleSelection(e)},this.dispatchSelectRequest=(e=this.selected,t)=>{this.emitter.dispatch("select",{bubbles:!0,composed:!0,detail:{option:this,selected:e,allowSingleDeselection:t}})},this.resetSelection=()=>{this.matchedText="",this.removeAttribute("hidden"),this.selected=!1,this.dispatchSelectRequest()},this.visualFocus=e=>{this.current=e}}connectedCallback(){super.connectedCallback(),this.addEventListener("click",this.onClick),this.addEventListener(this.emitter.eventId("update"),this.onUpdateFromSelect),this.setAttribute("role","option")}disconnectedCallback(){super.disconnectedCallback(),this.removeEventListener("click",this.onClick),this.removeEventListener(this.emitter.eventId("update"),this.onUpdateFromSelect)}updated(e){e.has("selected")&&this.setAttribute("aria-selected",`${this.selected}`),e.has("disabled")&&this.setAttribute("tabindex",this.disabled?"-1":"0"),this.trustedUpdate&&(this.trustedUpdate=!1)}willUpdate(e){e.has("selected")&&!this.trustedUpdate&&this.dispatchSelectRequest(this.selected,!0)}onUpdateFromSelect(e){const{selected:t}=e.detail??{};t!==this.selected&&(this.selected=t,this.trustedUpdate=!0)}static get styles(){return e.i`:host{color:var(--color-secondary-plain);cursor:pointer;display:flex;align-items:center;gap:var(--spacer-xs);padding:var(--spacer-xs);min-width:var(--select-width, 'auto');box-sizing:border-box;outline-offset:-1px}:host([hidden]){display:none}:host(:hover){background:var(--color-neutral-background-strong-hover)}:host([selected]){background:var(--color-neutral-background-selected)}:host([current]){outline:1px auto var(--color-global-focus)}:host([disabled]){color:var(--color-interactive-content-disabled);pointer-events:none}slot[name=leading]{width:var(--size-xl);height:var(--size-xl);align-items:center}::slotted([slot=leading]){display:inline-flex}slot:not([name]){display:inline-block;width:100%;line-height:var(--rem20)}.matched-text{font-weight:700}`}render(){const t=this.matchedText?.length||0;return e.x`<slot name="leading"></slot> <slot> <span class="matched-text">${this.matchedText}</span><span>${this.displayText?.slice(t)}</span> </slot> <span>${this.selected?e.R():e.A}</span>`}};e._([e.n({type:Boolean})],i.prototype,"selected",void 0),e._([e.n({type:Boolean})],i.prototype,"disabled",void 0),e._([e.n({type:String})],i.prototype,"value",void 0),e._([e.n({type:String,attribute:"matched-text",reflect:!0})],i.prototype,"matchedText",void 0),e._([e.n({type:String,attribute:"display-text"})],i.prototype,"displayText",void 0),e._([e.n({type:Boolean,reflect:!0})],i.prototype,"current",void 0),e._([e.v({flatten:!0})],i.prototype,"defaultSlot",void 0),i=e._([e.c("faceplate-option")],i)}));
SML.dm("BP7JtdRP",["DSWSCRFk","DAgRafdt","Vy1IDB19","BVLgyhDE","OAEZpqSu"],(async(r,o,t,e)=>{class a extends t.T{constructor(){super(...arguments),this.variant="plain",this.placement=e.P.Bottom,this.disabled=!1,this.label="",this.distance=8,this.animationNames={show:"coachmark.show",hide:"coachmark.hide",denyClose:"coachmark.denyClose",overlayShow:"coachmark.overlay.show",overlayHide:"coachmark.overlay.hide"}}connectedCallback(){super.connectedCallback(),this.addEventListener("rpl-coachmark-card:close-button-clicked",this.hide)}disconnectedCallback(){super.disconnectedCallback(),this.removeEventListener("rpl-coachmark-card:close-button-clicked",this.hide)}render(){return r.x` <rpl-popper ?active="${this.open}" strategy="${this.hoist?"fixed":"absolute"}" .anchor="${this.anchor}" flip shift arrow safe-area distance="${this.distance}" skidding="${this.skidding}" placement="${r.l(this.placement)}" exportparts="
          popup:popper--popup,
          arrow:popper--arrow
        " class="${o.x({coachmark:!0,"coachmark--open":this.open})}" ${o.H(this.popperRef)}> <slot slot="anchor" ${o.H(this.defaultSlotRef)}></slot> <slot name="content" ${o.H(this.bodyRef)} ${o.H(this.contentSlotRef)}></slot> </rpl-popper> `}}r._([r.n({type:String,reflect:!0})],a.prototype,"variant",void 0),r._([r.n({type:String,reflect:!0})],a.prototype,"placement",void 0),r._([r.n({type:Boolean,reflect:!0})],a.prototype,"disabled",void 0),r._([r.n({type:String,reflect:!0})],a.prototype,"label",void 0),r._([r.n()],a.prototype,"anchor",void 0);var p=r.i`${o.X}:host{--transition-duration:250ms;display:contents}:host,:host([appearance=neutral]){--rpl-coachmark-background-color:var(--color-neutral-background);--rpl-coachmark-color:var(--color-neutral-content-strong)}:host([appearance=inverted]){--rpl-coachmark-background-color:var(--color-inverted-neutral-background);--rpl-coachmark-color:var(--color-inverted-neutral-content-strong)}.coachmark{--arrow-size:var(--rpl-coachmark-arrow-size, 4px);--arrow-color:var(--rpl-coachmark-background-color)}rpl-popper{--arrow-size:8px}rpl-popper[placement^=top]::part(arrow){box-shadow:1px 1px 2px rgba(0,0,0,.05)}rpl-popper[placement^=bottom]::part(arrow){box-shadow:-1px -1px 2px rgba(0,0,0,.05)}rpl-popper[placement^=left]::part(arrow){box-shadow:0 -2px 2px rgba(0,0,0,.05)}rpl-popper[placement^=right]::part(arrow){box-shadow:-2px 0 2px rgba(0,0,0,.05)}rpl-popper::part(popup){z-index:var(--rpl-z-index-tooltip,var(--faceplate-tooltip-z-index,1))}rpl-popper[placement^=top]::part(popup){transform-origin:bottom}rpl-popper[placement^=bottom]::part(popup){transform-origin:top}rpl-popper[placement^=left]::part(popup){transform-origin:right}rpl-popper[placement^=right]::part(popup){transform-origin:left}`;let c=class extends a{};return c.styles=p,c=r._([r.c("rpl-coachmark")],c),{get RPLCoachmark(){return c}}}));
SML.dm("Dj1DJbmt",["DSWSCRFk","OAEZpqSu","DAgRafdt"],(async(t,e,o)=>{const a="title-icon",s="close-button",l="primary-button",n="secondary-button",r="tertiary-button";class i extends o.Y{constructor(){super(...arguments),this.appearance="neutral",this.autoClose=!1,this.emitCloseButtonClickEvent=()=>{this.emitter.dispatch("close-button-clicked",{bubbles:!0,composed:!0})},this.handleCloseButtonClick=t=>{t.stopPropagation(),this.autoClose&&this.emitCloseButtonClickEvent()},this.handleCloseButtonKeydown=t=>{this.autoClose&&"Enter"===t.key&&this.emitCloseButtonClickEvent()}}render(){const o=e.p(this,a),i=e.p(this,s),d=e.p(this,l),c=e.p(this,n),p=e.p(this,r),m=d||c||p;return t.x`<div> <slot name="${"title-graphic"}"></slot> <div class="main"> <div class="content"> <div class="title-row"> <slot name="${a}" class="${o?"has-slotted":""}"></slot> <slot name="${"title"}"></slot> <slot name="${s}" part="close-button" class="${i?"has-slotted":""}" @click="${this.handleCloseButtonClick}" @keydown="${this.handleCloseButtonKeydown}"></slot> </div> <div class="body"><slot></slot></div> </div> <div class="footer ${m?"has-slotted":""}"> <slot name="${r}" class="${p?"has-slotted":""}"></slot> <div class="footer-right"> <slot name="${n}"></slot> <slot name="${l}"></slot> </div> </div> </div> </div>`}}t._([t.n({type:String,reflect:!0})],i.prototype,"appearance",void 0),t._([t.n({type:Boolean,reflect:!0,attribute:"auto-close"})],i.prototype,"autoClose",void 0);var d=t.i`${o.X}:host{display:flex;flex-direction:column;border-radius:var(--rem16);overflow:hidden;box-shadow:var(--boxshadow-modal);gap:var(--rem8);background-color:var(--color-neutral-background);color:var(--color-neutral-content-strong)}:host([appearance=inverted]){background-color:var(--color-inverted-neutral-background);color:var(--color-inverted-neutral-content-strong)}.main{display:flex;flex-direction:column;padding:var(--rem8) var(--rem8) var(--rem8) var(--rem16)}slot[name=title-graphic]{display:flex}.title-row{display:flex}.body{padding-inline-end:var(--rem8)}slot[name=title-icon].has-slotted{display:flex;padding-top:var(--rem8);padding-inline-end:var(--rem12)}slot[name=title]{display:flex;align-items:center;flex-grow:1;flex-shrink:1;min-width:0;overflow:hidden;font-size:var(--rem14);font-weight:700}slot:not([name]){white-space:wrap}slot[name=close-button].has-slotted{display:flex;padding-inline-start:var(--rem4)}slot[name=primary-button]{display:flex;padding-inline-end:var(--rem8)}slot[name=tertiary-button].has-slotted{font-size:var(--rem12);flex-shrink:1;min-width:0;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;padding-inline-end:var(--rem8)}.footer{display:flex;align-items:center;justify-content:end;padding-inline-end:var(--rem8)}.footer.has-slotted{padding-top:var(--rem8)}.footer:has(slot[name=tertiary-button].has-slotted){justify-content:space-between}.footer-right{display:flex}`;let c=class extends i{};return c.styles=d,c=t._([t.c("rpl-coachmark-card")],c),{get RPLCoachmarkCard(){return c}}}));
SML.dm("em8GmEry",["DSWSCRFk"],(async t=>{var e;!function(t){t.Error="error",t.Success="success",t.Incomplete="incomplete"}(e||(e={}));const r=o(16);function s(t,e){return t-e/100*t}function o(t){return 2*Math.PI*t}let a=class extends t.s{constructor(){super(...arguments),this.value=0,this.status=e.Incomplete}static get styles(){return t.i`:host{--loader-size-base:var(--rem40);display:inline-block;position:relative}:host([status=incomplete]){color:var(--color-neutral-content,var(--color-tone-1))}:host([status=success]){color:var(--color-success-content,var(--color-alert-positive))}:host([status=error]){color:var(--color-danger-content,var(--color-alert-negative))}svg{height:var(--loader-size,var(--loader-size-base));width:var(--loader-size,var(--loader-size-base));fill:none;stroke-width:8;display:block}.bg{stroke:var(--color-neutral-content-disabled,var(--color-tone-3))}.track{stroke:currentColor;transition:.35s stroke-dashoffset;transform:rotate(-90deg);transform-origin:50% 50%}.icon{position:absolute;inset-inline-start:50%;top:50%;transform:translate(-50%,-50%)}::slotted([slot=error]),::slotted([slot=success]){display:flex}`}render(){const o=this.status===e.Success;return t.x` <svg viewBox="0 0 40 40" class="loader" xmlns="http://www.w3.org/2000/svg"> <circle class="bg" cx="20" cy="20" r="${16}"></circle> <circle class="track ${this.status}" cx="20" cy="20" r="${16}" stroke-dasharray="${r} ${r}" stroke-dashoffset="${s(r,o?100:this.value)}"></circle> </svg> <div class="icon"> <slot name="${this.status}"></slot> </div> `}};t._([t.n({type:Number})],a.prototype,"value",void 0),t._([t.n({type:String,reflect:!0})],a.prototype,"status",void 0),a=t._([t.c("faceplate-progress")],a);var c=Object.freeze({__proto__:null,get FaceplateProgress(){return a},get ProgressState(){return e},calcCircumference:o,calcStokeDashOffset:s});return{get f(){return c}}}));
SML.dm("mLeBs957",["DSWSCRFk","DAgRafdt","BjRhnMPP"],(async(e,t,r)=>{var i,n;!function(e){e.BORDERED="bordered",e.SECONDARY="secondary",e.PLAIN="plain"}(i||(i={})),function(e){e.COLLAPSED="collapsed",e.EXPANDED="expanded"}(n||(n={}));let a=class extends r.T{constructor(){super(...arguments),this.appearance=i.SECONDARY,this.size=n.COLLAPSED,this._textAreaContainerRef=t.C()}static get styles(){return[super.styles,e.i`:host(){--trailing-icons-container:var(--rem32)}:host([resize]) .label-container{overflow:auto}.label-container:not(.without-label){padding-top:var(--spacer-xs);padding-bottom:var(--spacer-xs)}:host([resize]) textarea{height:100%;width:100%}:host([resize=both]) .label-container{resize:both}:host([resize=horizontal]) .label-container{resize:horizontal}:host([resize=vertical]) .label-container{resize:vertical}textarea{background:0 0;border:none;outline:0;overflow-y:auto;resize:none}:host([size=expanded]:not([rows])) .label-container{height:fit-content;min-height:var(--rem90)}:host(:not([rows])) textarea{min-height:var(--rem20,1.25rem);height:var(--rem20,1.25rem)}:host(:not([cols])) textarea{width:100%}.label-text{top:0}:host([appearance=bordered]) .label-container{border:1px solid var(--color-neutral-border)}:host([appearance=bordered]) .label-container:hover{border-color:var(--color-neutral-border-medium)}:host([appearance=bordered]) .label-container:hover,:host([appearance=plain]) .label-container:hover{background:var(--color-neutral-background-hover);border-radius:none}:host([appearance=plain]) .label-container{border-radius:0}.input-boundary-box,.input-container,:host .label-container,label{height:100%;width:100%;box-sizing:border-box}:host([size=expanded]) .input-container{height:calc(100% - var(--trailing-icon-container,0px))}.input-container{align-items:flex-start}:host .label-container{border-radius:var(--radius-md)}.input-boundary-box{flex-direction:column}:host(:not([size])) .input-boundary-box,:host([size=collapsed]) .input-boundary-box{flex-direction:row;min-height:var(--rem40);padding:var(--spacer-2xs) 0}:host([size=expanded]) #trailing-icons-container{width:100%;justify-content:flex-end}#trailing-icons-container{height:(--trailing-icons-container)}.text-area-wrapper{height:inherit;width:100%;min-height:var(--textarea-minheight,var(--rem20));display:flex}`]}updated(e){e.has("value")&&this.handleDynamicResize(),super.updated(e)}async handleDynamicResize(){if(!this.rows&&!this.cols){const{width:e}=this.innerTextArea.getBoundingClientRect();this.innerTextArea.style.overflow="hidden",this.innerTextArea.style.height="0",this.innerTextArea.style.width=`${e}px`;const t=`${this.innerTextArea?.scrollHeight}px`;this.innerTextArea.style.height=t,this.innerTextArea.style.removeProperty("overflow"),this.innerTextArea.style.removeProperty("width"),this._textAreaContainerRef?.value&&this._textAreaContainerRef.value.style.setProperty("--textarea-minheight",t)}}onInput(e){this.handleDynamicResize(),super.onInput(e)}render(){return super.renderInput(e.x` <div class="text-area-wrapper" ${t.H(this._textAreaContainerRef)}> <textarea aria-labelledby="fp-input-label" style="${e.l(this.fontFamily?`font-family: ${this.fontFamily}`:void 0)}" class="${t.x({"no-label":!this.hasLabel})}" ?readonly="${this.readonly}" id="innerTextArea" rows="${e.l(this.rows)}" cols="${e.l(this.cols)}" @input="${this.onInput}" @change="${this.onChange}" .value="${r.l(this.value)}" name="${e.l(this.name)}" minlength="${e.l(this.minLength)}" maxlength="${e.l(this.allowMaxLengthOverflow?void 0:this.maxLength)}" placeholder="${e.l(0===this.placeholder.length?void 0:this.placeholder)}" ?disabled="${this.disabled}" ?required="${this.required}" autocomplete="${e.l(this.autocomplete)}" inputmode="${e.l(this.inputmode)}"></textarea> </div>`)}};return e._([e.n({type:Number})],a.prototype,"rows",void 0),e._([e.n({type:Number})],a.prototype,"cols",void 0),e._([e.n({type:String})],a.prototype,"resize",void 0),e._([e.D("#innerTextArea")],a.prototype,"innerTextArea",void 0),e._([e.n({type:String,reflect:!0})],a.prototype,"appearance",void 0),e._([e.n({type:String})],a.prototype,"size",void 0),e._([e.n({type:String,attribute:"font-family"})],a.prototype,"fontFamily",void 0),a=e._([e.c("faceplate-textarea-input")],a),{get F(){return a},get T(){return n},get a(){return i}}}));
SML.dm("DdIwQUSk",[],(async()=>{var e,n;return function(e){e.READY="ready",e.EMPTY="empty"}(e||(e={})),function(e){e.SUCCESS="success"}(n||(n={})),{get R(){return n},get S(){return e}}}));
SML.dm("C3p34GtE",["DSWSCRFk","DAgRafdt","OAEZpqSu","C-AymPzu","BQbyLE0C","B_Z23SiP","ANc6hYHB","BHN2zcRJ","DjoKwtwQ","C9Y39_ZO","BVLgyhDE","Vy1IDB19","B8bCssFV","DdIwQUSk","BY0sdjRu","zYHiKPTa","CSE2B15f","BP7JtdRP","Dj1DJbmt","em8GmEry","mLeBs957","s1sP3jLz","DvsbXjsy","alLlRaWG","DxvZ7Xss","Dnwr24bF","DOyzSNfA","BjRhnMPP"],(async(e,a,t,i,n,o,s,r,l,d,m,u,c,p)=>{const h="dont-notify-tooltip-close",g="removal-reason-input-changed",{svg:v}=e.g(),I=e.w(v`<path d="M15.11 8.7l-1.63-.34c-.93-.19-1.65-.91-1.84-1.84l-.34-1.63c-.23-1.12-1.16-1.87-2.3-1.87s-2.07.75-2.3 1.87l-.34 1.63c-.19.93-.92 1.65-1.84 1.84l-1.63.34c-1.12.23-1.87 1.16-1.87 2.3s.75 2.07 1.87 2.3l1.63.34c.93.19 1.65.91 1.84 1.84l.34 1.63c.23 1.12 1.16 1.87 2.3 1.87s2.07-.75 2.3-1.87l.34-1.63c.19-.93.92-1.65 1.84-1.84l1.63-.34c1.12-.23 1.87-1.16 1.87-2.3s-.75-2.07-1.87-2.3zm-.37 2.84l-1.63.34c-1.63.34-2.9 1.61-3.24 3.24l-.34 1.63c-.08.4-.4.44-.54.44s-.46-.04-.54-.44l-.34-1.63a4.178 4.178 0 00-3.24-3.24l-1.63-.34c-.39-.08-.44-.4-.44-.54s.04-.46.44-.54l1.63-.34c1.63-.34 2.9-1.61 3.24-3.24l.34-1.63c.08-.4.4-.44.54-.44s.46.04.54.44l.34 1.63c.34 1.63 1.61 2.9 3.24 3.24l1.63.34c.39.08.44.4.44.54s-.04.46-.44.54zM18 3.1h-1.1V2c0-.5-.4-.9-.9-.9s-.9.4-.9.9v1.1H14c-.5 0-.9.4-.9.9s.4.9.9.9h1.1V6c0 .5.4.9.9.9s.9-.4.9-.9V4.9H18c.5 0 .9-.4.9-.9s-.4-.9-.9-.9z"></path>`,"0 0 20 20","ai");class N extends CustomEvent{constructor(e){super(N.eventName,{detail:e,bubbles:!0,composed:!0})}}N.eventName="select-suggested-removal-reason";let R=class extends e.s{constructor(){super(...arguments),this.reasons=[],this.suggestions=[],this.eventContext={}}getReasonNumber(e){const a=this.reasons.findIndex((a=>a.id===e));return a>=0?a+1:0}getSelectedChip(){return this.shadowRoot?.querySelector('rpl-filter-chip[name="removal-reason-suggestion"][selected]')??null}render(){return e.x` <div class="my-xs w-fit"> ${I({size:e.I.ExtraSmall})} ${"Suggested"} <rpl-tooltip appearance="inverted" trigger="hover focus" placement="right" @click="${e=>e.preventDefault()}"> ${e.bS({size:e.I.ExtraSmall})} <span slot="content" class="pointer-events-auto"> ${"Suggestions based on the content, your rules, and your removal reasons."} <a href="https://support.reddithelp.com/hc/articles/15484471320980-Saved-Responses" target="_blank" class="text-inverted-neutral-content-strong" @click="${e=>e.stopPropagation()}"> ${"Learn more"} </a> </span> </rpl-tooltip> <div class="flex flex-col gap-xs mt-xs"> ${this.suggestions.map((a=>{const t=this.getReasonNumber(a.id);return e.x` <faceplate-tracker source="moderator" action="click" noun="removal_reason_recommendation" data-faceplate-tracking-context="${JSON.stringify({action_info:{reason:a.id},subreddit:{id:this.eventContext.subredditId},post:{id:this.eventContext.postId},comment:{id:this.eventContext.commentId}})}" @click="${e=>{e.preventDefault(),e.stopPropagation()}}"> <rpl-filter-chip name="removal-reason-suggestion" class="max-w-fit" appearance="bordered" data-removal-reason-id="${a.id}" ?selected="${this.value===a.id}" @click="${()=>{this.dispatchEvent(new N({reasonId:a.id}))}}">${t?`${t}. `:""}${a.title}</rpl-filter-chip> </faceplate-tracker> `}))} </div> </div> `;}};R.styles=[a.t],e._([e.n({type:Array})],R.prototype,"reasons",void 0),e._([e.n({type:Array})],R.prototype,"suggestions",void 0),e._([e.n({type:Object,attribute:"event-context"})],R.prototype,"eventContext",void 0),e._([e.n()],R.prototype,"value",void 0),R=e._([e.c("removal-reason-suggestions")],R);let k=class extends e.s{constructor(){super(...arguments),this._showCoachmark=!localStorage.getItem(this.getLocalStorageKey()),this.closeCoachmark=e=>{e.stopPropagation(),this._showCoachmark=!1},this.handleLearnMore=e=>{e.stopPropagation(),window.open("https://support.reddithelp.com/hc/articles/15484471320980-Saved-Responses","_blank")}}getLocalStorageKey(){return a.N.RemovalReasonSuggestionsCoachmarkSeen}connectedCallback(){super.connectedCallback();localStorage.getItem(this.getLocalStorageKey())?this._showCoachmark=!1:(localStorage.setItem(this.getLocalStorageKey(),"true"),this._showCoachmark=!0)}disconnectedCallback(){super.disconnectedCallback()}render(){return e.x`<rpl-coachmark placement="${m.P.Bottom}" appearance="${u.a.Inverted}" ?open="${this._showCoachmark}" class="w-[270px]"> <slot></slot> <rpl-coachmark-card slot="content" aria-live="polite" appearance="${u.a.Inverted}" class="w-[270px]"> <div slot="title" class="pt-xs pb-2xs"> <div> ${"Save time with suggested removal reasons"} </div> </div> ${a.J({attributes:{className:"close-btn",slot:"close-button",onclick:e=>{e.stopPropagation(),this.closeCoachmark(e)}},appearance:"plainInverted",size:a.a2.Small,leadingIcon:e.m({size:e.I.Small})})} <div class="text-12 mb-sm"> ${"Based on the content, your rules, and your removal reasons, well suggest the most likely removal reasons."} </div> ${a.J({attributes:{slot:"secondary-button",onclick:this.handleLearnMore},children:"Learn More",appearance:"plainInverted",size:a.a2.Small})} ${a.J({attributes:{slot:"primary-button",onclick:this.closeCoachmark},children:"Got It",appearance:"plainInverted",size:a.a2.Small})} </rpl-coachmark-card> </rpl-coachmark>`;}};k.styles=[a.t],e._([e.b()],k.prototype,"_showCoachmark",void 0),k=e._([e.c("removal-reason-suggestions-coachmark")],k);class b extends c.F{constructor(){super(...arguments),this.isInputDirty=!1,this.hasInvalidMacro=!1,this.required=!1,this.handleSubmit=()=>{this.isInputDirty=!0},this.handleInvalid=e=>{e.preventDefault()}}get value(){const e=this._internals.getFormValue();return e?e.toString():null}set value(e){e!==this.value&&(this._internals.setFormValue(e),this.updateValidity(),this.dispatchEvent(new CustomEvent(g,{detail:{value:e},bubbles:!0})))}connectedCallback(){super.connectedCallback(),o.c(this).then((e=>{e?.addEventListener("faceplate-submit",this.handleSubmit)})),this.addEventListener("invalid",this.handleInvalid),this.updateValidity()}disconnectedCallback(){super.disconnectedCallback(),this.form?.removeEventListener("faceplate-submit",this.handleSubmit),this.removeEventListener("invalid",this.handleInvalid)}updateValidity(){this.hasInvalidMacro?this._internals.setValidity({valueMissing:!0},this.getInvalidMacroValidationMessage()):this.required&&!this.value?this._internals.setValidity({valueMissing:!0},this.getValueMissingValidationMessage()):this._internals.setValidity(),this.requestUpdate()}getValueMissingValidationMessage(){return""}getInvalidMacroValidationMessage(){return""}renderValidationState(){return this.isInputDirty&&this.validationMessage?e.x`<span class="text-12 text-danger-content px-md">${this.validationMessage}</span>`:null}}e._([e.b()],b.prototype,"isInputDirty",void 0),e._([e.b()],b.prototype,"hasInvalidMacro",void 0),e._([e.n({type:Boolean})],b.prototype,"required",void 0);class f extends CustomEvent{constructor(e){super(f.eventName,{detail:e,bubbles:!0,composed:!0})}}f.eventName="select-removal-reason";let T=class extends b{constructor(){super(...arguments),this.isSitewide=!1,this.selectedRemovalReason=this.value,this.handleSelectSuggestedRemovalReason=e=>{this.selectReasonById(e.detail.reasonId,!1)},this.handleSelect=e=>{const a=e.target;this.selectReasonById(a.value)}}get displayText(){return this.reasons?.find((e=>e.id===this.value))?.title||""}static get styles(){return[a.t,e.i`:host{display:flex;flex-direction:column}`]}getValueMissingValidationMessage(){return "Removal reason is required.";}getInvalidMacroValidationMessage(){return "This removal reason contains an invalid macro. Please update the removal reason and try again.";}getPlatformRuleOption(){return {id:"default-removal-reason",title:"Breaking platform rules",message:""};}selectReasonById(e,a=!0){const t=(this.includePlatformRuleOption?[...(this.reasons || []),this.getPlatformRuleOption()]:this.reasons||[]).find((a=>a.id===e));t&&this.selectedRemovalReason!==t.id&&(this.selectedRemovalReason=t.id,this.value=t.id,this.dispatchEvent(new f({...t,isSitewide:this.isSitewide,trackEvent:a})))}getDropdownPlaceholder(){return this.isSitewide?"Select a platform rule":"Select a removal reason";}setInvalidMacro(e){this.hasInvalidMacro=e,this.isInputDirty=!0,this.updateValidity()}connectedCallback(){super.connectedCallback(),this.addEventListener(N.eventName,this.handleSelectSuggestedRemovalReason)}disconnectedCallback(){super.disconnectedCallback(),this.removeEventListener(N.eventName,this.handleSelectSuggestedRemovalReason)}render(){return e.x` <label class="text-16 text-neutral-content-strong"> ${super.render()} </label> <faceplate-select-text-input label="${this.getDropdownPlaceholder()}" value="${this.selectedRemovalReason}" readonly="readonly" style="--faceplate-select-menu-max-height:350px;-faceplate-select-menu-max-width:80vw" @faceplate-select-text-input:change="${this.handleSelect}"> ${this.reasons?.map(((a,t)=>e.x`<faceplate-option value="${a.id}" display-text="${a.title}" ?selected="${a.id===this.selectedRemovalReason}"><span slot="leading" class="whitespace-nowrap text-16">${t+1}</span></faceplate-option>`))} ${this.includePlatformRuleOption&&e.x`<faceplate-option value="default-removal-reason" display-text="${this.getPlatformRuleOption().title}"></faceplate-option>`} ${this.includeAddRemovalReasonOption&&e.x`<faceplate-option value="add-removal-reason"> <slot name="link"></slot> </faceplate-option>`} </faceplate-select-text-input> ${this.renderValidationState()} ${this.removalReasonSuggestionsContext?.predictedRemovalSavedResponses&&this.removalReasonSuggestionsContext?.predictedRemovalSavedResponses.length>0?e.x` <removal-reason-suggestions-coachmark> <removal-reason-suggestions class="block w-fit" reasons="${JSON.stringify(this.reasons)}" suggestions="${JSON.stringify(this.removalReasonSuggestionsContext.predictedRemovalSavedResponses)}" event-context="${JSON.stringify(this.removalReasonSuggestionsContext.eventContext)}" value="${this.selectedRemovalReason}"></removal-reason-suggestions> </removal-reason-suggestions-coachmark> `:""} `}};e._([e.n({type:Array})],T.prototype,"reasons",void 0),e._([e.n({type:Boolean,attribute:"is-sitewide"})],T.prototype,"isSitewide",void 0),e._([e.n({type:Boolean,attribute:"include-platform-rule-option"})],T.prototype,"includePlatformRuleOption",void 0),e._([e.n({type:Boolean,attribute:"include-add-removal-reason-option"})],T.prototype,"includeAddRemovalReasonOption",void 0),e._([e.n({type:Object,attribute:"removal-reason-suggestions-context"})],T.prototype,"removalReasonSuggestionsContext",void 0),e._([e.b()],T.prototype,"selectedRemovalReason",void 0),T=e._([e.c("removal-reason-input")],T);let E=class extends d.R{constructor(){super(),this.tooltipVisible=!1,this.trigger="manual",this.placement="top",this.appearance="neutral"}connectedCallback(){super.connectedCallback(),this.initializeTooltip(),this.addEventListener(h,this.hideTooltip)}disconnectedCallback(){super.disconnectedCallback(),this.removeEventListener(h,this.hideTooltip)}async initializeTooltip(){a.K.getItem(a.N.RemovalReasonDontNotifyDismissed)||setTimeout((()=>this.showTooltip()),750)}showTooltip(){this.show()}hideTooltip(e){e.stopPropagation(),a.K.setItem(a.N.RemovalReasonDontNotifyDismissed,"true"),this.hide()}};e._([e.b()],E.prototype,"tooltipVisible",void 0),E=e._([e.c("dont-notify-tooltip")],E);let S=class extends e.s{constructor(){super(...arguments),this.isAIModEnabledForSubreddit=!1}handleClose(){this.dispatchEvent(new CustomEvent(h,{bubbles:!0}))}render(){return e.x` <div class="pointer-events-auto py-xs pl-xs w-[200px]"> <div class="flex flex-row"> <div> <div class="text-14 font-bold text-neutral-content-strong"> ${"Don't want to notify?"} </div> <div class="text-12 font-normal text-neutral-content-strong"> ${this.isAIModEnabledForSubreddit?"Use removal reasons to train automations and track mod actions without notifying users.":"Use removal reasons to track mod actions without notifying users."} </div> </div> ${a.J({appearance:"secondary",leadingIcon:e.m({size:e.I.Small}),size:a.a2.Small,screenReaderContent:"Close tooltip",attributes:{type:"button",className:"flex-shrink-0 -mt-xs",onclick:this.handleClose}})} </div> <div class="flex justify-end mt-md"> ${a.J({appearance:"plain",size:a.a2.Small,children:"Okay",attributes:{type:"button",onclick:this.handleClose}})} </div> </div> `;}};var y;S.styles=[a.t],e._([e.n({type:Boolean,attribute:"is-ai-mod-enabled-for-subreddit"})],S.prototype,"isAIModEnabledForSubreddit",void 0),S=e._([e.c("dont-notify-tooltip-content")],S),function(e){e.Comment="Comment",e.Modmail="Modmail",e.DontNotify="DontNotify"}(y||(y={}));let z=class extends b{constructor(){super(...arguments),this.isModmailAllowed=!1,this.isAIModEnabledForSubreddit=!1}static get styles(){return[a.t,e.i`:host{display:flex;flex-direction:column;gap:var(--spacer-xs)}`]}connectedCallback(){super.connectedCallback(),this.value=y.Comment}getValueMissingValidationMessage(){return "Please select the notification method.";}render(){return e.x` <label class="text-16 text-neutral-content-strong"> ${this._internals.input} ${"Notify user via"} </label> <div class="flex flex-row gap-xs"> ${a.J({appearance:"bordered",children:"Comment",leadingIcon:e.aD({size:e.I.Small}),selected:this.value===y.Comment,attributes:{type:"button",onclick:()=>{this.value=y.Comment,this.requestUpdate()}}})} ${this.isModmailAllowed?a.J({appearance:"bordered",children:"Mod Mail",leadingIcon:e.aG({size:e.I.Small}),selected:this.value===y.Modmail,attributes:{type:"button",onclick:()=>{this.value=y.Modmail,this.requestUpdate()}}}):e.A} <dont-notify-tooltip> ${a.J({appearance:"bordered",children:"Don't Notify",leadingIcon:e.bz({size:e.I.Small}),selected:this.value===y.DontNotify,attributes:{type:"button",onclick:()=>{this.value=y.DontNotify,this.requestUpdate()}}})} <dont-notify-tooltip-content ?is-ai-mod-enabled-for-subreddit="${this.isAIModEnabledForSubreddit}" slot="content"></dont-notify-tooltip-content> </dont-notify-tooltip> </div> ${this.renderValidationState()} `;}};var M;e._([e.n({type:Boolean,attribute:"is-mod-mail-allowed"})],z.prototype,"isModmailAllowed",void 0),e._([e.n({type:Boolean,attribute:"is-ai-mod-enabled-for-subreddit"})],z.prototype,"isAIModEnabledForSubreddit",void 0),z=e._([e.c("removal-reason-notification-method")],z),function(e){e.User="User",e.Mod="Mod"}(M||(M={}));let L=class extends b{static get styles(){return[a.t,e.i`:host{display:flex;flex-direction:column;gap:var(--spacer-xs)}`]}connectedCallback(){super.connectedCallback(),this.value=M.Mod}getValueMissingValidationMessage(){return "Please select the notification sender.";}render(){return e.x` <label class="text-16 text-neutral-content-strong"> ${this._internals.input} ${"Send message as"} </label> <div class="flex flex-row gap-xs"> ${a.J({appearance:"bordered",children:"Mod Team",leadingIcon:e.x`<slot name="mod-icon"></slot>`,selected:this.value===M.Mod&&!this.disabled,attributes:{type:"button",disabled:this.disabled,onclick:()=>{this.value=M.Mod,this.requestUpdate()}}})} ${a.J({appearance:"bordered",children:this.user,leadingIcon:e.x`<slot name="user-icon"></slot>`,selected:this.value===M.User&&!this.disabled,attributes:{type:"button",disabled:this.disabled,onclick:()=>{this.value=M.User,this.requestUpdate()}}})} </div> ${this.renderValidationState()} `;}};e._([e.n()],L.prototype,"user",void 0),L=e._([e.c("removal-reason-notification-sender")],L);class O extends CustomEvent{constructor(e){super(O.eventName,{bubbles:!0,composed:!0,cancelable:!0,detail:e})}}O.eventName="mod-removal-reason-added";class D extends CustomEvent{constructor(e){super(D.eventName,{bubbles:!0,composed:!0,cancelable:!0,detail:e})}}D.eventName="removal-reason-form-element-clicked";let C=class extends n.F{constructor(){super(),this._eventController=new a.E(this),this.handleFormElementClicked=e=>{e.target?.name&&this.dispatchEvent(new D({formElement:e.target.name}))},this.handleRemovalReasonInputChanged=e=>{if(e.target instanceof z){const a=e.target.value!==y.DontNotify;this.toggleNotificationSender(a),this.toggleMessageInput(a)}e.target instanceof T&&"removal-reason"===e.target.name&&this.toggleDefaultPolicyInput("default-removal-reason"===e.target.value)},this.convertFormDataToGql=e=>{const a=e.get("notification-method"),t=e.get("notification-sender"),i={reasonId:this.getRemovalReasonId(e),type:this.parseRemovalReasonMessageType(a,t),message:a===y.DontNotify?null:e.get("message"),isLockComment:e.has("lock")},n=e.get("modNote")||void 0,o={itemId:e.get("thing")?.toString()||"",removalReason:i,modNote:n};return this.lastSubmittedData=o,JSON.stringify({...o,csrf_token:e.get("csrf_token")})},this.encoders={...this.encoders,"application/json":this.convertFormDataToGql}}connectedCallback(){super.connectedCallback(),this._eventController.define(g,this.handleRemovalReasonInputChanged),this._eventController.define("click",this.handleFormElementClicked)}toggleNotificationSender(e){const a=this.elements["notification-sender"];a&&(e?a.removeAttribute("disabled"):a.setAttribute("disabled",""))}toggleField(e,a){e&&(a?(e.classList.remove("hidden"),e.setAttribute("required","")):(e.classList.add("hidden"),e.removeAttribute("required")))}toggleMessageInput(e){const a=this.elements.message;a&&this.toggleField(a,e)}toggleDefaultPolicyInput(e){const a=this.elements["default-removal-reason"];a&&this.toggleField(a,e)}showError(){const e={level:a.I.error,message:"Something went wrong",cause:a.aU.QueryBadResponse};this.dispatchEvent(a.c("faceplate-alert",e))}async handleResponse(e){if(!e.ok)return this.dispatchEvent(a.c(_.eventName)),this.showError();try{const t=await e.text(),i={level:a.I.success,message:"Removal reason added"},n=this.lastSubmittedData?.itemId||"";if(l.h(n)){const e={postId:n,action:r.a.addRemovalReason,value:!0};a.p(a.T.PostUpdated,e)}else{const e={commentId:n,action:s.C.addRemovalReason,value:!0};a.p(a.T.CommentUpdated,e)}if(t){const e={parentThingId:n,body:t};a.p(a.T.CommentCreated,e)}this.dispatchEvent(a.c(_.eventName)),this.dispatchEvent(a.c("faceplate-alert",i)),this.lastSubmittedData&&this.dispatchEvent(new O(this.lastSubmittedData))}catch{this.showError()}}parseRemovalReasonMessageType(e,t){return e===y.Comment?t===M.Mod?a.f7.CommentAsSubreddit:a.f7.CommentAsMod:e===y.Modmail?t===M.Mod?a.f7.MessageAsSubreddit:a.f7.MessageAsMod:null}getRemovalReasonId(e){const a=e.get("removal-reason");return"default-removal-reason"===a?e.get("default-removal-reason"):a}};C=e._([e.c("removal-reason-form")],C),o.r(C);const P={"removal-reason":"subreddit_removal_reason","default-removal-reason":"default_removal_reason",message:"message_to_user","notification-method":"notification_method","notification-sender":"notification_sender",modNote:"mod_note"};class A extends CustomEvent{constructor(e){super(A.eventName,{detail:e,bubbles:!0,composed:!0})}}A.eventName="mod-add-removal-reason-show-modal";class _ extends CustomEvent{constructor(){super(_.eventName)}}_.eventName="mod-add-removal-reason-toggle-loading";let j=class extends e.s{constructor(){super(...arguments),this.pubsub=new a.f(this),this.getInputValue=e=>this.removalReasonForm?.querySelector(`input[name="${e}"]`)?.value,this.buildAndTrackEvent=e=>{const t={action:"click",...e,authorId:this.getInputValue("authorId"),subredditId:this.getInputValue("subredditId"),subredditName:this.subredditName,thingId:this.thingId};a.a(this,i.r(t))},this.firstUpdated=()=>{this.isSmartEscalationsCommunityRulesEnabled&&this.updateComplete.then((()=>{this.primaryButton?.addEventListener("click",(()=>{this.removalReasonForm?.isValid&&(this.toggleButtonLoadingIndicator(),this.initSmartEscalations())}))}))},this.handleAddRemovalReasonEvent=({detail:e})=>{""!==e?this.show(e):this.thingId=void 0},this.handleFormElementClicked=e=>{const a={type:P[e.detail.formElement]||e.detail.formElement},t=this.removalReasonForm?.elements[e.detail.formElement]?.value||this.getInputValue(e.detail.formElement);if("lock"===e.detail.formElement&&(a.isLocked="on"===t),"notification-method"===e.detail.formElement){if(!t)return;a.notificationMethod=t}if("notification-sender"===e.detail.formElement){if(!t)return;a.sendAs=t}this.buildAndTrackEvent(a)},this.handleSelectRemovalReason=async e=>{const a=this.removalReasonInput?.removalReasonSuggestionsContext;e.detail.trackEvent&&this.buildAndTrackEvent({type:e.detail.isSitewide?"default_removal_reason":"subreddit_removal_reason",reason:e.detail.id,noun:"removal_reason_select",subredditId:a?.eventContext?.subredditId,postId:a?.eventContext?.postId,commentId:a?.eventContext?.commentId});const t=this.removalReasonForm,i=this.shadowRoot?.querySelector("faceplate-textarea-input");i&&e.detail.message&&(i.value=await this.renderRemovalReasonMessage(e.detail.id,e.detail.message),await i.updateComplete,i.syncInputValidity(),t?.notifyObservers(i))},this.renderRemovalReasonMessage=async(e,a)=>{try{return await this.renderRemovalReasonAsSavedResponseTemplate(e)}catch{return a}},this.renderSavedResponseTemplateBySubredditId=t.bS,this.renderRemovalReasonAsSavedResponseTemplate=async e=>{const a=await this.renderSavedResponseTemplateBySubredditId({responseId:e,subredditId:this.getInputValue("subredditId")||"",contentId:this.thingId});return a?a.templateValidation?.ok?(this.removalReasonInput?.setInvalidMacro(!1),a.response.markdown):(this.removalReasonInput?.setInvalidMacro(!0),""):""},this.handleAddedRemovalReason=e=>{let t=function(e){let t;t=e.type===a.f7.CommentAsMod||e.type===a.f7.CommentAsSubreddit?"comment":e.type===a.f7.MessageAsMod||e.type===a.f7.MessageAsSubreddit?"modmail":"no message";const i=e.type===a.f7.CommentAsSubreddit||e.type===a.f7.MessageAsSubreddit?"subreddit":"self";return{is_locked:e.isLockComment,notify:t,send_as:i}}(e.detail.removalReason);const n=this.removalReasonInput?.removalReasonSuggestionsContext?.predictedRemovalSavedResponses?.map((e=>e.id));n&&(t={...t,suggestion_list:n}),a.a(this,i.a(t,this.removalReasonInput?.value??void 0,this.removalReasonInput?.removalReasonSuggestionsContext?.eventContext)),this.isSmartEscalationsCommunityRulesEnabled&&!this.isExpandSuggestedActionsEnabled?(this.buildAndTrackEvent({type:"submit_button",reason:"default-removal-reason"===this.removalReasonInput?.value?this.defaultRemovalReasonInput?.value??void 0:this.removalReasonInput?.value??void 0,notificationMethod:this.removalReasonForm?.elements["notification-method"]?.value,sendAs:this.removalReasonForm?.elements["notification-sender"]?.value,isLocked:"on"===this.getInputValue("lock"),modNote:this.getInputValue("modNote"),message:this.getInputValue("message")}),this.pubsub.publish(a.T.RemovalReasonStatus,{status:p.R.SUCCESS})):this.close()},this.handleCancel=e=>{e.stopImmediatePropagation(),this.buildAndTrackEvent({type:"close_button"}),a.a(this,i.b()),this.close()},this.toggleButtonLoadingIndicator=()=>{this.primaryButton?.querySelector("faceplate-progress")?.classList.toggle("hidden"),this.primaryButton?.querySelector("span.submit-button-content")?.classList.toggle("opacity-0")},this.showHideSubmitButton=()=>{this.removalReasonInput?this.primaryButton?.classList.remove("hidden"):this.primaryButton?.classList.add("hidden")},this.close=()=>{this.modal?.open&&(this.modal?.close(),document.body.style.overflow="auto",document.body.style.pointerEvents="auto")},this.initSmartEscalations=()=>{const e=this.getInputValue("authorId"),t=this.getInputValue("subredditId"),i=e&&t&&this.thingId;i&&this.pubsub.publish(a.T.SmartEscalationsInit,{thingId:this.thingId,authorId:e,subredditId:t,removalReasonId:(this.defaultRemovalReasonInput?.value||this.removalReasonInput?.value)??"",removalReasonDisplayText:(this.defaultRemovalReasonInput?.displayText||this.removalReasonInput?.displayText)??""}),!i&&this.close()}}get removalReasonInput(){return this.shadowRoot?.querySelector('[name="removal-reason"]')}get defaultRemovalReasonInput(){return this.shadowRoot?.querySelector('[name="default-removal-reason"]')}get removalReasonForm(){return this.shadowRoot?.querySelector("removal-reason-form")}get primaryButton(){return this.shadowRoot?.querySelector('faceplate-modal [slot=primaryButton] button[type="submit"]')}get selectedSuggestionValue(){const e=this.removalReasonInput?.shadowRoot?.querySelector("removal-reason-suggestions"),a=e?.getSelectedChip();return a?.dataset.removalReasonId}connectedCallback(){super.connectedCallback(),this.pubsub.subscribe(a.T.AddRemovalReasonClose,this.close,!1),this.addEventListener(f.eventName,this.handleSelectRemovalReason),this.addEventListener(O.eventName,this.handleAddedRemovalReason),this.addEventListener(_.eventName,this.toggleButtonLoadingIndicator),this.addEventListener(D.eventName,this.handleFormElementClicked),window.addEventListener(A.eventName,this.handleAddRemovalReasonEvent)}disconnectedCallback(){super.disconnectedCallback(),window.removeEventListener(A.eventName,this.handleAddRemovalReasonEvent),this.removeEventListener(f.eventName,this.handleSelectRemovalReason),this.removeEventListener(O.eventName,this.handleAddedRemovalReason),this.removeEventListener(_.eventName,this.toggleButtonLoadingIndicator),this.addEventListener(D.eventName,this.handleFormElementClicked)}async show(e){e&&(this.thingId=e,await this.updateComplete),this.modal?.showModal(),await(this.partial?.load()),this.buildAndTrackEvent({action:"view"}),this.primaryButton?.querySelector("faceplate-progress")?.classList.add("hidden"),this.primaryButton?.querySelector("span.submit-button-content")?.classList.remove("opacity-0"),this.showHideSubmitButton()}render(){return e.x` <removal-reason-form class="mb-0" enctype="application/json" method="POST" action="/svc/shreddit/mod/removal-reason"> <faceplate-modal class="max-w-[540px] w-[90v w] z-30"> <div slot="closeButton"> ${a.J({appearance:"secondary",leadingIcon:e.m({size:e.I.Small}),size:a.a2.Small,attributes:{type:"button",onclick:this.handleCancel}})} </div> <input type="hidden" name="thing" value="${this.thingId}"> ${t.L(this.thingId,e.x` <faceplate-partial class="w-100" src="/svc/shreddit/removal-reason-form/${this.thingId}" loading="${a.h.Programmatic}"> <div class="w-100 h-4xl flex items-center justify-center"> <faceplate-progress value="20" class="animate-spin"></faceplate-progress> </div> </faceplate-partial> `)} <div slot="primaryButton"> ${a.J({children:e.x`<faceplate-progress value="20" class="animate-spin loading-icon hidden absolute left-0 right-0 m-auto w-[16px]" style="--loader-size:1rem"></faceplate-progress> <span class="submit-button-content"> ${"Submit"}</span>`,appearance:"primary",attributes:{type:"submit",className:"w-100 relative"}})} </div> <div slot="secondaryButton"> ${a.J({children:"Cancel",appearance:"plain",attributes:{className:"w-100",type:"button",onclick:this.handleCancel}})} </div> </faceplate-modal> </removal-reason-form> `;}};return j.styles=[a.t],e._([e.n({type:Boolean,attribute:"is-smart-escalations-community-rules-enabled"})],j.prototype,"isSmartEscalationsCommunityRulesEnabled",void 0),e._([e.n({type:Boolean,attribute:"is-expand-suggested-actions-enabled"})],j.prototype,"isExpandSuggestedActionsEnabled",void 0),e._([e.n({type:String})],j.prototype,"thingId",void 0),e._([e.n({type:String,attribute:"subreddit-name"})],j.prototype,"subredditName",void 0),e._([e.D("faceplate-modal")],j.prototype,"modal",void 0),e._([e.D("faceplate-partial")],j.prototype,"partial",void 0),j=e._([e.c("add-removal-reason-modal")],j),{A}}));
SML.dm("3kt68AAF",["DSWSCRFk","OAEZpqSu","DAgRafdt"],(async(t,e)=>{function o(t,e,o){return!0===(null==o?void 0:o.short)?t.toLocaleDateString(e,{month:"short",day:"numeric"}):t.toLocaleString(e,null==o?void 0:o.options)}const r={options:{dateStyle:"full",timeStyle:"long"}};let i=class extends t.s{constructor(){super(...arguments),this.ts="",this.date=new Date,this.short=!1,this.locale=""}getLocale(){return this.locale||e.bQ()}createRenderRoot(){return this}render(){const e=this.getLocale(),i=o(this.date,e,r),s=this.formatOptions?{options:this.formatOptions}:{short:this.short},n=o(this.date,e,s);return t.x`<time datetime="${this.date.toISOString()}" title="${i}">${n}</time>`}};return t._([t.n({type:String})],i.prototype,"ts",void 0),t._([t.n({attribute:"ts",converter:t=>e.bR(t||"")})],i.prototype,"date",void 0),t._([t.n({type:Boolean})],i.prototype,"short",void 0),t._([t.n({type:String})],i.prototype,"locale",void 0),t._([t.n({type:Object})],i.prototype,"formatOptions",void 0),i=t._([t.c("faceplate-date")],i),{f:o}}));
SML.dm("CJjbk0RM",["DSWSCRFk","OAEZpqSu","DAgRafdt"],(async(t,e)=>{let o=class extends t.s{constructor(){super(),this.ts="",this.short=!1,this.format="",this.locale="",this.date=new Date(this.ts)}getLocale(){return this.locale.length?this.locale:e.bQ()}createRenderRoot(){return this}render(){const o=e.c1(this.getLocale(),{dateStyle:"full",timeStyle:"long"}).format(this.date),r={short:this.short,format:this.format.length?this.format:void 0},i=e.c2(this.date,this.getLocale(),r);return t.x` <time datetime="${this.date.toISOString()}" title="${o}">${i}</time> `}};t._([t.n({type:String})],o.prototype,"ts",void 0),t._([t.n({attribute:"ts",converter:t=>e.bR(t||"")})],o.prototype,"date",void 0),t._([t.n({type:Boolean})],o.prototype,"short",void 0),t._([t.n({type:String})],o.prototype,"format",void 0),t._([t.n({type:String})],o.prototype,"locale",void 0),o=t._([t.c("faceplate-timeago")],o)}));
SML.dm("BR-9gnOG",["DSWSCRFk"],(async e=>{var r;!function(e){e.CIRCLE="circle",e.RECTANGLE="rectangle",e.PILL="pill"}(r||(r={}));const t=2500;let i=0,s=null,a=class extends e.s{constructor(){super(...arguments),this.shape=r.RECTANGLE,this.calcDelay=e=>{if(0===e)return 0;let r=0;const i=s?.getAnimations()[0];return i&&(r=i.effect?.getComputedTiming().progress*t),(r+200*e)%t}}static get styles(){return e.i`:host{display:inline-flex}:host([shape=pill]) #loader{border-radius:var(--rem8)}:host([shape=circle]) #loader{border-radius:50%}#loader{background:var(--color-shimmer-background);height:100%;width:100%;position:relative;overflow-x:hidden}#shimmer-object{background:var(--color-shimmer-gradient-overlay);border-radius:.5rem;height:100%;width:200%;position:absolute;top:0;inset-inline-start:0;transform:translateX(-100%)}`}firstUpdated(){this.shimmer(i++)}async shimmer(e){await new Promise((e=>requestAnimationFrame(e)));s||(s=this.shimmerObject);const r={duration:t,delay:-1*this.calcDelay(e),iterations:1/0};this.shimmerObject?.animate([{transform:"translateX(50%)"}],r)}render(){return e.x`<div id="loader"> <span id="shimmer-object"></span> </div> `}};e._([e.n({type:String})],a.prototype,"shape",void 0),e._([e.D("#shimmer-object")],a.prototype,"shimmerObject",void 0),a=e._([e.c("faceplate-shimmer")],a);var o=Object.freeze({__proto__:null,get FaceplateShimmer(){return a},get LOADER_SHAPES(){return r}});return{get L(){return r},get f(){return o}}}));
SML.dm("BWRmaaMs",["DSWSCRFk","Dnwr24bF","OAEZpqSu","DAgRafdt"],(async(t,e,o)=>{let i=class extends t.s{constructor(){super(...arguments),this.position="bottom",this.mouseEnterDelay=750,this.triggerEvent="hover",this.appearance="neutral",this.emitter=o.k(this),this._timeoutID=null,this._popperController=new e.P(this,{position:this.position,variantFlipOrder:{start:"s",middle:"m",end:"e"},referenceElementKey:"referenceElement",popperElementKey:"_tooltip"}),this._eventUsedMap=new WeakMap,this.updated=t=>{t.has("position")&&this._popperController.updateOptions({position:this.position})},this.handleDocumentClick=t=>{if(!(t.target instanceof HTMLElement)||this.hidden)return;if(t.target.closest(this.tagName.toLowerCase())===this)return;this._eventUsedMap.has(t)||this.close()},this.handleEscape=t=>{"Escape"===t.key&&this.close()},this.addListenersWhileOpened=()=>{document.addEventListener("click",this.handleDocumentClick),document.addEventListener("keydown",this.handleEscape)},this.cleanupListenersWhileOpened=()=>{document.removeEventListener("click",this.handleDocumentClick),document.removeEventListener("keydown",this.handleEscape)}}get referenceElement(){return this.triggers[0]??this}static get styles(){return[t.i`:host{display:inline-block;position:relative;color:var(--tooltip-content)}:host([appearance=neutral]){--tooltip-background:var(--color-tooltip-bg-neutral);--tooltip-content:var(--color-tooltip-text-neutral)}:host([appearance=inverted]){--tooltip-background:var(--color-tooltip-bg-inverted);--tooltip-content:var(--color-tooltip-text-inverted)}:host([appearance=primary]){--tooltip-background:var(--color-tooltip-bg-primary);--tooltip-content:var(--color-tooltip-text-primary)}#faceplate-tooltip{font:var(--font-12-16-semibold);background-color:var(--tooltip-background);color:var(--tooltip-content);border-radius:.25rem;box-shadow:var(--boxshadow-tooltip);justify-content:center;align-items:center;padding:.5rem;display:inline-flex;width:max-content;isolation:isolate;z-index:var(--faceplate-tooltip-z-index,1)}article{display:flex;gap:.375rem}#faceplate-tooltip::after{display:block;content:'';width:8px;height:8px;position:absolute;background-color:var(--tooltip-background)}#faceplate-tooltip[position=bottom-end]::after,#faceplate-tooltip[position=bottom-start]::after,#faceplate-tooltip[position=top-end]::after,#faceplate-tooltip[position=top-start]::after{--max-arrow-x-travel-tooltip:calc(var(--tooltip-width, 2rem) - 1rem);--max-arrow-x-travel-target:calc(var(--target-width, 1rem) / 2);--max-arrow-x-distance:max(
            min(var(--max-arrow-x-travel-target), var(--max-arrow-x-travel-tooltip)),
            0.5rem
          )}#faceplate-tooltip[position=bottom-start]::after,#faceplate-tooltip[position=top-start]::after{inset-inline-start:var(--max-arrow-x-distance)}#faceplate-tooltip[position=bottom-end]::after,#faceplate-tooltip[position=top-end]::after{inset-inline-end:var(--max-arrow-x-distance)}#faceplate-tooltip[position=left-end]::after,#faceplate-tooltip[position=left-start]::after,#faceplate-tooltip[position=right-end]::after,#faceplate-tooltip[position=right-start]::after{--max-arrow-y-travel-tooltip:calc(var(--tooltip-height, 2rem) - 1rem);--max-arrow-y-travel-target:calc(var(--target-height, 2rem) / 2);--max-arrow-y-distance:max(
            min(var(--max-arrow-y-travel-target), var(--max-arrow-y-travel-tooltip)),
            0.5rem
          )}#faceplate-tooltip[position=left-start]::after,#faceplate-tooltip[position=right-start]::after{top:var(--max-arrow-y-distance)}#faceplate-tooltip[position=left-end]::after,#faceplate-tooltip[position=right-end]::after{bottom:var(--max-arrow-y-distance)}#faceplate-tooltip[position|=bottom]::after{top:0;transform:translateY(-50%) rotate(45deg);box-shadow:-1px -1px 2px rgba(0,0,0,.05)}#faceplate-tooltip[position|=top]::after{bottom:0;transform:translateY(50%) rotate(45deg);box-shadow:1px 1px 2px rgba(0,0,0,.05)}#faceplate-tooltip[position|=right]::after{inset-inline-start:0;transform:translateX(-38%) rotate(45deg);box-shadow:-2px 0 2px rgba(0,0,0,.05)}#faceplate-tooltip[position|=left]::after{inset-inline-end:0;transform:translateX(38%) rotate(45deg);box-shadow:0 -2px 2px rgba(0,0,0,.05)}#faceplate-tooltip[position^=auto]::after{display:none}`,e.P.defaultPopperContentStyles]}get hidden(){return"closed"===this._popperController.currentState.state}connectedCallback(){super.connectedCallback()}disconnectedCallback(){super.disconnectedCallback(),this.cleanupListenersWhileOpened()}updateCustomProperties(){if("faceplate-tooltip"!==this.tagName.toLocaleLowerCase())return;const{clientHeight:t=null,clientWidth:e=null}=this.referenceElement,{clientHeight:o=null,clientWidth:i=null}=this._tooltip;t&&e&&o&&i&&(this.style.setProperty("--target-width",`${Math.round(e)}px`),this.style.setProperty("--target-height",`${Math.round(t)}px`),this.style.setProperty("--tooltip-width",`${Math.round(i)}px`),this.style.setProperty("--tooltip-height",`${Math.round(o)}px`))}show(){this.emitter.dispatch("open"),this.updateCustomProperties(),this._popperController.open().then((()=>{this.hidden||(this.addListenersWhileOpened(),this.emitter.dispatch("opened"))}))}close(){return this.cleanupListenersWhileOpened(),this.emitter.dispatch("close"),this._popperController.close().then((()=>{this.hidden&&this.emitter.dispatch("closed")}))}handleClick(t){this._eventUsedMap.set(t,!0),"click"===this.triggerEvent&&(this.hidden?this.show():this.close())}handleMouseenter(){"hover"===this.triggerEvent&&(this.cleanupTooltips(),this._timeoutID=window.setTimeout((()=>{this.querySelector(":focus, :hover")&&this.show()}),this.mouseEnterDelay))}handleMouseleave(){this.close(),this.cleanupTooltips()}cleanupTooltips(){this._timeoutID&&(window.clearTimeout(this._timeoutID),this._timeoutID=null)}render(){const e=this._popperController.actualPosition||this.position;return t.x` <slot name="trigger" aria-describedby="faceplate-tooltip" faceplate-popper-trigger @click="${this.handleClick}" @mouseenter="${this.handleMouseenter}" @mouseleave="${this.handleMouseleave}" @focusin="${this.handleMouseenter}" @focusout="${this.handleMouseleave}"></slot> <article id="faceplate-tooltip" role="tooltip" position="${e}" faceplate-popper-content> <slot class="icon" name="icon"></slot> <span> <slot></slot> </span> </article> `}};return t._([t.n({type:String})],i.prototype,"position",void 0),t._([t.n({type:Number,attribute:"enter-delay"})],i.prototype,"mouseEnterDelay",void 0),t._([t.n({type:String,attribute:"trigger-event"})],i.prototype,"triggerEvent",void 0),t._([t.n({type:String,reflect:!0})],i.prototype,"appearance",void 0),t._([t.v({slot:"trigger",flatten:!0})],i.prototype,"triggers",void 0),t._([t.v({slot:"icon",flatten:!0})],i.prototype,"icons",void 0),t._([t.D("#faceplate-tooltip")],i.prototype,"_tooltip",void 0),i=t._([t.c("faceplate-tooltip")],i),{get FaceplateTooltip(){return i}}}));
SML.dm("CgIWqP9n",["DAgRafdt","DjoKwtwQ"],(async(E,R)=>{const D=R=>R===E._.ModApproved,e=R=>R===E._.AdminApproved,o=R=>R===E._.ModRemoved||R===E._.ModSpammed,M=R=>R===E._.AdminRemoved||R===E._.AdminSpammed;var P;!function(E){E.UNMODERATED="UNMODERATED",E.APPROVED="APPROVED",E.REMOVED="REMOVED",E.SPAM="SPAM",E.REPORTED="REPORTED",E.FILTERED="FILTERED"}(P||(P={}));const d=(E,R)=>(E===P.FILTERED||R)&&E!==P.APPROVED&&E!==P.REMOVED;return{get M(){return P},a:d,b:(D,e)=>(D===R.P.ModQueue||D===R.P.ModQueueAll)&&e===E.$.ModQueueCompactView,c:E=>[P.REPORTED,P.FILTERED,P.UNMODERATED,P.REMOVED,P.SPAM].includes(E),d:E=>[P.APPROVED,P.UNMODERATED,P.REPORTED].includes(E),e:({moderationState:E,isSpamFilteredPost:R,isRemoved:D,isPromotedPost:e})=>(d(E,R)||!D)&&!e,f:({isPromotedPost:E})=>!E,h:E=>D(E)||e(E)||o(E)||M(E),i:E=>D(E)||e(E),s:(E,R,D,e)=>E===P.REMOVED&&!e&&!R&&!d(E,D)}}));
SML.dm("FDsJDUC0",["DSWSCRFk","DAgRafdt"],(async(e,t)=>{const a="plain",n="plain-weak",s="secondary",r="bordered",l="media",m="plain",o={[t.a2.ExtraSmall]:e.q.ExtraSmall,[t.a2.Small]:e.q.Small,[t.a2.Medium]:e.q.Medium,[t.a2.Large]:e.q.Medium},d={xs:"px-sm",sm:"px-sm",md:"px-sm",lg:"px-xs"},i={xs:"text-12",sm:"text-12",md:"text-12",lg:"text-14"},c={xs:"var(--size-button-sm-h)",sm:"var(--size-button-sm-h)",md:"var(--size-button-md-h)",lg:"var(--size-button-md-h)"},u={xs:"var(--font-button-sm)",sm:"var(--font-button-sm)",md:"var(--font-button-sm)",lg:"var(--font-button-md)"},b={[a]:"button-plain",[n]:"button-plain-weak",[s]:"button-secondary",[r]:"button-bordered-cab",[l]:"button-media-cab"},p=e=>{const{attributes:t,size:a,appearance:n,selected:s}=e;return[t?.className||"",a?`${i[a]}`:"",b[n??m],s?"button-activated":"","inline-flex items-center"].join(" ")};return{A:b,B:c,I:o,c:({attributes:a,children:n,size:s=t.a2.Medium,selected:r,appearance:l=m,leadingIcon:o,screenReaderContent:i,role:b})=>{let x=`flex ${t.a5[s]}`;n&&o&&(x+=" me-[var(--rem6)]");const{html:E,createElement:$}=e.g(),v=E`<span class="flex items-center"> ${o?E`<span class="${x}">${o}</span>`:void 0} ${n?E`<span> ${n} </span>`:void 0} </span> ${i?E`<faceplate-screen-reader-content> ${i} </faceplate-screen-reader-content>`:""}`,f=a?.href,M="bordered"===l?"border-sm":"border-md";return $(null!=f?"a":"button",{...a,role:b??a?.role,style:`height: ${c[s]}; font: ${u[s]}`,className:`button ${M} ${p({appearance:l,size:s,attributes:a,selected:r})}\n       ${d[s]}\n      `,rpl:!0},v)},g:p}}));
SML.dm("CA4SrzzK",["DAgRafdt","OAEZpqSu"],(async(n,e)=>{var r;!function(n){n.Comment="t1",n.Profile="t2",n.Post="t3",n.Message="t4",n.Subreddit="t5",n.Trophy="t6"}(r||(r={}));const o=n=>{const e=n.split("_").shift();return Object.values(r).includes(e)?e:void 0},t=n=>o(n)===r.Comment,a=n=>o(n)===r.Post,i="new_awards";function c({thingId:n,awardId:e,groupId:r,subredditId:o,postId:i,pageType:c,paneName:u,position:s,recipientId:d,isAnonymous:_,hasMessage:l,awardPrice:w,topAwardIconUrl:f,animatedAwardIconUrls:m,reason:p,correlationId:b,postType:I,postScore:g,score:T,numberComments:E,referrerCorrelationId:M}){const v={new_award:{}};return e&&(v.new_award.id=e),r&&(v.new_award.group_id=r),d&&(v.new_award.recipient_id=d),null!=_&&(v.new_award.is_anonymous=_),null!=l&&(v.new_award.has_message=l),void 0!==w&&(v.new_award.listing_price=w),f&&(v.new_award.top_award_icon_url=f),m&&(v.new_award.animated_awards_ids=m),o&&(v.subreddit={id:o}),n&&(a(n)?v.post={id:n,type:I,score:T,number_comments:E}:t(n)&&(v.comment={id:n,score:T},i&&(v.post={id:i,type:I,score:g,number_comments:E}))),(c||u||s||p)&&(v.action_info={...c&&{page_type:c},...u&&{pane_name:u},...s&&{position:s},...p&&{reason:p}}),b&&(v.correlation_id=b),M&&(v.feed={referrer_correlation_id:M}),v}return{N:i,get T(){return r},a:function(e){return n.b({source:i,action:"view",noun:"leaderboard_tile"},c(e))},b:c,c:a,d:t,e:function(e){const r=n.hm();return n.b({source:i,action:"click",noun:"entry_point"},c({...e,pageType:n.l(),...r&&{referrerCorrelationId:r}}))},f:function(e){return n.b({source:i,action:"view",noun:"award_info"},c(e))},g:function(e){return n.b({source:i,action:"view",noun:"gold_info"},c(e))},h:function(e){return n.b({source:i,action:"click",noun:"overflow_menu"},c(e))},i:function(r){switch(!0){case e.cQ(r):return n.M.Award;case t(r):return n.M.Comment;case a(r):return n.M.Post;default:return null}},j:function(e){return n.b({source:i,action:"view",noun:"leaderboard"},c(e))},k:function(e){return n.b({source:i,action:"filter",noun:"leaderboard"},c(e))},l:function(e,r){return n.b({source:i,action:"click",noun:`leaderboard_${r}`},c(e))},m:function(e){return n.b({source:i,action:n.af.Click,noun:"confirm_award_option"},c(e))},n:function(e){return n.b({source:i,action:n.af.View,noun:"award_options_sheet"},c(e))},o,s:function(e){return n.b({source:i,action:n.af.Click,noun:"award_option"},c(e))},v:function(e,{isSuccessful:r}){const o=r?"completed_fe":"failed_fe";return n.b({source:i,action:"award_given",noun:o},c(e))}}}));
SML.dm("DkdYL6xx",["s1sP3jLz","DAgRafdt"],(async(a,o)=>{var r;!function(a){a.approve="approve",a.remove="remove",a.confirmRemoval="confirm_removal"}(r||(r={}));const t={[a.M.ApproveContent]:r.approve,[a.M.ConfirmRemoval]:r.confirmRemoval,[a.M.RemoveContent]:r.remove};let e=o.r;return{get A(){return r},M:class{async modBulkApprove(a){const{data:r}=await e({operation:o.O.ModBulkApprove,variables:{input:{ids:a}}});return r.modApproveBulk}async modBulkRemove(a,r=!1){const{data:t}=await e({operation:o.O.ModBulkRemove,variables:{input:{ids:a,isSpam:r}}});return t.modRemoveBulk}async modBulkRemoveAsSpam(a){const{data:r}=await e({operation:o.O.ModBulkRemove,variables:{input:{ids:a,isSpam:!0}}});return r.modRemoveBulk}async modBulkIgnore(a){const{data:r}=await e({operation:o.O.ModBulkIgnore,variables:{input:{ids:a}}});return r.modIgnoreBulk}async modBulkLock(a){const{data:r}=await e({operation:o.O.ModBulkLock,variables:{input:{ids:a}}});return r.modLockBulk}async modBulkMarkNSFW(a){const{data:r}=await e({operation:o.O.ModBulkMarkNSFW,variables:{input:{ids:a}}});return r.modMarkNsfwBulk}async modBulkMarkSpoiler(a){const{data:r}=await e({operation:o.O.ModBulkMarkSpoiler,variables:{input:{ids:a}}});return r.modMarkSpoilerBulk}async modBulkUnignore(a){const{data:r}=await e({operation:o.O.ModBulkUnignore,variables:{input:{ids:a}}});return r.modUnignoreBulk}async modBulkUnlock(a){const{data:r}=await e({operation:o.O.ModBulkUnlock,variables:{input:{ids:a}}});return r.modUnlockBulk}async modBulkUnmarkNSFW(a){const{data:r}=await e({operation:o.O.ModBulkUnmarkNSFW,variables:{input:{ids:a}}});return r.modUnmarkNsfwBulk}async modBulkUnmarkSpoiler(a){const{data:r}=await e({operation:o.O.ModBulkUnmarkSpoiler,variables:{input:{ids:a}}});return r.modUnmarkSpoilerBulk}async modBulkUpdatePostFlair(a,r,t,n){const{data:i}=await e({operation:o.O.ModBulkUpdatePostFlair,variables:{input:{postIds:a,cssClassId:r,flairTemplateId:t,text:n}}});return i.modUpdatePostFlairBulk}},S:t}}));
SML.dm("D1t4sUi7",["CA4SrzzK","DAgRafdt","DkdYL6xx","ANc6hYHB","BHN2zcRJ"],(async(t,E,T,a,e)=>({g:function(t){return t.closest("[mod-tools-host]")},p:function(o,n,S){switch(t.i(o)){case E.M.Award:n in T.S&&E.p(E.T.AwardOnContentUpdated,{awardOnContentId:o,action:T.S[n],value:S});break;case E.M.Comment:n in a.S&&E.p(E.T.CommentUpdated,{commentId:o,action:a.S[n],value:S});break;case E.M.Post:(e.P.includes(n)||n in e.S)&&E.p(E.T.PostUpdated,{postId:o,action:e.S[n],value:S});break}}})));
SML.dm("DgPnIlBs",["DSWSCRFk","DAgRafdt","ANc6hYHB","s1sP3jLz","BHN2zcRJ","CgIWqP9n","FDsJDUC0","OAEZpqSu","CA4SrzzK","D1t4sUi7","BWRmaaMs"],(async(t,e,a,i,s,o,n,r,d,l)=>{let h=class extends t.s{constructor(){super(...arguments),this.buttonAppearance="secondary",this.buttonSize=e.a2.Small,this.showFullButtons=!1,this.screeenReaderContent="",this.thingId="",this.smartEscalationsTracking=!1,this.isLargerThanSmallWindow=!0,this._handleModActionClick=t=>{this.dataModAction===i.M.AddRemovalReason&&t.stopPropagation(),this.dataModAction&&(this.dispatchEvent(e.c(this.dataModAction)),t.target&&this.noun&&e.a(t.target,e.b({source:"moderator",action:"click",noun:this.noun})))},this.mediaWatcher=null,this.handleMediaChange=t=>{this.isLargerThanSmallWindow=t.matches},this.renderWithTooltip=()=>t.x`<faceplate-tooltip appearance="inverted" position="top"> ${this.renderButton()} <slot name="text"></slot> </faceplate-tooltip>`,this.renderButton=()=>{const a=r.a8()?n.c:e.J,i=this.smartEscalationsTracking?t.x`<ac-track trigger="click" target="prev" san="moderator|click|remove" data-faceplate-tracking-context="${JSON.stringify({action_info:{source_name:"smart-escalations"},...(this.thingId&&d.c(this.thingId) && {post:{id:this.thingId}}),...(this.thingId&&d.d(this.thingId) && {comment:{id:this.thingId}})})}"></ac-track>`:"";return t.x`${a({appearance:this.buttonAppearance,attributes:{onclick:this._handleModActionClick,className:"relative",slot:"trigger","aria-label":this.screeenReaderContent},size:this.buttonSize,children:this.showFullButtons&&this.isLargerThanSmallWindow?t.x` <span> ${i} <slot name="text"></slot> </span> `:"",leadingIcon:this.showFullButtons&&this.isLargerThanSmallWindow?"":t.x` <span class="flex justify-center items-center"> <slot name="icon"></slot> </span> `})} ${i}`}}connectedCallback(){super.connectedCallback(),this.showFullButtons&&(this.mediaWatcher=window.matchMedia("(min-width: 768px)"),this.mediaWatcher.addEventListener("change",this.handleMediaChange))}disconnectedCallback(){super.disconnectedCallback(),this.mediaWatcher?.removeEventListener("change",this.handleMediaChange)}render(){return this.showFullButtons?this.renderButton():this.renderWithTooltip()}};h.styles=[e.t],t._([t.n({type:String,attribute:"data-mod-action"})],h.prototype,"dataModAction",void 0),t._([t.n({type:String,attribute:"event-noun"})],h.prototype,"noun",void 0),t._([t.n({type:String,attribute:"button-appearance"})],h.prototype,"buttonAppearance",void 0),t._([t.n({type:String,attribute:"button-size"})],h.prototype,"buttonSize",void 0),t._([t.n({type:Boolean,attribute:"show-full-buttons"})],h.prototype,"showFullButtons",void 0),t._([t.n({type:String,attribute:"screen-reader-content"})],h.prototype,"screeenReaderContent",void 0),t._([t.n({type:String,attribute:"thing-id"})],h.prototype,"thingId",void 0),t._([t.n({type:Boolean,attribute:"smart-escalations-tracking"})],h.prototype,"smartEscalationsTracking",void 0),t._([t.b()],h.prototype,"isLargerThanSmallWindow",void 0),h=t._([t.c("mod-action-button")],h);let c=class extends t.s{constructor(){super(...arguments),this.iconOnly=!1,this.pubsub=new e.f(this),this.handleCommentUpdate=({commentId:t,action:e,value:i})=>{if(t===this.thingId)switch(e){case a.C.addRemovalReason:this.hasRemovalReason=Boolean(i);break;case a.C.approve:case a.C.approveOptimistic:this.hasRemovalReason=!0,this.isRemoved=!1;break;case a.C.remove:case a.C.removeAsSpam:case a.C.removeOptimistic:case a.C.removeAsSpamOptimistic:case a.C.confirmRemovalOptimistic:this.hasRemovalReason=!1,this.isRemoved=!0}},this.handlePostUpdate=({postId:t,action:e,value:a})=>{if(t===this.thingId)switch(e){case s.a.addRemovalReason:this.hasRemovalReason=Boolean(a);break;case s.a.approve:case s.a.approveOptimistic:this.hasRemovalReason=!0,this.isRemoved=!1;break;case s.a.remove:case s.a.removeAsSpam:case s.a.removeOptimistic:case s.a.removeAsSpamOptimistic:case s.a.confirmRemovalOptimistic:this.isRemoved=!0,this.hasRemovalReason=!1}},this.updateModVerdict=t=>{const e=this.closest('[slot="mod-verdict"]');t&&this.isRemoved?e?.setAttribute("show-removal-reason-cta",""):e?.removeAttribute("show-removal-reason-cta")},this.shouldShowCta=()=>{const t=this.isRemoved?o.M.REMOVED:o.M.UNMODERATED;return o.s(t,!!this.hasRemovalReason,!!this.isContentSpamFilteredPost,this.isProfilePost)}}connectedCallback(){super.connectedCallback();const t=l.g(this);this.resizeObserver=new ResizeObserver((t=>{for(const e of t)e.contentRect.width<500?this.iconOnly=!0:this.iconOnly=!1})),t&&this.resizeObserver.observe(t),this.pubsub.subscribe(e.T.CommentUpdated,this.handleCommentUpdate),this.pubsub.subscribe(e.T.PostUpdated,this.handlePostUpdate),this.updateModVerdict(!this.hasRemovalReason)}disconnectedCallback(){super.disconnectedCallback();const t=l.g(this);t&&this.resizeObserver.unobserve(t),this.resizeObserver.disconnect()}updated(t){super.updated(t),t.has("hasRemovalReason")&&this.updateModVerdict(!this.hasRemovalReason)}render(){return this.hasRemovalReason||!this.shouldShowCta()?t.A:t.x` <mod-action-button screen-reader-content="${"Add removal reason"}" data-mod-action="${i.M.AddRemovalReason}" button-appearance="secondary" ?show-full-buttons="${!0}"> <span slot="icon" class="flex justify-center"> ${t.ap({attributes:{"aria-hidden":"true"},size:t.I.Small})} </span> <span slot="text" class="flex"> ${this.iconOnly?t.ap({attributes:{"aria-hidden":"true"},size:t.I.Small}):"Add removal reason"} </span> </mod-action-button> `;}};c.styles=[e.t],t._([t.n({type:String,attribute:"thing-id"})],c.prototype,"thingId",void 0),t._([t.n({type:Boolean,attribute:"has-removal-reason"})],c.prototype,"hasRemovalReason",void 0),t._([t.b()],c.prototype,"iconOnly",void 0),t._([t.n({type:Boolean,attribute:"is-removed"})],c.prototype,"isRemoved",void 0),t._([t.n({type:Boolean,attribute:"is-content-spam-filtered-post"})],c.prototype,"isContentSpamFilteredPost",void 0),t._([t.n({type:Boolean,attribute:"is-profile-post"})],c.prototype,"isProfilePost",void 0),c=t._([t.c("responsive-add-removal-reason-cta")],c)}));
SML.dm("DBmDcARJ",["DSWSCRFk"],(async a=>{const{svg:t}=a.g();return{t:a.w(t`<path d="M16.316 3.684V8.61c0 .627-.26 1.236-.712 1.671l-6.44 6.183a1.612 1.612 0 01-1.127.456c-.433 0-.839-.168-1.145-.474L3.52 13.073a1.626 1.626 0 01-.018-2.271l6.215-6.413a2.327 2.327 0 011.663-.704l4.937-.001zM16.85 2h-5.47a4 4 0 00-2.873 1.216L2.292 9.629a3.304 3.304 0 00.036 4.634l3.373 3.373c.644.644 1.49.967 2.335.967.828 0 1.657-.31 2.297-.93l6.436-6.178A3.998 3.998 0 0018 8.609V3.15A1.15 1.15 0 0016.85 2zM13 8.75a1.75 1.75 0 10.001-3.499 1.75 1.75 0 000 3.499z"></path>`,"0 0 20 20","tag")}}));
SML.dm("gxmLFmZN",["DSWSCRFk","DBmDcARJ"],(async(t,a)=>{const{svg:E}=t.g(),T=t.w(E`<path d="M16.85 2h-5.47c-1.08 0-2.12.44-2.87 1.22L2.3 9.63a3.29 3.29 0 00.04 4.63l3.37 3.37a3.299 3.299 0 004.63.04l6.44-6.18c.79-.75 1.23-1.8 1.23-2.89V3.15c0-.64-.51-1.15-1.15-1.15h-.01zM13 8.75c-.97 0-1.75-.78-1.75-1.75s.78-1.75 1.75-1.75 1.75.78 1.75 1.75-.78 1.75-1.75 1.75z"></path>`,"0 0 20 20","tag-fill");var e=t.aA("tag-outline",a.t);return{get a(){return e},t:T}}));
SML.dm("DFWBK-TR",["DSWSCRFk","DjoKwtwQ"],(async(a,l)=>{const{svg:c}=a.g(),t=a.w(c`<g clip-path="url(#a)"><path d="M4.91 13h3.6c.83-2.68 3.27-4.65 6.18-4.78l-.47-.72 2.56-3.86c.47-.7-.04-1.64-.88-1.64H4C2.03 2 .59 3.87 1.1 5.78l3.31 12.3a.906.906 0 001.1.64.9.9 0 00.64-1.1l-1.24-4.61V13z"></path><path d="M15 10c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5zm3.2 5c0 .55-.15 1.07-.4 1.52l-4.32-4.32c.46-.25.97-.4 1.52-.4 1.76 0 3.2 1.44 3.2 3.2zm-6.4 0c0-.55.15-1.07.4-1.52l4.32 4.32c-.46.25-.97.4-1.52.4a3.21 3.21 0 01-3.2-3.2z"></path></g><defs><clipPath id="a"><path d="M0 0h20v20H0z"></path></clipPath></defs>`,"0 0 20 20","ignore-reports-fill"),{svg:e}=a.g(),h=a.w(e`<path d="M6.149 17.615a.9.9 0 11-1.738.466L3.04 13 1.105 5.777a3 3 0 012.898-3.776h11.885c.843 0 1.347.938.881 1.641l-2.557 3.859.475.716a6.795 6.795 0 00-1.916.367l-.718-1.083 2.452-3.7H4.002c-.515 0-.817.294-.952.47-.135.175-.34.544-.207 1.041l1.578 5.889h4.943a6.76 6.76 0 00-.862 1.8H4.906l1.243 4.614zM20 15a5 5 0 11-10.001-.001A5 5 0 0120 15zm-5-3.2c-.554 0-1.068.154-1.523.404l4.32 4.32A3.16 3.16 0 0018.201 15c0-1.765-1.436-3.2-3.2-3.2H15zm0 6.4a3.16 3.16 0 001.524-.404l-4.32-4.32A3.16 3.16 0 0011.8 15c0 1.764 1.436 3.2 3.2 3.2z"></path>`,"0 0 20 20","ignore-reports"),{svg:p}=a.g(),M=a.w(p`<path d="M12.227 2.8a1.812 1.812 0 011.289.534l3.15 3.15a1.81 1.81 0 01.534 1.289v4.454a1.811 1.811 0 01-.534 1.289l-3.15 3.15a1.81 1.81 0 01-1.289.534H7.773a1.811 1.811 0 01-1.289-.534l-3.15-3.15a1.812 1.812 0 01-.534-1.289V7.773a1.812 1.812 0 01.534-1.289l3.15-3.15A1.812 1.812 0 017.773 2.8h4.454zm0-1.8H7.773c-.96 0-1.882.382-2.562 1.061l-3.15 3.15A3.624 3.624 0 001 7.773v4.454c0 .96.382 1.882 1.061 2.562l3.15 3.15A3.624 3.624 0 007.773 19h4.454c.96 0 1.882-.382 2.562-1.061l3.15-3.15A3.624 3.624 0 0019 12.227V7.773c0-.96-.382-1.882-1.061-2.562l-3.15-3.15A3.624 3.624 0 0012.227 1zM9.389 14.78a1.164 1.164 0 01-.437-.433 1.24 1.24 0 010-1.222c.105-.182.256-.334.437-.441a1.2 1.2 0 011.215 0c.182.106.334.258.44.441a1.24 1.24 0 010 1.222 1.159 1.159 0 01-.44.433c-.188.105-.4.16-.615.157a1.2 1.2 0 01-.6-.157zm-.164-3.363l-.252-6.354h2.082l-.255 6.354H9.225z"></path>`,"0 0 20 20","spam");return{H:new Set([l.P.SubredditFeed,l.P.CommentsPage,l.P.ModQueue,l.P.ModQueueAll,l.P.ModLog]),a:t,i:h,s:M}}));
SML.dm("CcBwwinu",["DSWSCRFk"],(async a=>{const{svg:h}=a.g();return{l:a.w(h`<path d="M15.995 8.168h-.429V6.61A5.573 5.573 0 0010 1.044 5.573 5.573 0 004.434 6.61v1.557h-.429A2.005 2.005 0 002 10.173v3.692a5.054 5.054 0 005.054 5.054h5.892A5.054 5.054 0 0018 13.865v-3.692a2.005 2.005 0 00-2.005-2.005zM6.233 6.61A3.771 3.771 0 0110 2.843a3.771 3.771 0 013.767 3.767v1.557H6.234V6.61h-.001zm9.967 7.254a3.258 3.258 0 01-3.254 3.254H7.054A3.258 3.258 0 013.8 13.864v-3.692c0-.113.092-.205.205-.205h11.991c.113 0 .205.092.205.205l-.001 3.692zm-7.1-1.676h1.8v2.809H9.1v-2.81z"></path>`,"0 0 20 20","lock")}}));
SML.dm("u2CQVEzy",["DSWSCRFk"],(async a=>{const{svg:c}=a.g();return{m:a.w(c`<path d="M10 2.827c2.188 0 4.322.584 6.2 1.694v5.893c0 3.198-4.681 5.661-6.2 6.376-1.517-.714-6.2-3.178-6.2-6.376V4.521A12.164 12.164 0 0110 2.827zm0-1.8c-2.791 0-5.388.821-7.572 2.226A.952.952 0 002 4.054v6.36c0 4.611 6.22 7.576 7.691 8.212.1.043.205.065.309.065a.783.783 0 00.309-.065C11.78 17.99 18 15.026 18 10.414v-6.36a.952.952 0 00-.428-.8A13.943 13.943 0 0010 1.026z"></path>`,"0 0 20 20","mod")}}));
SML.dm("Dl4VGxuI",["DSWSCRFk","DAgRafdt"],(async(r,a)=>{const n={Neutral:"neutral",Success:"success",Warning:"warning",Danger:"danger",Alert:"alert",Plain:"plain",Disabled:"disabled"};class o extends a.Y{constructor(){super(...arguments),this.appearance=n.Neutral,this.outline=!1,this._hasContent=!1}render(){return r.x`<span class="container"> <slot class="${a.x({"with-content":this._hasContent,"without-content":!this._hasContent})}" @slotchange="${r=>{this._hasContent=!!r.target.assignedNodes().length}}"></slot> </span>`}}r._([r.n({type:String,reflect:!0})],o.prototype,"appearance",void 0),r._([r.n({type:Boolean})],o.prototype,"outline",void 0),r._([r.b()],o.prototype,"_hasContent",void 0);var e=r.i`${a.X}:host{border-radius:var(--radius-full);display:inline-flex}.with-content{min-width:inherit;min-height:var(--size-md);display:inline-block}.without-content{width:inherit;height:var(--size-xs)}.container{font-weight:600;display:inline-block;font-size:var(--rem10);text-align:center;padding:0 var(--spacer-2xs);line-height:var(--rem16);min-width:var(--size-xs);min-height:var(--size-xs)}:host([outline]){border:solid var(--line-md) var(--color-neutral-background)}:host([appearance=warning]){background:var(--color-warning-background);color:var(--color-neutral-background)}:host([appearance=alert]){background:var(--color-global-orangered);color:var(--color-primary-onBackground)}:host([appearance=danger]){background:var(--color-danger-background);color:var(--color-primary-onBackground)}:host([appearance=success]){background:var(--color-success-background);color:var(--color-primary-onBackground)}:host([appearance=neutral]){background:var(--color-neutral-content);color:var(--color-neutral-background)}:host([appearance=plain]){background:var(--color-neutral-background);color:var(--color-neutral-content)}:host([appearance=disabled]){background:var(--color-interactive-content-disabled);color:var(--color-neutral-background)}`;let t=class extends o{};return t.styles=e,t=r._([r.c("rpl-badge")],t),{R:n}}));
SML.dm("pwr-4fHs",["DAgRafdt"],(async t=>{var e,i;!function(t){t.FocusSearchBar="focusSearchBar",t.RegisterAuth="registerAuth",t.UpvoteAuth="upvoteAuth"}(e||(e={})),function(t){t.Sort="sort",t.Filter="filter",t.EntityFilterId="entityFilterId",t.InlineRefresh="inline-refresh",t.SctTopLevelComment="sct-top-level-comment",t.ForceLegacySCT="force-legacy-sct"}(i||(i={}));const n=/(\.|\/\/)(reddit\.com|snoo\.dev|redditstatic\.com|redd\.it|redditmedia\.com)$/;class r extends t.aP{constructor(e,i){super(e),this.events=new t.E(this,(()=>this._host)),this.handleMouseClick=(t,e)=>{if(t.isLinkClickHandled)return;const i=t.composedPath();for(const n of i){if(!(n instanceof HTMLAnchorElement))continue;const i=n.getAttribute("href")||"";if(this.isOutboundUrl(i))return this.trackOutboundLinkClick(i,e),void(t.isLinkClickHandled=!0)}},this.events.define("click",(t=>{this.handleMouseClick(t,i())}))}isOutboundUrl(t){if(t.startsWith("/"))return!1;try{return null==new URL(t).origin.match(n)}catch(t){return!1}}trackOutboundLinkClick(e,i){t.a(this._host,this.outboundLinkClickEvent(e,i))}outboundLinkClickEvent(e,i){return t.b({source:"link",action:"click",noun:"outbound_link"},{outbound:{url:e},action_info:{page_type:i.pageType},...i.postId?{post:{id:i.postId}}:{},...i.subredditId?{subreddit:{id:i.subredditId}}:{},...i.commentId?{comment:{id:i.commentId}}:{}})}}return{get M(){return e},O:r,get P(){return i},R:"right-rail-entity-panel-root",S:"#subreddit-right-rail-tabs",a:"remove-flair",b:"pdp-chained-right-rail-related-posts",g:function(t){return`update-post-flair-modal-${t}`}}}));
SML.dm("D_8J9LrK",["DSWSCRFk","DAgRafdt","DDc9KuQK","DxvZ7Xss","alLlRaWG","Dnwr24bF","OAEZpqSu"],(async(t,a,e)=>{const i=t.s;let n=class extends i{constructor(){super(...arguments),this.hasRemovalReasonAdded=!1,this._feedbackSubmitted=!1,this._trackingContext={}}get reportKey(){return`post-guidance-feedback-${this.reportId}`}getShredditPostData(){const t=this.getRootNode();if(t instanceof ShadowRoot){const a=t.host;if(a&&"SHREDDIT-POST"===a.tagName)return{id:a.id,postTitle:a.getAttribute("post-title"),contentHref:a.getAttribute("content-href"),authorId:a.getAttribute("author-id")}}return null}connectedCallback(){super.connectedCallback(),this._feedbackSubmitted="true"===sessionStorage.getItem(this.reportKey);const t=this.getShredditPostData();t&&(this._trackingContext={action_info:{post_id:t.id,post_title:t.postTitle,post_url:t.contentHref,author_id:t.authorId}})}handleFeedbackSubmit(t){if(t.target&&t.target instanceof HTMLElement){const e=t.target.closest("button"),i="yes"===e?.value,n=a.b({source:"moderator",action:"click",noun:i?"filter_is_correct":"filter_is_incorrect",...this._trackingContext});a.a(this,n),this._feedbackSubmitted=!0,sessionStorage.setItem(this.reportKey,"true")}}handleFeedbackUndo(){this._feedbackSubmitted=!1;const t=a.b({source:"moderator",action:"click",noun:"undo_filter",...this._trackingContext});a.a(this,t),sessionStorage.removeItem(this.reportKey)}renderFeedbackForm(){return t.x`<div class="border border-solid border-neutral-border p-sm flex flex-col gap-xs rounded-2 flex-1"> <div class="text-14 w-full"> ${"Was this automation accurate?"} </div> <div class="flex gap-2xs"> ${a.J({children:"Yes",appearance:"bordered",attributes:{type:"button",onclick:this.handleFeedbackSubmit,value:"yes"}})} ${a.J({children:"No",appearance:"bordered",attributes:{type:"button",onclick:this.handleFeedbackSubmit,value:"no"}})} </div> </div>`;}renderFeedbackSubmitted(){return t.x` <div class="border border-solid border-neutral-border p-sm flex flex-row gap-xs rounded-2 flex-1 items-center"> <div class="text-14 w-full"> ${"Got it. You helped train your automation."} </div> <faceplate-dropdown-menu id="post-guidance-feedback-dropdown-menu"> ${a.J({appearance:"plain",attributes:{type:"button"},leadingIcon:t.aE({size:t.I.ExtraSmall}),screenReaderContent:"More options"})} <faceplate-menu slot="menu" dropdown> ${e.l({label:"Undo",attributes:{role:"option",onclick:this.handleFeedbackUndo}})} </faceplate-menu> </faceplate-dropdown-menu> </div>`;}renderRemovalReasonAdded(){return t.x`<div class="border border-solid border-neutral-border p-sm flex flex-row gap-xs rounded-2 flex-1 items-center"> <div class="text-14 w-full"> ${"Your removal reason helped train your automation."} </div> </div>`;}render(){return this.hasRemovalReasonAdded?this.renderRemovalReasonAdded():this._feedbackSubmitted?this.renderFeedbackSubmitted():this.renderFeedbackForm()}};n.styles=[a.t],t._([t.n({type:String,attribute:"report-id"})],n.prototype,"reportId",void 0),t._([t.n({type:Boolean,attribute:"has-removal-reason-added"})],n.prototype,"hasRemovalReasonAdded",void 0),t._([t.b()],n.prototype,"_feedbackSubmitted",void 0),n=t._([t.c("post-guidance-feedback")],n)}));
SML.dm("Bt3zFHSO",["DAgRafdt","C-AymPzu","C3p34GtE","OAEZpqSu","CA4SrzzK","D1t4sUi7","s1sP3jLz","pwr-4fHs","DkdYL6xx","D_8J9LrK","DSWSCRFk","BQbyLE0C","B_Z23SiP","ANc6hYHB","BHN2zcRJ","DjoKwtwQ","BY0sdjRu","DvsbXjsy","C9Y39_ZO","Vy1IDB19","BVLgyhDE","zYHiKPTa","alLlRaWG","DxvZ7Xss","Dnwr24bF","B8bCssFV","DOyzSNfA","BjRhnMPP","CSE2B15f","BP7JtdRP","Dj1DJbmt","em8GmEry","mLeBs957","DdIwQUSk","DDc9KuQK"],(async(e,a,r,n,t,o,i,s,l)=>{const m=(a,r,n)=>{const t=n===e.M.Post;switch(a){case i.M.MarkSpoiler:return r?t?"Post has been marked spoiler.":"Comment has been marked spoiler.":t?"There was an error marking the post spoiler. Please try again.":"There was an error marking the comment spoiler. Please try again.";case i.M.UnmarkSpoiler:return r?t?"Post has been unmarked spoiler.":"Comment has been unmarked spoiler.":"There was an error unmarking the post spoiler. Please try again.";case i.M.MarkNsfw:return r?t?"Post has been marked nsfw.":"Comment has been marked nsfw.":t?"There was an error marking the post nsfw. Please try again.":"There was an error marking the comment nsfw. Please try again.";case i.M.UnmarkNsfw:return r?t?"Post has been unmarked nsfw.":"Comment has been unmarked nsfw.":"There was an error unmarking the post nsfw. Please try again.";case i.M.IgnoreReports:return r?t?"Reports ignored and post approved.":"Reports ignored and comment approved.":t?"There was an error ignoring the post's reports. Please try again.":"There was an error ignoring the comment's reports. Please try again.";case i.M.UnignoreReports:return r?t?"Reports unignored.":"Reports successfully restored.":t?"There was an error unignoring the post's reports. Please try again.":"There was an error unignoring the comment's reports. Please try again.";case i.M.Distinguish:return r?t?"Post is marked as distinguished.":"Comment is marked as distinguished.":t?"There was an error distinguishing the post. Please try again.":"There was an error distinguishing the comment. Please try again.";case i.M.Undistinguish:return r?t?"Post is marked as undistinguished.":"Comment is marked as undistinguished.":t?"There was an error undistinguishing the post. Please try again.":"There was an error undistinguishing the comment. Please try again.";case i.M.Sticky:return r?t?"Post has been stickied.":"Comment has been stickied.":t?"There was an error stickying the post. Please try again.":"There was an error stickying the comment. Please try again.";case i.M.Unsticky:return r?t?"Post has been unstickied.":"Comment has been unstickied.":t?"There was an error unstickying the post. Please try again.":"There was an error unstickying the comment. Please try again.";case i.M.Lock:return r?t?"Post has been locked.":"Comment has been locked.":t?"There was an error locking the post. Please try again.":"There was an error locking the comment. Please try again.";case i.M.Unlock:return r?t?"Post has been unlocked.":"Comment has been unlocked.":t?"There was an error unlocking the post. Please try again.":"There was an error unlocking the comment. Please try again.";case i.M.ApproveContent:if(r)switch(n){case e.M.Award:return "Award approved.";case e.M.Comment:return "Comment approved.";case e.M.Post:return "Post approved.";default:return""}switch(n){case e.M.Award:return "There was an error approving the award. Please try again.";case e.M.Comment:return "There was an error approving the comment. Please try again.";case e.M.Post:return "There was an error approving the post. Please try again.";default:return""}case i.M.ConfirmRemoval:case i.M.RemoveContent:if(r)switch(n){case e.M.Award:return "Award removed.";case e.M.Comment:return "Comment removed.";case e.M.Post:return "Post removed.";default:return""}switch(n){case e.M.Award:return "There was an error removing the award. Please try again.";case e.M.Comment:return "There was an error removing the comment. Please try again.";case e.M.Post:return "There was an error removing the post. Please try again.";default:return""}case i.A.Distinguish:return r?t?"Post is marked as distinguished as admin.":"Comment is marked as distinguished as admin.":t?"There was an error distinguishing the post as admin. Please try again.":"There was an error distinguishing the comment as admin. Please try again.";case i.A.Undistinguish:return r?t?"Post is marked as undistinguished as admin.":"Comment is marked as undistinguished as admin.":t?"There was an error undistinguishing the post as admin. Please try again.":"There was an error undistinguishing the comment as admin. Please try again.";case i.M.RemoveHighlightedPost:return r?"Highlight removed":"There was an error removing the post from community highlights. Please try again.";default:return""}};return {ModActionsController:class{constructor(n,{getThingIdFn:t,focusChatTextareaFn:m}){this.publishEvent=(e,a)=>{o.p(this._getThingId(),e,a)},this.modActionMenuClickEvent=a=>{let r="",n="";switch(this.itemType){case e.M.Award:r="awardOnContentId",n="award";break;case e.M.Comment:r="commentId",n="comment";break;case e.M.Post:default:r="postId",n="post"}return e.b({source:"moderator",action:"click",noun:a},{[r]:this._getThingId(),[n]:{id:this._getThingId()},action_info:{reason:this.modPartialPath}})},this._getHandleReportToggle=r=>async()=>{const n=r===i.M.IgnoreReports,t=n?a.p:a.c,o=n?a.d:a.e;e.a(this._host,this.isPost?t():o());try{const e=[this._getThingId()],a=await(n?this.modBulkActions.modBulkIgnore(e):this.modBulkActions.modBulkUnignore(e));if(!a?.ok)throw new Error("Operation failed");return this.publishEvent(r,n),this.showSuccessToast(r),n}catch{return this.showErrorToast(r),!n}},this._getHandleDistinguishToggle=a=>async()=>{const r=a===i.M.Distinguish,n=r?"distinguish_as_mod":"undistinguish_as_mod";e.a(this._host,this.modActionMenuClickEvent(n));let t=!0;this.publishEvent(a,r);try{const n=await this.updateDistinguishState(r?e.gh.ModDistinguished:e.gh.None);if(!n?.ok)throw new Error("Operation failed");this.showSuccessToast(a)}catch{this.publishEvent(a,!r),this.showErrorToast(a),t=!1}return this._host.requestUpdate(),t?r:!r},this._getHandleStickyToggle=a=>async()=>{const r=a===i.M.Sticky,n=r?"sticky":"unsticky";e.a(this._host,this.modActionMenuClickEvent(n));let t=!0;this.publishEvent(a,r);try{const e=await this.updateStickyState(r);if(!e?.ok)throw new Error("Operation failed");this.showSuccessToast(a)}catch{this.publishEvent(a,!r),this.showErrorToast(a),t=!1}return this._host.requestUpdate(),t?r:!r},this._getHandleLockedToggle=a=>async()=>{const r=a===i.M.Lock,n=r?"lock":"unlock";e.a(this._host,this.modActionMenuClickEvent(n));let t=!0;this.publishEvent(a,r);try{let n;if(this.isPost){const e=[this._getThingId()];n=await(r?this.modBulkActions.modBulkLock(e):this.modBulkActions.modBulkUnlock(e))}else n=await this.updateLockedState(r?e.hU.Locked:e.hU.None);if(!n?.ok)throw new Error("Operation failed");this.showSuccessToast(a)}catch{this.publishEvent(a,!r),this.showErrorToast(a),t=!1}return this._host.requestUpdate(),t?r:!r},this._getHandleMarkNsfwToggle=a=>async()=>{let r=!0;const n=a===i.M.MarkNsfw;if(!this.isPost)return!n;const t=n?"mark_nsfw":"unmark_nsfw";e.a(this._host,this.modActionMenuClickEvent(t));const o=[this._getThingId()],s=await(n?this.modBulkActions.modBulkMarkNSFW(o):this.modBulkActions.modBulkUnmarkNSFW(o));return s?.ok?(this.showSuccessToast(a),this.publishEvent("isPostNsfw",n)):(this.showErrorToast(a),r=!1),this._host.requestUpdate(),r?n:!n},this._getHandleMarkSpoilerToggle=a=>async()=>{let r=!0;const n=a===i.M.MarkSpoiler;if(!this.isPost)return!n;const t=n?"mark_spoiler":"unmark_spoiler";e.a(this._host,this.modActionMenuClickEvent(t));const o=[this._getThingId()],s=await(n?this.modBulkActions.modBulkMarkSpoiler(o):this.modBulkActions.modBulkUnmarkSpoiler(o));return s?.ok?(this.showSuccessToast(a),this.publishEvent("isPostSpoiler",n)):(this.showErrorToast(a),r=!1),this._host.requestUpdate(),r?n:!n},this.handleApproveContentOptimistic=()=>{this.publishEvent(i.M.ApproveContentOptimistic,!0)},this._getHandleModApproval=a=>async()=>{this.handleApproveContentOptimistic(),e.a(this._host,this.modActionMenuClickEvent("approve"));try{const e=await this.modBulkActions.modBulkApprove([this._getThingId()]);return e?.ok?(this.publishEvent(a,!0),this._resetAddRemovalReasonForm(),!0):(this.showErrorToast(a),!1)}catch{return this.showErrorToast(a),!1}},this._getShareToModChat=e=>async e=>(await this._focusChatTextarea(),!0),this._getViewChatThread=e=>async e=>(await this._focusChatTextarea(!0),!0),this.handleRemoveContentOptimistic=()=>{this.publishEvent(i.M.RemoveContentOptimistic,!0)},this.handleRemoveContentAsSpamOptimistic=()=>{this.publishEvent(i.M.RemoveContentAsSpamOptimistic,!0)},this.handleConfirmRemovalOptimistic=()=>{this.publishEvent(i.M.ConfirmRemovalOptimistic,!0)},this._getHandleModRemoval=a=>async()=>{switch(a){case i.M.RemoveContent:this.handleRemoveContentOptimistic();break;case i.M.RemoveContentAsSpam:this.handleRemoveContentAsSpamOptimistic();break;case i.M.ConfirmRemoval:this.handleConfirmRemovalOptimistic()}const r=a===i.M.RemoveContentAsSpam;let n=a===i.M.ConfirmRemoval?"confirm_removal":"remove";a===i.M.RemoveContentAsSpam&&(n="spam"),e.a(this._host,this.modActionMenuClickEvent(n));try{const e=await this.modBulkActions.modBulkRemove([this._getThingId()],r);return e?.ok?(this.publishEvent(a,!0),this.dispatchRequestReload(),!0):(this.showErrorToast(a),!1)}catch{return this.showErrorToast(a),!1}},this._getHandleOpenEditPostFlairModal=()=>async()=>{const a=this._getThingId();if(a){e.a(this._host,this.modActionMenuClickEvent("flair")),await this._activateFeature({name:e.hV,queryParams:{isLoggedin:!0,selectedIds:a},renderMode:e.P.Contents});const r=document.getElementById(s.g(a));r?.showModal()}},this._getHandleAddToHighlights=()=>async()=>{const a=this._getThingId();a&&(await this._activateFeature({name:e.gT,routeParams:{postId:a},renderMode:e.P.Contents}))},this._getHandleRemoveFromHighlights=()=>async()=>{const r=this._getThingId();if(r){this.publishEvent(i.M.RemoveHighlightedPost,!1);try{await this.removeHighlightedPost(r),this.showSuccessToast(i.M.RemoveHighlightedPost),e.a(this._host,a.u(r,e.l())),e.p(e.T.ReloadHighlights)}catch(e){this.showErrorToast(i.M.RemoveHighlightedPost),this.publishEvent(i.M.RemoveHighlightedPost,!0)}}},this._resetAddRemovalReasonForm=()=>{this._host.dispatchEvent(new r.A(""))},this.handleIgnoreReports=this._getHandleReportToggle(i.M.IgnoreReports),this.handleUnignoreReports=this._getHandleReportToggle(i.M.UnignoreReports),this.handleDistinguish=this._getHandleDistinguishToggle(i.M.Distinguish),this.handleUndistinguish=this._getHandleDistinguishToggle(i.M.Undistinguish),this.handleSticky=this._getHandleStickyToggle(i.M.Sticky),this.handleUnsticky=this._getHandleStickyToggle(i.M.Unsticky),this.handleUpdateHighlightedPost=this._getHandleAddToHighlights(),this.handleRemoveHighlightedPost=this._getHandleRemoveFromHighlights(),this.handleLock=this._getHandleLockedToggle(i.M.Lock),this.handleUnlock=this._getHandleLockedToggle(i.M.Unlock),this.handleMarkNsfw=this._getHandleMarkNsfwToggle(i.M.MarkNsfw),this.handleUnmarkNsfw=this._getHandleMarkNsfwToggle(i.M.UnmarkNsfw),this.handleMarkSpoiler=this._getHandleMarkSpoilerToggle(i.M.MarkSpoiler),this.handleUnmarkSpoiler=this._getHandleMarkSpoilerToggle(i.M.UnmarkSpoiler),this.handleConfirmRemoval=this._getHandleModRemoval(i.M.ConfirmRemoval),this.handleRemoveContent=this._getHandleModRemoval(i.M.RemoveContent),this.handleRemoveContentAsSpam=this._getHandleModRemoval(i.M.RemoveContentAsSpam),this.handleApproveContent=this._getHandleModApproval(i.M.ApproveContent),this.handleShareToModChat=this._getShareToModChat(i.M.ShareToModChat),this.handleViewChatThread=this._getViewChatThread(i.M.ViewChatThread),this.handleOpenEditPostFlairModal=this._getHandleOpenEditPostFlairModal(),this.handleSnoozeReporter=()=>{},this.handleUnsnoozeReporter=()=>{},this.handleAddRemovalReason=()=>{this._host.dispatchEvent(new r.A(this._getThingId())),e.a(this._host,this.modActionMenuClickEvent("add_removal_reason"))},this.handleAdjustCrowdControl=()=>{this._host.dispatchEvent(e.c(a.O,{postId:this._getThingId()}))},this.handleRemoveContentMenu=()=>this._getHandleModRemoval(i.M.RemoveContent)(),this._activateFeature=async a=>e.d(a),this._getThingId=t,this._host=n,this._focusChatTextarea=m??i.f,this.modBulkActions=new l.M,this._host?.addController(this)}get isPost(){return this.itemType===e.M.Post}get itemType(){return t.i(this._getThingId())}get modPartialPath(){switch(this.itemType){case e.M.Award:case e.M.Comment:case e.M.Post:return this.itemType.toLowerCase();default:return""}}hostConnected(){Object.keys(i.M).forEach((e=>{this._host.addEventListener(i.M[e],this[`handle${e}`])}))}hostDisconnected(){Object.keys(i.M).forEach((e=>{this._host.removeEventListener(i.M[e],this[`handle${e}`])}))}dispatchFaceplateAlertEvent(a,r,n=""){const t=e.c("faceplate-alert",{level:a,message:r,sourceElement:`modqueue-${this.itemType?.toLowerCase()}`,cause:n});this._host.dispatchEvent(t)}showSuccessToast(a){this.itemType&&this.dispatchFaceplateAlertEvent(e.I.success,m(a,!0,this.itemType),`success-${a}`)}showErrorToast(a){this.itemType&&this.dispatchFaceplateAlertEvent(e.I.error,m(a,!1,this.itemType),`failed-${a}`)}dispatchRequestReload(){this.itemType===e.M.Comment&&this._host.dispatchEvent(new CustomEvent("reload-shreddit-comment",{bubbles:!0,composed:!0}))}async updateDistinguishState(a){if(this.isPost){const r={input:{postId:this._getThingId(),distinguishType:a,distinguishState:a===e.gh.None?e.gk.None:e.gk.Distinguished}},{data:n}=await e.r({operation:e.O.UpdatePostDistinguishedState,variables:r});return n?.updatePostDistinguishState}{const r={input:{commentId:this._getThingId(),distinguishType:a,distinguishState:a===e.gh.None?e.hW.None:e.hW.Distinguished}},{data:n}=await e.r({operation:e.O.UpdateCommentDistinguishedState,variables:r});return n?.updateCommentDistinguishState}}async updateStickyState(a){if(this.isPost){const r={input:{postId:this._getThingId(),sticky:a,toProfile:!1}},{data:n}=await e.r({operation:e.O.UpdatePostStickyState,variables:r});return n?.updatePostStickyState}{const r={input:{commentId:this._getThingId(),sticky:a}},{data:n}=await e.r({operation:e.O.UpdateCommentStickyState,variables:r});return n?.updateCommentStickyState}}async updateLockedState(a){if(this.isPost){const r={input:{postId:this._getThingId(),lockedState:a}},{data:n}=await e.r({operation:e.O.UpdatePostLockedState,variables:r});return n?.updatePostLockedState}{const r={input:{commentId:this._getThingId(),lockedState:a}},{data:n}=await e.r({operation:e.O.UpdateCommentLockedState,variables:r});return n?.updateCommentLockedState}}async removeHighlightedPost(e){return n.cD({postId:e})}}};}));
SML.dm("CnL37q4H",["DAgRafdt","DSWSCRFk","CU4mObWU"],(async(t,e,i)=>{const s="var(--bottom-sheet-max-height)";let o=class extends e.s{constructor(){super(...arguments),this.open=!1,this.blocking=!1,this.docked=!1,this.focusManager=new t.ap(this,this),this.inFocusTrap=!1,this._isModal=!1,this._isExpanded=!1,this._isExpandable=!1,this._isDockable=!1,this._gesture=new i.T(this,{mouseSupport:!1}),this._cachedHeight="auto",this._dockedHeight="auto",this._cachedHeightAtTouchStartPx=0,this._rafID=null,this._mutationObserver=void 0,this.show=t=>{this._isModal=!1,this._isExpanded=(t&&"expanded"in t&&t.expanded)??!1,this._isExpandable=t?.expandable??!1,this._isDockable=t?.dockable??!1,this.open=!0,this._isExpandable&&(this._gesture.on("panstart",this._onTouchStart),this._gesture.on("panmove",this._onTouchMove),this._gesture.on("panend",this._onTouchEnd)),this._isExpanded?this._content.style.height=s:""!==this._content.style.height&&"auto"!==this._content.style.height||(this._cachedHeight=this._content.clientHeight+"px",this._content.style.height=this._cachedHeight),this._dockedHeight=this._headerElements[0]?this._headerElements[0].clientHeight-1+"px":"auto",this._mutationObserver||this._connectMutationObserver()},this.showModal=e=>{if(this.open)throw new Error('The element already has an "open" attribute, and therefore cannot be opened modally');t.g6.add(this),this.show(e),this._isModal=!0,t.gI.add(this)},this.close=()=>{const e=t.c("faceplate-close");this.dispatchEvent(e),e.defaultPrevented||(this.open=!1,this._isExpanded=!1,this.inFocusTrap&&(t.gI.remove(this),t.g6.remove(this)),this._isExpandable&&(this._gesture.off("panstart",this._onTouchStart),this._gesture.off("panmove",this._onTouchMove),this._gesture.off("panend",this._onTouchEnd)),this._content.style.height=this._cachedHeight)},this.expand=()=>{if(this.open&&this._isExpandable&&!this._isExpanded){const e=t.c("faceplate-expand");if(this.dispatchEvent(e),e.defaultPrevented)return;this._cancelRAF(),this._content.style.height=s,this.docked=!1,this._isExpanded=!0}},this.collapse=()=>{if(this.open&&this._isExpandable&&this._isExpanded){const e=t.c("faceplate-collapse");if(this.dispatchEvent(e),e.defaultPrevented)return;this._cancelRAF(),this._content.style.height=this._cachedHeight,this.docked=!1,this._isExpanded=!1}},this.dock=()=>{if(!this.open||!this._isDockable||this.docked)return;const e=t.c("faceplate-dock");this.dispatchEvent(e),e.defaultPrevented||(this._cancelRAF(),this._content.style.height=this._dockedHeight,this.docked=!0)},this.undock=()=>{if(!this.open||!this._isDockable||!this.docked)return;const e=this._isExpandable&&this._isExpanded?s:this._cachedHeight,i=t.c("faceplate-undock");this.dispatchEvent(i),i.defaultPrevented||(this._cancelRAF(),this._content.style.height=e,this.docked=!1)},this.recalculateCachedHeight=()=>{const e=this._cachedHeight;this._content.style.height="auto";const i=this._content.clientHeight+"px";this._cachedHeight=i,this._isDockable&&this.docked?this._content.style.height=this._dockedHeight:this._isExpandable&&this._isExpanded?this._content.style.height=s:(this._content.style.height=e,window.requestAnimationFrame((()=>{this._content.style.height=i,this._cancelRAF()})));const o=t.c("__TEST-ONLY_bottom-sheet-recalculation",{cachedHeight:this._cachedHeight,dockedHeight:this._dockedHeight,expandedHeight:s});this.dispatchEvent(o)},this._onTouchStart=()=>{this._cancelRAF(),this._content.style.transitionDuration="0ms",this._cachedHeightAtTouchStartPx=this._content.clientHeight},this._onTouchMove=()=>{this._cancelRAF(),this._isExpanded&&(this._gesture.touchMoveY??0)<=0||(this._rafID=window.requestAnimationFrame((()=>{null!=this._gesture.touchMoveY&&(this._content.style.height=this._cachedHeightAtTouchStartPx-this._gesture.touchMoveY+"px")})))},this._onTouchEnd=()=>{if(this._cancelRAF(),this._content.style.transitionDuration="300ms",!this.open||null==this._gesture.touchMoveY)return;const t=this._gesture.touchMoveY>=this._gesture.thresholdY,e=this._gesture.touchMoveY<=-this._gesture.thresholdY;t?this._isExpanded?this.collapse():this._closeIfNotBlocked():e?this._isExpanded||this.expand():this._isExpanded?this._content.style.height=s:this._content.style.height=this._cachedHeight},this._cancelRAF=()=>{this._rafID&&(window.cancelAnimationFrame(this._rafID),this._rafID=null)},this._renderHandle=()=>this._isExpandable?e.x`<div id="handle" class="${this._isModal?"out":"in"}"></div>`:null,this._handleBackDropKeyUp=t=>{"Enter"===t.key&&this._closeIfNotBlocked()},this._closeIfNotBlocked=()=>{this.blocking||this.close()},this.render=()=>e.x` <div id="backdrop" part="backdrop" class="${this._isModal&&this.open?"blocker":""}" @click="${this._closeIfNotBlocked}" @keyup="${this._handleBackDropKeyUp}"></div> <div id="content" part="content" role="${e.l(this.open?"dialog":void 0)}" aria-label="${e.l(this.label??void 0)}" aria-modal="${e.l(this.open&&this._isModal?"true":void 0)}"> ${this._renderHandle()} <slot name="header"></slot> <slot></slot> </div> `}static get styles(){return e.i`:host{--bottom-sheet-max-height:85vh}@supports (height:95dvh){:host{--bottom-sheet-max-height:95dvh}}:host{position:fixed;bottom:0;inset-inline-start:0;opacity:0;transition-duration:.3s;transition-property:visibility,opacity;transition-timing-function:ease;visibility:hidden;pointer-events:none}:host([open]){opacity:1;z-index:2;visibility:visible}:host([open])>#content{pointer-events:auto;transform:translateY(0)}:host>#backdrop{position:fixed;--backdrop-position-value:-100%;inset-inline:var(--backdrop-position-value) var(--backdrop-position-value);top:var(--backdrop-position-value);bottom:var(--backdrop-position-value)}:host>#backdrop.blocker{background:var(--color-scrim);pointer-events:auto}:host>#content{align-items:center;background:var(--color-ui-modalbackground);bottom:0;border-start-start-radius:var(--rem12);border-start-end-radius:var(--rem12);box-shadow:var(--boxshadow-modal);box-sizing:border-box;display:flex;flex-direction:column;inset-inline-start:0;position:fixed;touch-action:none;transform:translateY(100%);transition-duration:.3s;transition-property:height,transform;transition-timing-function:ease;width:100vw;max-height:var(--bottom-sheet-max-height)}:host>slot:not([name]){align-items:center;display:flex;flex-direction:column;gap:var(--spacer-sm)}#handle{position:absolute;top:0;inset-inline-start:50%;transform:translateX(-50%);height:var(--rem4);width:var(--rem48);border-radius:var(--rem4)}#handle.in{top:var(--spacer-xs);background-color:var(--color-neutral-border)}#handle.out{top:calc(-1 * var(--spacer-xs));background-color:var(--color-global-white)}`}disconnectedCallback(){super.disconnectedCallback(),this._gesture.destroy(),t.gI.remove(this),t.g6.remove(this),this._mutationObserver?.disconnect()}_connectMutationObserver(){this._mutationObserver=new MutationObserver((()=>{window.requestAnimationFrame(this.recalculateCachedHeight)})),this._mutationObserver.observe(this,{characterData:!0,childList:!0,attributes:!1,subtree:!0})}};e._([e.n({type:Boolean,reflect:!0})],o.prototype,"open",void 0),e._([e.n({type:Boolean})],o.prototype,"blocking",void 0),e._([e.n({type:Boolean,reflect:!0})],o.prototype,"docked",void 0),e._([e.n({type:String,attribute:"ariaLabel"})],o.prototype,"label",void 0),e._([e.D("#content")],o.prototype,"_content",void 0),e._([e.k({slot:"header"})],o.prototype,"_headerElements",void 0),o=e._([e.c("faceplate-bottom-sheet")],o)}));
SML.dm("DFVLQ5P3",["DSWSCRFk"],(async e=>{let t=class extends e.s{constructor(){super(...arguments),this.hasDivider=!1,this.render=()=>e.x` <slot name="leading"></slot> <slot></slot> <slot name="trailing"></slot> `}static get styles(){return e.i`:host{align-items:center;box-sizing:border-box;display:flex;font-weight:700;height:var(--rem64);min-height:var(--rem64);padding:0 var(--spacer-md);position:relative;width:100%}:host([has-divider])::after{border-bottom:1px solid var(--color-neutral-border);bottom:0;content:'';position:absolute;inset-inline-end:var(--spacer-md);inset-inline-start:var(--spacer-md)}:host>slot:not([name]){display:flex;flex-grow:1;padding:0 var(--spacer-sm);font-size:1rem}`}};e._([e.n({type:Boolean,reflect:!0,attribute:"has-divider"})],t.prototype,"hasDivider",void 0),t=e._([e.c("faceplate-bottom-sheet-header")],t)}));
SML.dm("DykY8ocl",["DSWSCRFk"],(async e=>{let l=class extends e.s{constructor(){super(...arguments),this.handleScroll=()=>{this.dropdownMenu?.[0]?.close()}}connectedCallback(){super.connectedCallback(),document.querySelector('[slot="pdp-panel"]')?.addEventListener("scroll",this.handleScroll),document.querySelector('[slot="mod-queue-feed"]')?.addEventListener("scroll",this.handleScroll)}disconnectedCallback(){super.disconnectedCallback(),document.querySelector('[slot="pdp-panel"]')?.removeEventListener("scroll",this.handleScroll),document.querySelector('[slot="mod-queue-feed"]')?.removeEventListener("scroll",this.handleScroll)}render(){return e.x`<slot></slot>`}};e._([e.k({slot:"",selector:"faceplate-dropdown-menu"})],l.prototype,"dropdownMenu",void 0),l=e._([e.c("mod-dropdown-closer")],l)}));
SML.dm("C0wp0zNv",["DSWSCRFk"],(async e=>{var n,t;!function(e){e.Regular="regular",e.Semibold="semibold"}(n||(n={})),function(e){e.Small="sm",e.Medium="md",e.Large="lg"}(t||(t={})),t.Small,e.q.ExtraSmall,t.Medium,e.q.Small,t.Large,e.q.Medium;const i={sm:"text-12",md:"text-14",lg:"text-16"},r={always:"underline",hover:"hover:underline",none:"no-underline hover:no-underline"},a={primary:"",secondary:"text-secondary-plain hover:text-secondary-plain-hover no-visited visited:text-secondary-plain","plain-weak":"text-secondary-plain-weak hover:text-secondary-plain-hover no-visited visited:text-secondary-plain-weak",media:"text-media-onbackground no-visited visited:text-media-onbackground",inverted:"text-inverted-secondary-plain hover:text-inverted-secondary-plain-hover no-visited visited:text-neutral-background-weak"};return{get A(){return t},a:({attributes:n,children:t,fontWeight:d="regular",size:s,suppressVisitedStyle:o=!1,underline:l="hover",visited:m,appearance:c="primary",trailingIcon:u})=>{const{html:v,createElement:p}=e.g(),x=v`${t}${u?v`<span class="ms-2xs align-middle">${u}</span>`:""}`,g=`${n?.className||""} a cursor-pointer\n  ${c?a[c]:""}\n  ${s?i[s]:""}\n  ${"semibold"===d?"font-semibold":""}\n  ${o?"no-visited":""}\n  ${l?r[l]:""}\n  ${m?"visited":""}`;return p("a",{...n,rpl:!0,className:g},x)},get b(){return n}}}));
SML.dm("CGzEIBwW",[],(async()=>{const t=t=>{let r=t.title??"";return t.text&&(r.length&&(r+="\n\n"),r+=t.text),t.url&&(r.length&&(r+="\n\n"),r+=t.url),r};var r;!function(t){t[t.NativeShare=0]="NativeShare",t[t.Clipboard=1]="Clipboard"}(r||(r={}));var a=async(a,e=!0,n=t)=>{if("function"==typeof window.navigator.share&&!e){try{await window.navigator.share(a)}catch(t){}return r.NativeShare}try{await navigator.clipboard.writeText(n(a))}catch(t){}return r.Clipboard};return{get S(){return r},get s(){return a}}}));
SML.dm("CPcvYJxh",["DSWSCRFk","Dnwr24bF","C0wp0zNv","DAgRafdt","FDsJDUC0","DDc9KuQK","CGzEIBwW","CA4SrzzK","DxvZ7Xss"],(async(e,t,i,s,a,o,n,r)=>{const l="share-menu-template",h="share-menu-copy-link-option",p="share-menu-crosspost-option",u="share-menu-embed-option",c="share-dropdown-menu",d=({source:e,noun:t})=>s.b({source:e||"share",action:"click",noun:t}),k=({source:e}={})=>d({source:e,noun:"share_crosspost"}),m=({source:e}={})=>d({source:e,noun:"share_profile_crosspost"}),S=()=>s.b({source:"comment",action:"click",noun:"share_as_post"},{action_info:{reason:"share_sheet"}}),T=Symbol("mixins/with-share");const I=(e,t,i)=>{const s=["click","keydown"],a=e.querySelector(`.${t}`);for(const e of s)a?.addEventListener(e,i)};return {C:"comment-share-menu-template",E:u,S:l,W:function(E){if(s.cR(E,T))return E;const N=E;class C extends N{constructor(){super(...arguments),this.permalink="",this.sourceId="",this.source=void 0,this.isCrosspostable=!1,this.isEmbeddable=!1,this.disabled=!1,this.isDesktopViewport=!1,this.hideButtonText=!1,this.hideButtonIcon=!1,this.shouldAllowPropagation=!1,this.shareMenuFeatureName=s.at,this.shareMenuTemplateId=l,this.translationLanguage="",this.isShareMenuInitiated=!1,this.showPostAssignModal=t.s,this.isShareDropdownOpened=!1,this.activateShareMenuFeature=()=>{const e={};return this.isCrosspostable&&(e.isCrosspostable=!0,this.sourceId&&(e.postId=this.sourceId)),this.isEmbeddable&&(e.isEmbeddable=!0),s.d({name:this.shareMenuFeatureName,queryParams:e,renderMode:s.P.Contents})},this.isAllowedEvent=e=>!e||(e instanceof PointerEvent||e instanceof MouseEvent||["Enter"," "].includes(e.key)),this.handleMobileShareClick=async e=>{this.isAllowedEvent(e)&&(await this._copyLink())},this.handleDesktopShareClick=async e=>{if(!this.isAllowedEvent(e))return;if(this.isShareMenuInitiated)return;let t=!1;try{t=Boolean(await this.activateShareMenuFeature())}catch(t){return void this.handleCopyLinkClick(e)}const i=document.querySelector(`#${this.shareMenuTemplateId}`)?.content;if(!i)return void this.handleCopyLinkClick(e);const s=this.getShareDropdownMenus();s?.length&&(s.forEach((e=>{if(e.querySelector("faceplate-menu"))return;const s=i.cloneNode(!0);e.appendChild(s),I(e,h,this.handleCopyLinkClick),I(e,p,this.handleCrosspostClick),I(e,u,this.handleEmbedClick),I(e,"klp-copy-link",this.handleKlpCopyLinkClick),I(e,"share-menu-profile-crosspost-option",this.handleProfileCrosspostClick),t&&e.show?.()})),t&&this.handleShareDropdownOpen(),this.isShareMenuInitiated=!0)},this.handleShareDropdownOpen=()=>{this.isShareDropdownOpened||(this.isShareDropdownOpened=!0,s.a(this,(({source:e}={})=>s.b({source:e||"share",action:"view",noun:"custom_share_sheet"}))({source:this.source})))},this.handleShareDropdownClose=()=>{this.isShareDropdownOpened=!1,s.a(this,(({source:e}={})=>s.b({source:e||"share",action:"dismiss",noun:"custom_share_sheet"}))({source:this.source}))},this.getShareDropdownMenus=()=>{const e=this.shadowRoot?.querySelectorAll(`.${c}`);if(e?.length)return e;const t=this.querySelectorAll(`faceplate-dropdown-menu.${c}`);if(t?.length)return t;const i=this.querySelectorAll("slot");for(const e of i){const t=e.assignedElements?.();if(t?.length){const e=Array.from(t).find((e=>e.classList?.contains(c)||e.querySelector(`.${c}`)));if(e)return[e.classList?.contains(c)?e:e.querySelector(`.${c}`)]}}},this.closeShareMenu=()=>{this.getShareDropdownMenus()?.forEach((e=>e.close?.()))},this.handleCopyLinkClick=async e=>{this.shouldAllowPropagation||e?.stopPropagation(),this.isAllowedEvent(e)&&(s.a(this,(({source:e}={})=>d({source:e,noun:"copy_link"}))({source:this.source})),this.closeShareMenu(),await this._copyLink())},this.handleKlpCopyLinkClick=async e=>{this.isAllowedEvent(e)&&(this.closeShareMenu(),await this._copyLink())},this.handleKlpNotUsefulClick=e=>{this.isAllowedEvent(e)&&this._notUseful()},this.handleKlpUsefulClick=e=>{this.isAllowedEvent(e)&&this._useful()},this.handleCrosspostClick=e=>{const t=r.d(this.sourceId)?S:k;this._handlePostComposerClick(e,`${s.cS.CrosspostSourceId}=${this.sourceId}`,t)},this.handleProfileCrosspostClick=async e=>{(await this.showPostAssignModal(this.sourceId))||this._handlePostComposerClick(e,`${s.cS.CrosspostSourceId}=${this.sourceId}&${s.cS.CrosspostTarget}=profile`,m)},this.handleEmbedClick=e=>{e.stopPropagation(),this.isAllowedEvent(e)&&(s.a(this,(({source:e}={})=>d({source:e,noun:"embed"}))({source:this.source})),this.closeShareMenu(),window.open(`https://publish.reddit.com/embed?url=https://www.reddit.com${this.permalink}`,"RedditEmbed"))},this._handlePostComposerClick=(e,t,i)=>{e.stopPropagation(),this.isAllowedEvent(e)&&(s.a(this,i({source:this.source})),this.closeShareMenu(),window.open(`/submit?${t}`,"_blank"))},this._copyLink=async()=>{if(!this.permalink||!location.origin)return;const e={url:this._buildShareUrl(location.origin,this.permalink)};if(n.S.Clipboard===(await n.s(e,this.isDesktopViewport))){const e=s.c("faceplate-alert",{level:s.I.success,message:"Link copied"});this.dispatchEvent(e)}},this._notUseful=()=>{const e=s.c("faceplate-alert",{level:s.I.notice,message:"Thanks for letting us know"});this.dispatchEvent(e)},this._useful=()=>{const e=s.c("faceplate-alert",{level:s.I.notice,message:"Thanks for letting us know"});this.dispatchEvent(e)},this._buildShareUrl=(e,t)=>{const i=t.includes("?"),s=t.includes("tl=");return e+t+this._getShareQueryParams({source:this.source,term:"1",permalinkHasQuery:i,permalinkHasTlQuery:s})},this._getShareQueryParams=({permalinkHasQuery:e=!1,permalinkHasTlQuery:t=!1,source:i="share",term:s})=>{const a=this._getShareUTMParams({source:i,term:s}),o=t?"":this._getShareTranslationLanguageQueryParams();return e?`&${a}${o}`:`?${a}${o}`},this._getShareTranslationLanguageQueryParams=()=>this.translationLanguage?`&share_tl=${this.translationLanguage}`:"",this._getShareUTMParams=({source:e="share",term:t})=>{const i=s.aK();return`utm_source=${e}&utm_medium=${i}&utm_name=${i}css&utm_term=${t}&utm_content=share_button`},this.renderShareDropdown=({handleShareClick:t,size:o=s.a2.Small,appearance:n="plain",attributes:r={},shareButtonText:l})=>{const h=l||"Share",p="link"===n;return e.x` <faceplate-dropdown-menu class="${c} relative ${p?"inline":""}" position="bottom-start" .onopen="${this.isDesktopViewport?this.handleShareDropdownOpen:void 0}" .onclose="${this.isDesktopViewport?this.handleShareDropdownClose:void 0}"> ${p?i.a({attributes:{onclick:t,onkeydown:t,...r},children:this.hideButtonText?void 0:h,suppressVisitedStyle:!0}):a.c({size:o,appearance:n,attributes:{type:"button",onclick:t,onkeydown:t,...r},leadingIcon:this.hideButtonIcon?void 0:e.V({size:a.I[o],attributes:{className:"icon-share","aria-hidden":"true"}}),screenReaderContent:this.hideButtonText?h:void 0,children:this.hideButtonText?void 0:h})} </faceplate-dropdown-menu>`},this.renderOnlyShareButton=({handleShareClick:t,size:i=s.a2.Small,appearance:o="plain",attributes:n={},showFullButtons:r=!1})=>{const l="Copy link",h="link"===o;return e.x` ${h?e.A:a.c({size:i,appearance:o,attributes:{type:"button",onclick:t,onkeydown:t,...n,className:`${n.className} relative`,"aria-label":l},children:e.x` <span class="justify-center ${r?"flex s:hidden":"flex"}">${e.ad({size:e.q.Small})}</span> <span class="${r?"hidden s:flex":"hidden"}"> ${l} </span> `})}`},this.renderOnlyShareMenuItem=({handleShareClick:t,menuSize:i=o.L.Medium})=>{const s="Copy link";return o.l({leadingIcon:e.ad(),label:s,size:i,onClick:t})}}}return C[T]=!0,e._([e.n({type:String})],C.prototype,"permalink",void 0),e._([e.n({type:String,attribute:"source-id"})],C.prototype,"sourceId",void 0),e._([e.n({type:String,attribute:"source"})],C.prototype,"source",void 0),e._([e.n({type:Boolean,attribute:"is-crosspostable"})],C.prototype,"isCrosspostable",void 0),e._([e.n({type:Boolean,attribute:"is-embeddable"})],C.prototype,"isEmbeddable",void 0),e._([e.n({type:Boolean})],C.prototype,"disabled",void 0),e._([e.n({type:Boolean,attribute:"is-desktop-viewport"})],C.prototype,"isDesktopViewport",void 0),e._([e.n({type:Boolean,attribute:"hide-button-text"})],C.prototype,"hideButtonText",void 0),e._([e.n({type:Boolean,attribute:"hide-button-icon"})],C.prototype,"hideButtonIcon",void 0),e._([e.n({type:Boolean,attribute:"should-allow-propagation"})],C.prototype,"shouldAllowPropagation",void 0),e._([e.n({type:String,attribute:"share-menu-feature-name"})],C.prototype,"shareMenuFeatureName",void 0),e._([e.n({type:String,attribute:"share-menu-template-id"})],C.prototype,"shareMenuTemplateId",void 0),e._([e.n({type:String,attribute:"translation-language"})],C.prototype,"translationLanguage",void 0),C},a:c,b:h,c:p};}));
SML.dm("B9zPlUxe",["DSWSCRFk","DAgRafdt","DDc9KuQK","CPcvYJxh","OAEZpqSu"],(async(t,e,s,i,n)=>{const o=i.W(t.s);let a=class extends o{constructor(){super(...arguments),this.permalink="",this.disabled=!1,this.isDesktopViewport=!1,this.isListItem=!1,this.ssr=!1,this.shareMenuFeatureName=e.aH,this.shareMenuTemplateId=i.C,this.useButton=!1,this.useMenu=!1,this.showFullButtons=!1,this.menuSize=s.L.Medium}static get styles(){return[e.t,e.z("/*\n * :host and button.share-button-list-item is necessary to increase specificity to override the default styles of the button\n */\n:host button.share-button-list-item {\n  padding: 0;\n  height: 2rem !important;\n  border: none;\n  border-radius: 0;\n  color: var(--color-secondary);\n  background-color: transparent;\n  /*\n   * This CSS was added to fix the flex gap spacing when re-styling the share button component as a list item in the comment action overflow menu.\n   * It needs to be added here as we cannot otherwise directly target the span's styling.\n   */\n}\n:host button.share-button-list-item > span.flex {\n  font-weight: normal;\n}\n:host button.share-button-list-item > span.flex > span:first-child {\n  width: 2rem;\n  display: flex;\n  justify-content: center;\n  margin-right: 0.5rem;\n}\n")]}handleCommentShareClick(t){this.isAllowedEvent(t)&&(!this.isListItem&&this.isDesktopViewport?this.handleCommentDesktopShareClick(t):this.handleCommentMobileShareClick(t),this.ssr&&(this.isShareDropdownOpened?this.handleShareDropdownClose():this.handleShareDropdownOpen()))}handleCommentDesktopShareClick(t){e.a(this,n.u()),this.handleDesktopShareClick(t)}handleCommentMobileShareClick(t){e.a(this,n.v()),this.handleMobileShareClick(t)}render(){return this.ssr?t.x`<slot name="ssr-share-button" @click="${this.handleCommentShareClick}" @keydown="${this.handleCommentShareClick}"></slot>`:this.useMenu?this.renderOnlyShareMenuItem({handleShareClick:this.handleCommentShareClick,menuSize:this.menuSize}):this.useButton?this.renderOnlyShareButton({handleShareClick:this.handleCommentShareClick,attributes:{disabled:this.disabled,className:"font-semibold"},showFullButtons:this.showFullButtons}):this.renderShareDropdown({handleShareClick:this.handleCommentShareClick,size:this.isListItem?e.a2.Large:e.a2.Small,appearance:this.isListItem?"plain":"plain-weak",attributes:{disabled:this.disabled,className:this.isListItem?"share-button-list-item w-full":"font-semibold"}})}};t._([t.n({type:String})],a.prototype,"permalink",void 0),t._([t.n({type:Boolean})],a.prototype,"disabled",void 0),t._([t.n({type:Boolean,attribute:"is-desktop-viewport"})],a.prototype,"isDesktopViewport",void 0),t._([t.n({type:Boolean,attribute:"is-list-item"})],a.prototype,"isListItem",void 0),t._([t.n({type:Boolean,attribute:"ssr"})],a.prototype,"ssr",void 0),t._([t.n({type:String,attribute:"share-menu-feature-name"})],a.prototype,"shareMenuFeatureName",void 0),t._([t.n({type:String,attribute:"share-menu-template-id"})],a.prototype,"shareMenuTemplateId",void 0),t._([t.n({type:Boolean,attribute:"use-button"})],a.prototype,"useButton",void 0),t._([t.n({type:Boolean,attribute:"use-menu"})],a.prototype,"useMenu",void 0),t._([t.n({type:Boolean,attribute:"show-full-buttons"})],a.prototype,"showFullButtons",void 0),t._([t.n({type:String})],a.prototype,"menuSize",void 0),a=t._([t.c("shreddit-comment-share-button")],a)}));
SML.dm("DxYz4TCM",["DSWSCRFk","DAgRafdt","DDc9KuQK","CPcvYJxh"],(async(t,e,s,i)=>{const o=i.W(t.s);let n=class extends o{constructor(){super(...arguments),this.shareButtonText="",this.permalink="",this.size=e.a2.Medium,this.menuSize=s.L.Medium,this.buttonClass="",this.isDesktopViewport=!1,this.ssr=!1,this.appearance="secondary",this.shareMenuFeatureName=e.at,this.shareMenuTemplateId=i.S,this.useButton=!1,this.useMenu=!1,this.showFullButtons=!1,this.translationLanguage=""}static get styles(){return[e.t]}handlePostShareClick(t){this.isAllowedEvent(t)&&(this.isDesktopViewport?this.handleDesktopShareClick(t):this.handleMobileShareClick(t),this.ssr&&(this.isShareDropdownOpened?this.handleShareDropdownClose():this.handleShareDropdownOpen()))}render(){return this.ssr?t.x`<slot name="ssr-share-button" @click="${this.handlePostShareClick}" @keydown="${this.handlePostShareClick}"></slot>`:this.useMenu?this.renderOnlyShareMenuItem({handleShareClick:this.handlePostShareClick,menuSize:this.menuSize,attributes:{className:this.buttonClass}}):this.useButton?this.renderOnlyShareButton({handleShareClick:this.handlePostShareClick,size:this.size,attributes:{className:this.buttonClass},showFullButtons:this.showFullButtons}):this.renderShareDropdown({handleShareClick:this.handlePostShareClick,appearance:this.appearance,size:this.size,shareButtonText:this.shareButtonText,attributes:{className:this.buttonClass}})}};t._([t.n({type:String,attribute:"share-button-text"})],n.prototype,"shareButtonText",void 0),t._([t.n({type:String})],n.prototype,"permalink",void 0),t._([t.n({type:String})],n.prototype,"size",void 0),t._([t.n({type:String})],n.prototype,"menuSize",void 0),t._([t.n({type:String,attribute:"button-class"})],n.prototype,"buttonClass",void 0),t._([t.n({type:Boolean,attribute:"is-desktop-viewport"})],n.prototype,"isDesktopViewport",void 0),t._([t.n({type:Boolean,attribute:"ssr"})],n.prototype,"ssr",void 0),t._([t.n({type:String})],n.prototype,"appearance",void 0),t._([t.n({type:String,attribute:"share-menu-feature-name"})],n.prototype,"shareMenuFeatureName",void 0),t._([t.n({type:String,attribute:"share-menu-template-id"})],n.prototype,"shareMenuTemplateId",void 0),t._([t.n({type:Boolean,attribute:"use-button"})],n.prototype,"useButton",void 0),t._([t.n({type:Boolean,attribute:"use-menu"})],n.prototype,"useMenu",void 0),t._([t.n({type:Boolean,attribute:"show-full-buttons"})],n.prototype,"showFullButtons",void 0),t._([t.n({type:String})],n.prototype,"translationLanguage",void 0),n=t._([t.c("shreddit-post-share-button")],n)}));
SML.dm("DLKm42XZ",["DAgRafdt","OAEZpqSu","DSWSCRFk"],(async(e,t)=>{class a extends HTMLElement{constructor(){super(),this.childAnchor=null,this.chatUrl=null,this.mobilePermalink=null,this.handleAnchorClick=async e=>{if(!this.chatUrl)return;if(e.preventDefault(),this.mobilePermalink){const e=new URL(this.mobilePermalink,window.location.href).searchParams.get("r"),a=document.querySelector(`faceplate-modal[name="${t.cK}"]`),i=a?.querySelector("a.app-link");if(i?.href){const t=new URL(i.href);e&&t.searchParams.set("r",e),t.searchParams.set("$android_deeplink_path",`reddit${this.mobilePermalink}`),t.searchParams.set("$deeplink_path",this.mobilePermalink),t.searchParams.set("$og_redirect",`${CLIENT_CONFIG.ORIGIN}${this.mobilePermalink}`),t.searchParams.set("base_url",this.mobilePermalink),i.setAttribute("href",t.toString())}return void this.dispatchEvent(new CustomEvent(t.cK,{bubbles:!0}))}let a=document.querySelector("reddit-chat-host");a||(await this.activateFeature(),a=document.querySelector("reddit-chat-host")),a.openChatUrl(this.chatUrl)}}async activateFeature(){try{await e.d({name:e.aj})}catch(t){if(!t.message?.endsWith(`${e.aj} not found`))throw t}}connectedCallback(){const e=this.querySelector(":scope > a, :scope > li > a"),a=e?.href;this.mobilePermalink=this.getAttribute("permalink");((e,a=!1)=>!!e&&(e.startsWith(t.aK)||e.startsWith(t.cJ)||a&&e.startsWith("/c/")))(a||this.mobilePermalink||void 0,!!this.mobilePermalink)&&(this.childAnchor=e,!a&&this.mobilePermalink?this.chatUrl=this.mobilePermalink:a&&a.startsWith(t.aK)?this.chatUrl="/"+a.replace(t.aK,""):a&&(this.chatUrl="/"+a.replace(t.cJ,"")),this.childAnchor?.addEventListener("click",this.handleAnchorClick))}disconnectedCallback(){this.childAnchor?.removeEventListener("click",this.handleAnchorClick)}}return customElements.define("reddit-chat-anchor",a),{a:e=>`${t.aK}room/${e}`,g:(e,a)=>`${t.aK}room/${e}/event/${a}`}}));
SML.dm("BGFdPua5",["DSWSCRFk","DAgRafdt","DDc9KuQK","FDsJDUC0","gxmLFmZN","DBmDcARJ","DFWBK-TR","CcBwwinu","u2CQVEzy","Dl4VGxuI","DjoKwtwQ","CgIWqP9n","Bt3zFHSO","DLKm42XZ","BVLgyhDE","Vy1IDB19","s1sP3jLz","DxvZ7Xss","alLlRaWG","CnL37q4H","DFVLQ5P3","DykY8ocl","B9zPlUxe","DxYz4TCM","C9Y39_ZO","Dj1DJbmt","BP7JtdRP"],(async(e,t,a,i,o,n,r,s,d,l,h,m,c,u,p,g,I)=>{const N="modQueue",k="modQueueChat",R="overflow",T="inline";let E=class extends e.s{constructor(){super(...arguments),this.location=T,this.viewContext=void 0,this.COACHMARK_LABELS={[N]:"NEW! Chat about items in the queue",[k]:"Jump back in",[R]:"NEW! Chat about content",[T]:"Jump back in"},this.COACHMARK_BODY={[N]:"Share content in the queue directly with your mod team",[k]:"Get back to chat threads from the queue",[R]:"Share content directly with your mod team",[T]:"Get back to chat threads from the content"},this.COACHMARK_POSITION={[N]:p.P.Top,[k]:p.P.Top,[R]:p.P.Left,[T]:p.P.Left},this.LOCAL_STORAGE_KEYS={[N]:t.N.ShareToModChatCoachMarkMQSeen,[k]:t.N.ShareToModChatCoachMarkMQChatSeen,[R]:t.N.ShareToModChatCoachMarkOverflowSeen,[T]:t.N.ShareToModChatCoachMarkInlineSeen},this._showShareToModChatBanner=!t.K.getItem(this.getLocalStorageKey()),this.closeCoachmark=()=>{this._showShareToModChatBanner=!1}}getLocalStorageKey(){return this.LOCAL_STORAGE_KEYS[this.location]}connectedCallback(){super.connectedCallback();const e=t.K.getItem(this.getLocalStorageKey());this.location===R&&this.viewContext&&[h.P.ModQueue,h.P.ModQueueAll].includes(this.viewContext)||e?this._showShareToModChatBanner=!1:(t.K.setItem(this.getLocalStorageKey(),"true"),this._showShareToModChatBanner=!0)}disconnectedCallback(){super.disconnectedCallback()}render(){return e.x`<rpl-coachmark placement="${this.COACHMARK_POSITION[this.location]}" appearance="${g.a.Inverted}" ?open="${this._showShareToModChatBanner}"> <slot></slot> <rpl-coachmark-card slot="content" aria-live="polite" appearance="${g.a.Inverted}" class="w-[220px]"> <div slot="title" class="pt-xs pb-2xs"> <div>${this.COACHMARK_LABELS[this.location]}</div> </div> ${t.J({attributes:{className:"close-btn",slot:"close-button",onclick:e=>{e.stopPropagation(),this.closeCoachmark()}},appearance:"plainInverted",size:t.a2.Small,leadingIcon:e.m({size:e.I.Small})})} <div class="text-12 w-[170px] mb-sm">${this.COACHMARK_BODY[this.location]}</div> </rpl-coachmark-card> </rpl-coachmark>`}};E.styles=[t.t],e._([e.n({type:String,attribute:"location"})],E.prototype,"location",void 0),e._([e.n({type:String,attribute:"view-context"})],E.prototype,"viewContext",void 0),e._([e.b()],E.prototype,"_showShareToModChatBanner",void 0),E=e._([e.c("share-to-mod-chat-coachmark")],E);const A=e.s;class C extends A{constructor(){super(...arguments),this.size=a.L.Medium,this.appearance="content-action",this.viewContext=h.P.CommentsPage,this.feedViewType=t.$.ModQueueCompactView,this.itemState=m.M.UNMODERATED,this.verdict=void 0,this.isCurrentUserAuthor=!1,this.isDeleted=!1,this.isRemoved=!1,this.isModModeEnabled=!1,this.isAdmin=!1,this.isLocked=!1,this.isStickied=!1,this.isHighlighted=!1,this.isReportingIgnored=!1,this.areHighlightsEnabled=!1,this.hasReports=!1,this.hasRemovalReason=!1,this.isProfilePost=!1,this.isPromotedPost=!1,this.isSpamFilteredPost=!1,this.isDesktop=!1,this.permalink="",this.isContentLevelModsCommsEnabled=!1,this.modContentDiscussionContext=void 0,this.isFeedNoApproveEnabled=!1,this.focusChatTextareaFn=I.f,this.pubsub=new t.f(this),this.modActionsController=new c.ModActionsController(this,{getThingIdFn:()=>this.thingId||""}),this.getListItemClickHandler=e=>()=>(this.dropdownMenu?.close(),e())}get isPost(){return h.h(this.thingId||"")}get shouldAlwaysShowAction(){return!this.isModModeEnabled&&!this.isOnModqueuePage}shouldAlwaysShowApproveAction(){return this.shouldAlwaysShowAction||this.isModVerdictVisible&&this.itemState!==m.M.APPROVED&&this.shouldShowActionInMenu}shouldAlwaysShowRemoveAction(){return this.shouldAlwaysShowAction||this.isModVerdictVisible&&this.itemState!==m.M.REMOVED&&this.shouldShowActionInMenu}get isOnModqueuePage(){return this.viewContext===h.P.ModQueue||this.viewContext===h.P.ModQueueAll}get isApproved(){return this.itemState===m.M.APPROVED}get shouldShowConfirmRemoval(){return m.a(this.itemState,this.isSpamFilteredPost)}get shouldShowActionInMenu(){return!m.b(this.viewContext,this.feedViewType)||"hover-menu"===this.appearance}get isDistinguishable(){return this.isCurrentUserAuthor&&!this.isDeleted}get isStickyable(){return!(this.viewContext===h.P.ProfileFeed||this.viewContext===h.P.ProfileFeed2||this.isDeleted)}get isModVerdictVisible(){return m.h(this.verdict??null)&&!this.hasReports&&this.itemState!==m.M.FILTERED}renderApproveAction(){return this.isFeedNoApproveEnabled&&!this.isOnModqueuePage&&this.itemState===m.M.UNMODERATED||this.shouldAlwaysShowApproveAction()&&m.c(this.itemState)?a.l({leadingIcon:e.U(),label:"Approve",size:this.size,onClick:this.getListItemClickHandler(this.modActionsController.handleApproveContent)}):null;}renderRemoveAction(){return this.isFeedNoApproveEnabled&&!this.isOnModqueuePage&&this.itemState===m.M.UNMODERATED||this.shouldAlwaysShowRemoveAction()&&m.d(this.itemState)?a.l({leadingIcon:e.m(),label:"Remove",size:this.size,onClick:this.getListItemClickHandler(this.modActionsController.handleRemoveContent)}):null;}renderConfirmRemovalAction(){return this.shouldAlwaysShowRemoveAction()&&this.shouldShowConfirmRemoval?a.l({leadingIcon:e.aS(),label:"Confirm Removal",size:this.size,onClick:this.getListItemClickHandler(this.modActionsController.handleConfirmRemoval)}):null;}renderSpamAction(){return m.e({moderationState:this.itemState,isSpamFilteredPost:this.isSpamFilteredPost,isRemoved:this.isRemoved,isPromotedPost:this.isPromotedPost})&&this.shouldShowActionInMenu?a.l({leadingIcon:r.s(),label:"Mark as Spam",size:this.size,onClick:this.getListItemClickHandler(this.modActionsController.handleRemoveContentAsSpam)}):null;}renderShareToModChatAction(t){if(!m.f({isPromotedPost:this.isPromotedPost})||!this.shouldShowActionInMenu||!t?.modChatChannel||t?.modContentDiscussion)return null;const i=t?.modContentDiscussion?`${u.g(t.modContentDiscussion.chatChannel?.roomId,t.modContentDiscussion.chatMessage?.id)}/thread`:u.a(t?.modChatChannel?.roomId);return e.x` <faceplate-tracker source="moderator" action="click" noun="${t?.eventContext?.noun}" data-faceplate-tracking-context="${JSON.stringify({subreddit:{id:t?.eventContext?.subredditId,name:t?.eventContext?.subredditName},action_info:{setting_value:t?.eventContext?.roomId},post:{id:t?.eventContext?.postId},...(t?.eventContext?.commentId && {comment:{id:t?.eventContext?.commentId}})})}"> <reddit-chat-anchor> <a href="${i}?draft=${encodeURIComponent("https://www.reddit.com"+this.permalink)}" class="no-underline"> ${a.l({leadingIcon:e.aL(),trailingSlot:e.x` <rpl-badge appearance="${l.R.Alert}">NEW</rpl-badge>`,label:"Share to mod chat",size:this.size,onClick:async()=>{t.modContentDiscussion||(await this.focusChatTextareaFn())}})} </a> </reddit-chat-anchor> </faceplate-tracker>`;}renderIgnoreReportsAction(){return this.isReportingIgnored||!this.hasReports?null:a.l({leadingIcon:r.i(),label:"Ignore reports and approve",size:this.size,onClick:this.getListItemClickHandler((()=>{this.modActionsController.handleIgnoreReports(),this.modActionsController.handleApproveContent()}))});}renderUnignoreReportsAction(){return this.isReportingIgnored?a.l({leadingIcon:r.a(),label:"Unignore reports",size:this.size,onClick:this.getListItemClickHandler(this.modActionsController.handleUnignoreReports)}):null;}renderAddRemovalReasonAction(){return m.s(this.itemState,this.hasRemovalReason,this.isSpamFilteredPost,this.isProfilePost)&&this.shouldShowActionInMenu?a.l({leadingIcon:e.ap(),label:"Add Removal Reason",size:this.size,onClick:this.getListItemClickHandler(this.modActionsController.handleAddRemovalReason)}):null;}renderDistinguishAction(){return this.isDistinguishable&&this.distinguishedAs!==t.aQ.Moderator?a.l({leadingIcon:n.t(),label:"Show mod label",size:this.size,onClick:this.getListItemClickHandler(this.modActionsController.handleDistinguish)}):null;}renderUndistinguishAction(){return this.isDistinguishable&&this.distinguishedAs===t.aQ.Moderator?a.l({leadingIcon:o.t(),label:"Hide mod label",size:this.size,onClick:this.getListItemClickHandler(this.modActionsController.handleUndistinguish)}):null;}renderStickyAction(t){return!this.isStickyable||this.isStickied||!this.shouldShowActionInMenu||this.areHighlightsEnabled||this.isPromotedPost?null:a.l({leadingIcon:e.bh(),label:t,size:this.size,onClick:this.getListItemClickHandler(this.modActionsController.handleSticky)})}renderUnstickyAction(t){return this.isStickyable&&this.isStickied&&this.shouldShowActionInMenu&&!this.areHighlightsEnabled&&!this.isPromotedPost?a.l({leadingIcon:e.bi(),label:t,size:this.size,onClick:this.getListItemClickHandler(this.modActionsController.handleUnsticky)}):null}renderAddToHighlightsAction(){return this.isStickyable&&this.shouldShowActionInMenu&&this.areHighlightsEnabled&&r.H.has(this.viewContext)&&!this.isHighlighted?a.l({leadingIcon:e.bh(),label:"Add to highlights",size:this.size,onClick:this.getListItemClickHandler(this.modActionsController.handleUpdateHighlightedPost)}):null;}renderRemoveFromHighlightsAction(){return this.isStickyable&&this.shouldShowActionInMenu&&this.areHighlightsEnabled&&r.H.has(this.viewContext)&&this.isHighlighted?a.l({leadingIcon:e.bi(),label:"Remove from highlights",size:this.size,onClick:this.getListItemClickHandler(this.modActionsController.handleRemoveHighlightedPost)}):null;}renderLockAction(e){return this.isLocked||!this.shouldShowActionInMenu?null:a.l({leadingIcon:s.l(),label:e,size:this.size,onClick:this.getListItemClickHandler(this.modActionsController.handleLock)})}renderUnlockAction(t){return this.isLocked&&this.shouldShowActionInMenu?a.l({leadingIcon:e.ax(),label:t,size:this.size,onClick:this.getListItemClickHandler(this.modActionsController.handleUnlock)}):null}renderEditPostFlairAction(e){return!this.shouldShowActionInMenu||this.isPromotedPost||this.isDeleted?null:a.l({leadingIcon:o.a(),label:e,size:this.size,onClick:this.getListItemClickHandler(this.modActionsController.handleOpenEditPostFlairModal)})}renderCopyLinkAction(){return"hover-menu"!==this.appearance?null:this.isPost?e.x`<shreddit-post-share-button use-menu ?is-desktop-viewport="${this.isDesktop}" permalink="${this.permalink}"></shreddit-post-share-button>`:e.x`<shreddit-comment-share-button use-menu ?is-desktop-viewport="${this.isDesktop}" permalink="${this.permalink}"></shreddit-comment-share-button>`}closeModal(){this.bottomSheetMenu?.close()}openModal(){this.bottomSheetMenu?.showModal()}renderMenuTrigger(){const a={leadingIcon:d.m({size:e.I.Small}),screenReaderContent:"Moderation actions menu",appearance:"secondary",attributes:{type:"button",onclick:()=>{this.openModal()},slot:"trigger"},size:t.a2.Small};return e.x` <faceplate-tracker source="moderator" action="click" noun="mod_shield_menu"> <rpl-tooltip appearance="inverted" placement="top" distance="8"> <span> ${"hover-menu"===this.appearance?t.J({...a,appearance:"secondary"}):i.c({...a,appearance:"plain"})} </span> <span slot="content">${"Mod actions"}</span> </rpl-tooltip> </faceplate-tracker> `;}renderMobileActionsMenu(a){return e.x` ${this.renderMenuTrigger()} <faceplate-bottom-sheet> <faceplate-bottom-sheet-header slot="header" has-divider> <span slot="trailing" @click="${this.closeModal}"> ${t.J({attributes:{"aria-label":"Close"},appearance:"secondary",leadingIcon:e.m({size:e.I.Small}),size:t.a2.Small})}</span> <span>${"Mod actions"}</span> </faceplate-bottom-sheet-header> <faceplate-menu class="w-full nd:hidden" @click="${this.closeModal}"> ${a} <slot name="devvit-context-actions"></slot> </faceplate-menu> </faceplate-bottom-sheet> `;}renderActionsMenu(t){return this.isContentLevelModsCommsEnabled&&!this.modContentDiscussionContext?.modContentDiscussion?e.x` <mod-dropdown-closer> <share-to-mod-chat-coachmark location="${R}" view-context="${this.viewContext}"> <faceplate-dropdown-menu position="bottom-end"> ${this.renderMenuTrigger()} <faceplate-menu slot="menu" class="max-w-xs nd:hidden max-h-[432px] overflow-y-auto overflow-x-hidden styled-scrollbars"> ${t} <slot name="devvit-context-actions"></slot> </faceplate-menu> </faceplate-dropdown-menu> </share-to-mod-chat-coachmark> </mod-dropdown-closer>`:e.x` <mod-dropdown-closer> <faceplate-dropdown-menu position="bottom-end"> ${this.renderMenuTrigger()} <faceplate-menu slot="menu" class="max-w-xs max-h-[432px] overflow-y-auto overflow-x-hidden styled-scrollbars"> ${t} <slot name="devvit-context-actions"></slot> </faceplate-menu> </faceplate-dropdown-menu> </mod-dropdown-closer>`}render(){if(this.viewContext===h.P.AggregateFeed)return e.A;const t=this.renderActions();return 0===t.length||t.every((e=>null===e))?e.x``:this.isDesktop?this.renderActionsMenu(t):this.renderMobileActionsMenu(t)}}return C.styles=[t.t],e._([e.n({type:String,attribute:"thing-id"})],C.prototype,"thingId",void 0),e._([e.n({type:String,attribute:"user-id"})],C.prototype,"userId",void 0),e._([e.n({type:String})],C.prototype,"size",void 0),e._([e.n({type:String})],C.prototype,"appearance",void 0),e._([e.n({type:String,attribute:"view-context"})],C.prototype,"viewContext",void 0),e._([e.n({type:String,attribute:"feed-view-type"})],C.prototype,"feedViewType",void 0),e._([e.n({type:String,attribute:"item-state",reflect:!0})],C.prototype,"itemState",void 0),e._([e.n({type:String,attribute:"distinguished-as"})],C.prototype,"distinguishedAs",void 0),e._([e.n({type:String,attribute:"verdict"})],C.prototype,"verdict",void 0),e._([e.n({type:String,attribute:"verdict-by"})],C.prototype,"verdictBy",void 0),e._([e.n({type:Boolean,attribute:"current-user-author"})],C.prototype,"isCurrentUserAuthor",void 0),e._([e.n({type:Boolean,attribute:"deleted"})],C.prototype,"isDeleted",void 0),e._([e.n({type:Boolean,attribute:"removed"})],C.prototype,"isRemoved",void 0),e._([e.n({type:Boolean,attribute:"mod-mode"})],C.prototype,"isModModeEnabled",void 0),e._([e.n({type:Boolean,attribute:"is-admin"})],C.prototype,"isAdmin",void 0),e._([e.n({type:Boolean,attribute:"locked"})],C.prototype,"isLocked",void 0),e._([e.n({type:Boolean,attribute:"stickied"})],C.prototype,"isStickied",void 0),e._([e.n({type:Boolean,attribute:"highlighted"})],C.prototype,"isHighlighted",void 0),e._([e.n({type:Boolean,attribute:"reporting-ignored"})],C.prototype,"isReportingIgnored",void 0),e._([e.n({type:Boolean,attribute:"highlights-enabled"})],C.prototype,"areHighlightsEnabled",void 0),e._([e.n({type:Boolean,attribute:"has-reports"})],C.prototype,"hasReports",void 0),e._([e.n({type:Boolean,attribute:"has-removal-reason"})],C.prototype,"hasRemovalReason",void 0),e._([e.n({type:Boolean,attribute:"is-profile-post"})],C.prototype,"isProfilePost",void 0),e._([e.n({type:Boolean,attribute:"is-promoted-post"})],C.prototype,"isPromotedPost",void 0),e._([e.n({type:Boolean,attribute:"is-spam-filtered-post"})],C.prototype,"isSpamFilteredPost",void 0),e._([e.n({type:Boolean,attribute:"is-desktop"})],C.prototype,"isDesktop",void 0),e._([e.n({type:String,attribute:"permalink"})],C.prototype,"permalink",void 0),e._([e.n({type:Boolean,attribute:"is-content-level-mods-comms-enabled"})],C.prototype,"isContentLevelModsCommsEnabled",void 0),e._([e.n({type:Object,attribute:"mod-content-discussion-context"})],C.prototype,"modContentDiscussionContext",void 0),e._([e.n({type:Boolean,attribute:"is-feed-no-approve-enabled"})],C.prototype,"isFeedNoApproveEnabled",void 0),e._([e.n({attribute:!1})],C.prototype,"focusChatTextareaFn",void 0),e._([e.D("faceplate-dropdown-menu")],C.prototype,"dropdownMenu",void 0),e._([e.D("faceplate-bottom-sheet")],C.prototype,"bottomSheetMenu",void 0),{M:C}}));
SML.dm("DkSjHUQO",["DSWSCRFk"],(async H=>{const{svg:a}=H.g();return{c:H.w(a`<path d="M17.033 3H2.967A1.967 1.967 0 001 4.967v5.066C1 11.119 1.881 12 2.967 12H5.1v5.1a.9.9 0 001.8 0V12h6.427v5.1a.9.9 0 001.8 0V12h1.906A1.967 1.967 0 0019 10.033V4.967A1.967 1.967 0 0017.033 3zm-6.919 1.8h4.732l-5.367 5.4H4.746l5.368-5.4zm-7.147 0H7.57L2.8 9.602V4.967c0-.092.075-.167.167-.167zm14.066 5.4h-5.008L17.2 5.025v5.008a.167.167 0 01-.167.167z"></path>`,"0 0 20 20","crowd-control")}}));
SML.dm("C_rqfwty",["DSWSCRFk","DAgRafdt","ANc6hYHB","CgIWqP9n","BGFdPua5","s1sP3jLz","DFWBK-TR","DBmDcARJ","CcBwwinu","OAEZpqSu","CA4SrzzK","DkdYL6xx","DjoKwtwQ","BHN2zcRJ","DLKm42XZ","DDc9KuQK","DkSjHUQO","DgPnIlBs","B9zPlUxe","DxYz4TCM"],(async(e,t,i,n,o,a,s,r,l,d,h,m,c,u,p,N,k)=>{let I=class extends o.M{constructor(){super(...arguments),this.hasParent=!1,this.pubsub=new t.f(this),this.handleCommentUpdate=({commentId:e,action:o,value:a})=>{if(e===this.thingId)switch(o){case i.C.lock:this.isLocked=Boolean(a);break;case i.C.sticky:this.isStickied=Boolean(a);break;case i.C.distinguishAsMod:this.distinguishedAs=a?t.aQ.Moderator:void 0;break;case i.C.distinguishAsAdmin:this.distinguishedAs=a?t.aQ.Admin:void 0;break;case i.C.approve:case i.C.approveOptimistic:this.isRemoved=!1,this.hasRemovalReason=!1,this.verdict=t._.ModApproved,this.itemState=n.M.APPROVED,this.hasReports=!1;break;case i.C.remove:case i.C.removeAsSpam:case i.C.confirmRemoval:case i.C.removeOptimistic:case i.C.removeAsSpamOptimistic:case i.C.confirmRemovalOptimistic:this.isRemoved=!0,this.verdict=t._.ModRemoved,this.itemState=n.M.REMOVED,this.hasReports=!1;break;case i.C.addRemovalReason:this.hasRemovalReason=Boolean(a);break;case i.C.ignoreReports:this.isReportingIgnored=Boolean(a),a&&(this.isRemoved=!1,this.verdict=t._.ModApproved,this.itemState=n.M.APPROVED)}}}get isStickyable(){return super.isStickyable&&this.isCurrentUserAuthor&&!this.hasParent}connectedCallback(){super.connectedCallback(),this.pubsub.subscribe(t.T.CommentUpdated,this.handleCommentUpdate)}renderActions(){return [this.renderConfirmRemovalAction(),this.renderApproveAction(),this.renderRemoveAction(),this.isContentLevelModsCommsEnabled?this.renderShareToModChatAction(this.modContentDiscussionContext):null,this.renderSpamAction(),this.renderIgnoreReportsAction(),this.renderUnignoreReportsAction(),this.renderAddRemovalReasonAction(),this.renderDistinguishAction(),this.renderUndistinguishAction(),this.renderStickyAction("Sticky comment"),this.renderUnstickyAction("Unsticky comment"),this.renderLockAction("Lock comment"),this.renderUnlockAction("Unlock comment"),this.renderCopyLinkAction()];}};e._([e.n({type:Boolean,attribute:"has-parent"})],I.prototype,"hasParent",void 0),I=e._([e.c("shreddit-comment-mod-actions-menu")],I);let R=class extends e.s{constructor(){super(...arguments),this.feedViewType=t.$.ModQueueCompactView,this.viewContext=c.P.CommentsPage,this.itemState=n.M.UNMODERATED,this.hasReports=!1,this.isModMode=!1,this.isRemoved=!1,this.isDeleted=!1,this.isLocked=!1,this.isStickied=!1,this.isHighlighted=!1,this.isCurrentUserAuthor=!1,this.hasParent=!1,this.isIconOnly=!1,this.hasRemovalReason=!1,this.permalink="",this.isDesktopViewport=!1,this.isSpamFilteredPost=!1,this.isProfilePost=!1,this.isPromotedPost=!1,this.hasFlairPermissions=!1,this.areHighlightsEnabled=!1,this.hideInlineActions=!1,this.isSmartEscalations=!1,this.isContentLevelModsCommsEnabled=!1,this.modContentDiscussionContext=void 0,this.isFeedNoApproveEnabled=!1,this.focusChatTextareaFn=a.f,this.moderationState=n.M.UNMODERATED,this.pubsub=new t.f(this),this._handleThingUpdate=e=>{let t="";if("awardOnContentId"in e?t=e.awardOnContentId:"commentId"in e?t=e.commentId:"postId"in e&&(t=e.postId),t!==this.thingId)return;const{value:o}=e;switch(e.action){case u.a.approve:case i.C.approve:case m.A.approve:case i.C.approveOptimistic:this.hasRemovalReason=!1,this.isRemoved=!1,this.moderationState=n.M.APPROVED;break;case u.a.remove:case u.a.removeAsSpam:case u.a.confirmRemoval:case i.C.remove:case i.C.removeAsSpam:case i.C.confirmRemoval:case m.A.remove:case m.A.confirmRemoval:case i.C.removeOptimistic:case i.C.removeAsSpamOptimistic:case i.C.confirmRemovalOptimistic:this.isRemoved=!0,this.moderationState=n.M.REMOVED;break;case u.a.addRemovalReason:case i.C.addRemovalReason:this.hasRemovalReason=!0;break;case u.a.updateHighlightedPost:this.isHighlighted=o;break;case u.a.lock:case i.C.lock:this.isLocked=o;break;case u.a.delete:this.isDeleted=o;break;case u.a.sticky:case i.C.sticky:this.isStickied=o}}}get itemType(){return this.thingId?h.i(this.thingId):null}get isPost(){return this.itemType===t.M.Post}get isCompactView(){return this.feedViewType===t.$.CompactView}get isOnModqueuePage(){return this.viewContext===c.P.ModQueue||this.viewContext===c.P.ModQueueAll}get isApproved(){return this.moderationState===n.M.APPROVED}get shouldShowConfirmRemoval(){return n.a(this.moderationState,this.isSpamFilteredPost)}get shouldShowActionInline(){return n.b(this.viewContext,this.feedViewType)&&!this.isIconOnly&&!this.hideInlineActions}get isStickyable(){const e=!(this.viewContext===c.P.ProfileFeed||this.viewContext===c.P.ProfileFeed2),t=this.isCurrentUserAuthor&&!this.hasParent;return this.isPost?e:e&&t}get itemTopic(){switch(this.itemType){case t.M.Award:return t.T.AwardOnContentUpdated;case t.M.Comment:return t.T.CommentUpdated;case t.M.Post:return t.T.PostUpdated;default:return null}}connectedCallback(){super.connectedCallback(),this.moderationState=this.itemState,this.itemTopic&&this.pubsub.subscribe(this.itemTopic,this._handleThingUpdate)}getApproveButtonAppearance(){const e=d.a8()?"bordered":"secondary";return this.isCompactView?e:this.shouldShowConfirmRemoval||this.hasReports?"primary":(this.moderationState,n.M.REMOVED,e)}renderApproveAction(){return (this.isModMode||this.isOnModqueuePage)&&n.c(this.moderationState)?this.isFeedNoApproveEnabled&&!this.isOnModqueuePage&&this.moderationState===n.M.UNMODERATED?null:e.x` <mod-action-button screen-reader-content="${"Approve content"}" data-mod-action="${a.M.ApproveContent}" button-appearance="${this.getApproveButtonAppearance()}" ?show-full-buttons="${!this.isIconOnly}"> <span slot="icon" class="flex justify-center">${e.U({attributes:{"aria-hidden":"true"},size:e.I.Small})}</span> <span slot="text">${"Approve"}</span> </mod-action-button> `:null;}renderRemoveAction(){return (this.isModMode||this.isOnModqueuePage)&&n.d(this.moderationState)?this.isFeedNoApproveEnabled&&!this.isOnModqueuePage&&this.moderationState===n.M.UNMODERATED?null:e.x` <mod-action-button screen-reader-content="${"Remove content"}" data-mod-action="${a.M.RemoveContent}" button-appearance="${d.a8()?"bordered":"secondary"}" ?show-full-buttons="${!this.isIconOnly}"> <span slot="icon" class="flex justify-center">${e.m({attributes:{"aria-hidden":"true"},size:e.I.Small})}</span> <span slot="text"> ${"Remove"} </span> </mod-action-button> `:null;}renderConfirmRemovalAction(){return (this.isModMode||this.isOnModqueuePage)&&this.shouldShowConfirmRemoval?e.x` <mod-action-button screen-reader-content="${"Confirm Removal"}" data-mod-action="${a.M.ConfirmRemoval}" button-appearance="${d.a8()?"bordered":"secondary"}" ?show-full-buttons="${!this.isIconOnly}" thing-id="${e.l(this.thingId)}" ?smart-escalations-tracking="${this.isSmartEscalations}"> <span slot="icon" class="flex justify-center">${e.m({attributes:{"aria-hidden":"true"},size:e.I.Small})}</span> <span slot="text"> ${"Confirm Removal"} </span> </mod-action-button> `:null;}renderSpamAction(){return n.e({moderationState:this.moderationState,isSpamFilteredPost:this.isSpamFilteredPost,isRemoved:this.isRemoved,isPromotedPost:this.isPromotedPost})&&this.shouldShowActionInline?e.x` <mod-action-button screen-reader-content="${"Remove content as spam"}" data-mod-action="${a.M.RemoveContentAsSpam}" button-appearance="plain" ?show-full-buttons="${!this.isIconOnly}"> <span slot="icon" class="flex justify-center">${s.s({attributes:{"aria-hidden":"true"},size:e.I.Small})}</span> <span slot="text"> ${"Spam"} </span> </mod-action-button> `:null;}renderShareToModChatAction(){if(!n.f({isPromotedPost:this.isPromotedPost})||!this.isContentLevelModsCommsEnabled||!this.modContentDiscussionContext?.modChatChannel||!this.isOnModqueuePage||this.isOnModqueuePage&&!this.shouldShowActionInline&&!this.modContentDiscussionContext.modContentDiscussion)return null;let t=this.modContentDiscussionContext?.modContentDiscussion?`${p.g(this.modContentDiscussionContext.modContentDiscussion.chatChannel?.roomId,this.modContentDiscussionContext.modContentDiscussion.chatMessage?.id)}/thread`:p.a(this.modContentDiscussionContext?.modChatChannel?.roomId);this.modContentDiscussionContext?.modContentDiscussion||(t+=`?draft=${encodeURIComponent("https://www.reddit.com"+this.permalink)}`);const i=this.modContentDiscussionContext?.modContentDiscussion?a.M.ViewChatThread:a.M.ShareToModChat,o=this.modContentDiscussionContext?.modContentDiscussion?"Open chat thread":"Share to mod chat",s=this.modContentDiscussionContext?.modContentDiscussion?"Open chat thread":"Share to mod chat";return e.x` <faceplate-tracker source="moderator" action="click" noun="${this.modContentDiscussionContext?.eventContext?.noun}" data-faceplate-tracking-context="${JSON.stringify({subreddit:{id:this.modContentDiscussionContext?.eventContext?.subredditId,name:this.modContentDiscussionContext?.eventContext?.subredditName},post:{id:this.modContentDiscussionContext?.eventContext?.postId},...(this.modContentDiscussionContext?.eventContext?.roomId && {chat:{id:this.modContentDiscussionContext?.eventContext?.roomId}}),...(this.modContentDiscussionContext?.eventContext?.commentId && {comment:{id:this.modContentDiscussionContext?.eventContext?.commentId}})})}" slot="mod-share-to-mod-chat"> <share-to-mod-chat-coachmark location="${this.modContentDiscussionContext?.modContentDiscussion?"modQueueChat":"modQueue"}" view-context="${this.viewContext}"> <reddit-chat-anchor> <a href="${t}"> <div class="relative"> <mod-action-button screen-reader-content="${o}" button-appearance="plain" data-mod-action="${i}"> <span slot="icon" class="flex justify-center"> ${e.aL({attributes:{"aria-hidden":"true"},size:e.I.Small})} </span> <span slot="text"> ${s} </span> </mod-action-button> </div> </a> </reddit-chat-anchor> </share-to-mod-chat-coachmark> </faceplate-tracker> `;}renderFlairAction(){return this.isPost&&this.shouldShowActionInline?e.x` <mod-action-button screen-reader-content="${"Open post flair modal"}" data-mod-action="${a.M.OpenEditPostFlairModal}" button-appearance="plain" ?show-full-buttons="${!this.isIconOnly}"> <span slot="icon" class="flex justify-center">${r.t({attributes:{"aria-hidden":"true"},size:e.I.Small})}</span> <span slot="text"> ${"Flair"} </span> </mod-action-button>`:null;}renderAddRemovalReasonAction(){return (this.isModMode||this.isOnModqueuePage)&&this.itemType!==t.M.Award&&n.s(this.moderationState,this.hasRemovalReason,this.isSpamFilteredPost,this.isProfilePost)?e.x` <mod-action-button screen-reader-content="${"Add removal reason"}" data-mod-action="${a.M.AddRemovalReason}" button-appearance="${d.a8()?"bordered":"secondary"}" ?show-full-buttons="${!0}"> <span slot="icon" class="flex justify-center">${e.ap({attributes:{"aria-hidden":"true"},size:e.I.Small})}</span> <span slot="text"> ${"Add removal reason"} </span> </mod-action-button> ${this.isIconOnly?e.x`<div class="separator"></div>`:null} `:null;}renderCopyLinkAction(){return this.shouldShowActionInline?this.isPost?e.x`<shreddit-post-share-button ?use-button="${!0}" ?is-desktop-viewport="${this.isDesktopViewport}" permalink="${this.permalink}" size="${t.a2.Small}" ?show-full-buttons="${!this.isIconOnly}"></shreddit-post-share-button>`:e.x`<shreddit-comment-share-button slot="comment-share" ?use-button="${!0}" ?is-desktop-viewport="${this.isDesktopViewport}" permalink="${this.permalink}" ?show-full-buttons="${!this.isIconOnly}"></shreddit-comment-share-button>`:null}renderLockAction(){if(!this.shouldShowActionInline||this.isLocked)return null;const t="Lock";return e.x` <mod-action-button screen-reader-content="${t}" data-mod-action="${a.M.Lock}" event-noun="lock" button-appearance="plain" ?show-full-buttons="${!this.isIconOnly}"> <span slot="icon" class="flex justify-center"> ${l.l({attributes:{"aria-hidden":"true"},size:e.I.Small})} </span> <span slot="text"> ${t} </span> </mod-action-button>`}renderUnlockAction(){if(!this.shouldShowActionInline||!this.isLocked)return null;const t="Unlock";return e.x` <mod-action-button screen-reader-content="${t}" data-mod-action="${a.M.Unlock}" event-noun="unlock" button-appearance="plain" ?show-full-buttons="${!this.isIconOnly}"> <span slot="icon" class="flex justify-center"> ${e.ax({attributes:{"aria-hidden":"true"},size:e.I.Small})} </span> <span slot="text"> ${t} </span> </mod-action-button>`}renderStickyAction(){if(!this.isStickyable||!this.shouldShowActionInline||this.isStickied||this.areHighlightsEnabled)return null;const t="Sticky";return e.x` <mod-action-button screen-reader-content="${t}" data-mod-action="${a.M.Sticky}" event-noun="sticky" button-appearance="plain" ?show-full-buttons="${!this.isIconOnly}"> <span slot="icon" class="flex justify-center"> ${e.bh({attributes:{"aria-hidden":"true"},size:e.I.Small})} </span> <span slot="text"> ${t} </span> </mod-action-button>`}renderUnstickyAction(){if(!this.isStickyable||!this.shouldShowActionInline||!this.isStickied||this.areHighlightsEnabled)return null;const t="Unsticky";return e.x` <mod-action-button screen-reader-content="${t}" data-mod-action="${a.M.Unsticky}" event-noun="unsticky" button-appearance="plain" ?show-full-buttons="${!this.isIconOnly}"> <span slot="icon" class="flex justify-center"> ${e.bi({attributes:{"aria-hidden":"true"},size:e.I.Small})} </span> <span slot="text"> ${t} </span> </mod-action-button>`}renderAddToHighlightsAction(){if(!this.isStickyable||!this.shouldShowActionInline||!this.areHighlightsEnabled||!s.H.has(this.viewContext)||this.isHighlighted)return null;const t="Add to highlights";return e.x` <mod-action-button screen-reader-content="${t}" data-mod-action="${a.M.UpdateHighlightedPost}" event-noun="highlight" button-appearance="plain" ?show-full-buttons="${!this.isIconOnly}"> <span slot="icon" class="flex justify-center"> ${e.bh({attributes:{"aria-hidden":"true"},size:e.I.Small})} </span> <span slot="text"> ${t} </span> </mod-action-button>`}renderRemoveFromHighlightsAction(){if(!(this.isStickyable&&this.shouldShowActionInline&&this.areHighlightsEnabled&&s.H.has(this.viewContext)&&this.isHighlighted))return null;const t="Remove from highlights";return e.x` <mod-action-button screen-reader-content="${t}" data-mod-action="${a.M.RemoveHighlightedPost}" event-noun="unhighlight" button-appearance="plain" ?show-full-buttons="${!this.isIconOnly}"> <span slot="icon" class="flex justify-center"> ${e.bi({attributes:{"aria-hidden":"true"},size:e.I.Small})} </span> <span slot="text"> ${t} </span> </mod-action-button>`}render(){return e.x` ${this.renderAddRemovalReasonAction()} ${this.renderApproveAction()} ${this.renderRemoveAction()} ${this.renderConfirmRemovalAction()} ${this.renderShareToModChatAction()} ${this.renderSpamAction()} ${this.renderFlairAction()} ${this.renderLockAction()} ${this.renderUnlockAction()} ${this.renderCopyLinkAction()} ${this.renderStickyAction()} ${this.renderUnstickyAction()} ${this.renderAddToHighlightsAction()} ${this.renderRemoveFromHighlightsAction()} `}};R.styles=[t.t,e.i`:host{display:flex;gap:var(--spacer-xs)}.separator{border-left:1px solid rgb(0,0,0,.1);width:1px;height:32px}`],e._([e.n({type:String,attribute:"thing-id"})],R.prototype,"thingId",void 0),e._([e.n({type:String,attribute:"feed-view-type"})],R.prototype,"feedViewType",void 0),e._([e.n({type:String,attribute:"view-context"})],R.prototype,"viewContext",void 0),e._([e.n({type:String,attribute:"item-state"})],R.prototype,"itemState",void 0),e._([e.n({type:Boolean,attribute:"has-reports"})],R.prototype,"hasReports",void 0),e._([e.n({type:Boolean,attribute:"mod-mode"})],R.prototype,"isModMode",void 0),e._([e.n({type:Boolean,attribute:"removed"})],R.prototype,"isRemoved",void 0),e._([e.n({type:Boolean,attribute:"deleted"})],R.prototype,"isDeleted",void 0),e._([e.n({type:Boolean,attribute:"locked"})],R.prototype,"isLocked",void 0),e._([e.n({type:Boolean,attribute:"stickied"})],R.prototype,"isStickied",void 0),e._([e.n({type:Boolean,attribute:"highlighted"})],R.prototype,"isHighlighted",void 0),e._([e.n({type:Boolean,attribute:"current-user-author"})],R.prototype,"isCurrentUserAuthor",void 0),e._([e.n({type:Boolean,attribute:"has-parent"})],R.prototype,"hasParent",void 0),e._([e.n({type:Boolean,attribute:"icon-only"})],R.prototype,"isIconOnly",void 0),e._([e.n({type:Boolean,attribute:"has-removal-reason"})],R.prototype,"hasRemovalReason",void 0),e._([e.n({type:String,attribute:"permalink"})],R.prototype,"permalink",void 0),e._([e.n({type:Boolean,attribute:"is-desktop-viewport"})],R.prototype,"isDesktopViewport",void 0),e._([e.n({type:Boolean,attribute:"is-spam-filtered-post"})],R.prototype,"isSpamFilteredPost",void 0),e._([e.n({type:Boolean,attribute:"is-profile-post"})],R.prototype,"isProfilePost",void 0),e._([e.n({type:Boolean,attribute:"is-promoted-post"})],R.prototype,"isPromotedPost",void 0),e._([e.n({type:Boolean,attribute:"has-flair-permissions"})],R.prototype,"hasFlairPermissions",void 0),e._([e.n({type:Boolean,attribute:"highlights-enabled"})],R.prototype,"areHighlightsEnabled",void 0),e._([e.n({type:Boolean,attribute:"hide-inline-actions"})],R.prototype,"hideInlineActions",void 0),e._([e.n({type:Boolean,attribute:"smart-escalations"})],R.prototype,"isSmartEscalations",void 0),e._([e.n({type:Boolean,attribute:"is-content-level-mods-comms-enabled"})],R.prototype,"isContentLevelModsCommsEnabled",void 0),e._([e.n({type:Object,attribute:"mod-content-discussion-context"})],R.prototype,"modContentDiscussionContext",void 0),e._([e.n({type:Boolean,attribute:"is-feed-no-approve-enabled"})],R.prototype,"isFeedNoApproveEnabled",void 0),e._([e.n({attribute:!1})],R.prototype,"focusChatTextareaFn",void 0),e._([e.b()],R.prototype,"moderationState",void 0),R=e._([e.c("shreddit-mod-inline-actions")],R);let g=class extends o.M{constructor(){super(...arguments),this.isNsfw=!1,this.isSpoiler=!1,this.pubsub=new t.f(this),this._handlePostUpdate=({postId:e,action:i,value:o})=>{if(e===this.thingId)switch(i){case u.a.lock:this.isLocked=Boolean(o);break;case u.a.sticky:this.isStickied=Boolean(o);break;case u.a.updateHighlightedPost:this.isHighlighted=Boolean(o);break;case u.a.distinguishAsMod:this.distinguishedAs=o?t.aQ.Moderator:void 0;break;case u.a.approveOptimistic:case u.a.approve:this.isRemoved=!1,this.hasRemovalReason=!1,this.verdict=t._.ModApproved,this.itemState=n.M.APPROVED,this.hasReports=!1,this.requestUpdate();break;case u.a.remove:case u.a.removeAsSpam:case u.a.confirmRemoval:case u.a.removeOptimistic:case u.a.removeAsSpamOptimistic:case u.a.confirmRemovalOptimistic:this.isRemoved=!0,this.verdict=t._.ModRemoved,this.itemState=n.M.REMOVED,this.hasReports=!1;break;case u.a.addRemovalReason:this.hasRemovalReason=Boolean(o);break;case u.a.markAsNsfw:this.isNsfw=Boolean(o);break;case u.a.markAsSpoiler:this.isSpoiler=Boolean(o);break;case u.a.ignoreReports:this.isReportingIgnored=Boolean(o),o&&(this.isRemoved=!1,this.verdict=t._.ModApproved,this.itemState=n.M.APPROVED)}}}get isStickyable(){return super.isStickyable}connectedCallback(){super.connectedCallback(),this.pubsub.subscribe(t.T.PostUpdated,this._handlePostUpdate)}renderMarkAsNsfwAction(){return this.isDeleted||this.isNsfw?null:N.l({leadingIcon:e.aB(),label:"Add NSFW tag",size:this.size,onClick:this.getListItemClickHandler(this.modActionsController.handleMarkNsfw)});}renderUnmarkAsNsfwAction(){return this.isDeleted||!this.isNsfw?null:N.l({leadingIcon:e.bn(),label:"Remove NSFW tag",size:this.size,onClick:this.getListItemClickHandler(this.modActionsController.handleUnmarkNsfw)});}renderMarkAsSpoilerAction(){return this.isDeleted||this.isSpoiler?null:N.l({leadingIcon:e.bo(),label:"Add spoiler tag",size:this.size,onClick:this.getListItemClickHandler(this.modActionsController.handleMarkSpoiler)});}renderUnmarkAsSpoilerAction(){return this.isDeleted||!this.isSpoiler?null:N.l({leadingIcon:e.bp(),label:"Remove spoiler tag",size:this.size,onClick:this.getListItemClickHandler(this.modActionsController.handleUnmarkSpoiler)});}renderAdjustCrowdControlAction(){return this.isPromotedPost?null:N.l({leadingIcon:k.c(),label:"Adjust crowd control",size:this.size,onClick:this.getListItemClickHandler(this.modActionsController.handleAdjustCrowdControl)});}renderActions(){return [this.renderConfirmRemovalAction(),this.renderApproveAction(),this.renderRemoveAction(),this.isContentLevelModsCommsEnabled?this.renderShareToModChatAction(this.modContentDiscussionContext):null,this.renderSpamAction(),this.renderIgnoreReportsAction(),this.renderUnignoreReportsAction(),this.renderAddRemovalReasonAction(),this.renderDistinguishAction(),this.renderUndistinguishAction(),this.renderStickyAction("Sticky post"),this.renderUnstickyAction("Unsticky post"),this.renderAddToHighlightsAction(),this.renderRemoveFromHighlightsAction(),this.renderLockAction("Lock comments"),this.renderUnlockAction("Unlock comments"),this.renderEditPostFlairAction("Edit post flair"),this.renderMarkAsNsfwAction(),this.renderUnmarkAsNsfwAction(),this.renderMarkAsSpoilerAction(),this.renderUnmarkAsSpoilerAction(),this.renderAdjustCrowdControlAction(),this.renderCopyLinkAction()];}};e._([e.n({type:Boolean,attribute:"nsfw"})],g.prototype,"isNsfw",void 0),e._([e.n({type:Boolean,attribute:"spoiler"})],g.prototype,"isSpoiler",void 0),g=e._([e.c("shreddit-post-mod-actions-menu")],g)}));
SML.dm("6RrUYk9Z",["DAgRafdt","DSWSCRFk","D1t4sUi7","DkdYL6xx","ANc6hYHB","BHN2zcRJ","3kt68AAF","CJjbk0RM","DxvZ7Xss","alLlRaWG","BR-9gnOG","BWRmaaMs","DgPnIlBs","C_rqfwty","DLKm42XZ","OAEZpqSu","Dnwr24bF","s1sP3jLz","CgIWqP9n","DjoKwtwQ","FDsJDUC0","CA4SrzzK","BGFdPua5","DDc9KuQK","gxmLFmZN","DBmDcARJ","DFWBK-TR","CcBwwinu","u2CQVEzy","Dl4VGxuI","Bt3zFHSO","C-AymPzu","C3p34GtE","BQbyLE0C","B_Z23SiP","BY0sdjRu","DvsbXjsy","C9Y39_ZO","Vy1IDB19","BVLgyhDE","zYHiKPTa","B8bCssFV","DOyzSNfA","BjRhnMPP","CSE2B15f","BP7JtdRP","Dj1DJbmt","em8GmEry","mLeBs957","DdIwQUSk","pwr-4fHs","D_8J9LrK","CnL37q4H","CU4mObWU","DFVLQ5P3","DykY8ocl","B9zPlUxe","CPcvYJxh","C0wp0zNv","CGzEIBwW","DxYz4TCM","DkSjHUQO"],(async(E,t,T,e,r,_)=>{let D=class extends t.s{constructor(){super(...arguments),this.isEnoughParentWidth=!1,this.removed=!1,this.thingId="",this.shouldIgnoreParentWidth=!1,this.pubsub=new E.f(this),this.minWidthToShowLabel=460,this.onCommentUpdateAction=E=>{if(E.commentId!==this.thingId)return;const{action:t}=E;switch(t){case r.C.approve:case r.C.approveOptimistic:this.removed=!1;break;case r.C.remove:case r.C.removeAsSpam:case r.C.confirmRemoval:case r.C.removeOptimistic:case r.C.removeAsSpamOptimistic:case r.C.confirmRemovalOptimistic:this.removed=!0}},this.onPostUpdateAction=E=>{if(E.postId!==this.thingId)return;const{action:t}=E;switch(t){case _.a.approve:case _.a.approveOptimistic:this.removed=!1;break;case _.a.remove:case _.a.removeAsSpam:case _.a.confirmRemoval:case _.a.removeOptimistic:case _.a.removeAsSpamOptimistic:case _.a.confirmRemovalOptimistic:this.removed=!0}},this.onAwardOnContentUpdateAction=E=>{if(E.awardOnContentId!==this.thingId)return;const{action:t}=E;switch(t){case e.A.approve:this.removed=!1;break;case e.A.remove:case e.A.confirmRemoval:this.removed=!0}}}connectedCallback(){this.initializeResizeObserver(),this.pubsub.subscribe(E.T.PostUpdated,this.onPostUpdateAction),this.pubsub.subscribe(E.T.CommentUpdated,this.onCommentUpdateAction),this.pubsub.subscribe(E.T.AwardOnContentUpdated,this.onAwardOnContentUpdateAction),super.connectedCallback()}disconnectedCallback(){this.resizeObserver?.disconnect(),super.disconnectedCallback()}initializeResizeObserver(){const E=T.g(this);E&&(this.resizeObserver=new ResizeObserver((E=>{for(const t of E){const E=t.contentRect.width>=this.minWidthToShowLabel;E!==this.isEnoughParentWidth&&(this.isEnoughParentWidth=E)}})),this.resizeObserver.observe(E))}render(){return t.x` <span class="inline-flex items-center gap-xs text-12 text-neutral-content w-full"> <div class="relative"> <slot name="verdict-indicator-avatar"></slot> <div aria-hidden="true" class="absolute bottom-0 -right-px flex justify-center items-center h-md w-md rounded-full border-solid border-md border-neutral-background scale-75 origin-bottom-right translate-y-px ${this.removed?"bg-red-200 text-red-700":"bg-kiwigreen-200 text-kiwigreen-700"}"> ${this.removed?t.m({size:t.I.ExtraSmall}):t.U({size:t.I.ExtraSmall})} </div> </div> ${this.shouldShowLabel?t.x`<slot name="verdict-indicator-label"></slot>`:""} </span> `}get shouldShowLabel(){return this.shouldIgnoreParentWidth||this.isEnoughParentWidth}};D.styles=[E.t],t._([t.b()],D.prototype,"isEnoughParentWidth",void 0),t._([t.n({type:Boolean,reflect:!0})],D.prototype,"removed",void 0),t._([t.n({type:String,attribute:"thing-id"})],D.prototype,"thingId",void 0),t._([t.n({type:Boolean,attribute:"ignore-parent-width"})],D.prototype,"shouldIgnoreParentWidth",void 0),D=t._([t.c("mod-verdict-indicator-component")],D)}));
SML.dm("rPGPQWBN",[],(async()=>{var n;!function(n){n.Collapsed="0",n.Expanded="1"}(n||(n={}));const e={[n.Collapsed]:"flex-nav-collapsed",[n.Expanded]:"flex-nav-expanded"},t=Object.values(n);return{F:"hui_flex_nav_expanded_state",a:{LeftSidebarContainer:"left-sidebar-container",ContainerDiv:"flex-left-nav-container",ContentsDiv:"flex-left-nav-contents",ButtonsContainer:"flex-nav-buttons",ExpandButton:"flex-nav-expand-button",CollapseButton:"flex-nav-collapse-button",SubgridContainer:"subgrid-container"},get b(){return n},c:e,i:n=>!!n&&t.includes(n)}}));
SML.dm("DUi6aGet",["DSWSCRFk","DAgRafdt","OAEZpqSu","rPGPQWBN"],(async(t,e,n,i)=>{let s=class extends e.Y{constructor(){super(...arguments),this.isHovered=!1,this.hoverDelayStart=150,this.hoverDelayEnd=150,this.preventNextAnimations=!1,this.containerElement=null,this.contentsElement=null,this.expandButton=null,this.collapseButton=null,this.gridTransitionPromise=null,this.gridTransitioning=!1,this.trigger="hover",this.interactionController=new n.a9(this,{hoverDelayStart:()=>this.hoverDelayStart,hoverDelayEnd:()=>this.hoverDelayEnd,isInteractedWith:t=>t.isHovered}),this.noAnimate=!1,this.parentGridSelector=".grid-container",this.hotkeysController=new e.c0(this),this.handleSlotChange=t=>{const e=document.getElementById(i.a.ContainerDiv),n=document.getElementById(i.a.ContentsDiv),s=document.getElementById(i.a.ExpandButton),a=document.getElementById(i.a.CollapseButton);n&&this.contentsElement!==n&&(this.contentsElement?.removeEventListener("mouseenter",this.interactionController.handleMouseEnter),n.addEventListener("mouseenter",this.interactionController.handleMouseEnter),this.contentsElement=n,this.isExpanded||(this.contentsVisibility=!1)),e&&this.containerElement!==e&&(this.containerElement=e),a&&a!==this.collapseButton&&(this.collapseButton?.removeEventListener("click",this.toggleState),this.collapseButton=a,a.addEventListener("click",this.toggleState)),s&&s!==this.expandButton&&(this.expandButton?.removeEventListener("click",this.toggleState),this.expandButton?.removeEventListener("keydown",this.handleExpandKeydown),this.expandButton=s,s.addEventListener("click",this.toggleState),s.addEventListener("mouseover",this.handleExpandButtonMouseOver),s.addEventListener("keydown",this.handleExpandKeydown))},this.handleExpandKeydown=async t=>{if("Tab"!==t.key)return;t.preventDefault();const e=document.querySelector("reddit-skip-to-sidebar")?.shadowRoot?.querySelector("a");if(e)return this.emitter.dispatch("focus-delegate",{detail:{el:e}}),e.focus();const n=document.getElementById("shreddit-skip-link");n instanceof HTMLElement&&(this.emitter.dispatch("focus-delegate",{detail:{el:n}}),n.focus())},this.handleExpandButtonMouseOver=t=>{this.isHovered?this.interactionController.handleMouseEnter(t):t.stopImmediatePropagation()},this.toggleStateViaHotkey=()=>{this.toggleState(void 0,{viaHotkey:!0})},this.toggleState=(t,n)=>{const s=document.querySelector(this.parentGridSelector);var a,l;void 0!==this.country&&void 0!==this.expanded&&s&&(this.emitTrackingEvent(this.isExpanded?"collapse":"expand",n),this.expanded=this.isExpanded?i.b.Collapsed:i.b.Expanded,s instanceof HTMLElement&&(this.gridTransitioning=!0,this.gridTransitionPromise=this.preventNextAnimations?r():o(s).then((()=>{this.gridTransitioning=!1})),s.classList.remove(...Object.values(i.c)),s.classList.add(i.c[this.expanded])),a=this.expanded,l=this.country,e.u({name:i.F,value:a,country:l}))}}get isExpanded(){return this.expanded===i.b.Expanded}set contentsVisibility(t){this.contentsElement&&(this.contentsElement.hidden=!t)}emitTrackingEvent(t,n){let i;n?.viaHotkey&&(i={action_info:{trigger_type:e.co.HOTKEY}});const[s,a,o]={expand:["nav","click","open_community_nav"],collapse:["nav","click","close_community_nav"],hover:["nav","hover","open_community_nav"],unhover:["nav","hover","close_community_nav"]}[t];return e.a(this,{source:s,action:a,noun:o,...i})}async stopAnimations(){const t=[];this.containerElement&&t.push(e.bC(this.containerElement)),this.contentsElement&&t.push(e.bC(this.contentsElement)),await Promise.all(t)}async runAnimations(t,n){if(this.preventNextAnimations)return;const i=[],s=e.bD(this,`flex-left-nav-container.${t}-${n}`),a=e.bD(this,`flex-left-nav-contents.${t}-${n}`);this.containerElement&&i.push(e.bE(this.containerElement,s.keyframes,s.options)),this.contentsElement&&i.push(e.bE(this.contentsElement,a.keyframes,a.options)),await Promise.all(i)}async connectedCallback(){super.connectedCallback(),await this.syncFlexNavStateNoAnimate(),this.isExpanded||this.updateComplete.then((()=>this.contentsVisibility=!1)),this.addEventListener("mouseleave",this.interactionController.handleMouseLeave),this.hotkeysController.subscribe(e.c1.OPEN_NAVIGATION,this.toggleStateViaHotkey)}disconnectedCallback(){super.disconnectedCallback(),this.removeEventListener("mouseleave",this.interactionController.handleMouseLeave),this.hotkeysController.unsubscribe(e.c1.OPEN_NAVIGATION,this.toggleStateViaHotkey)}willUpdate(t){t.has("expanded")&&this.hasUpdated&&this.handleExpandedStateChanged(),super.willUpdate(t)}updated(){}focusContents(){this.isExpanded?this.collapseButton?.focus():this.expandButton?.focus()}async syncFlexNavStateNoAnimate(){const t=(()=>{const t=e.q.get(i.F);return i.i(t)?t:null})();null!==t&&this.expanded!==t&&(this.preventAnimationsForUpdate(),this.toggleState(),await this.updateComplete)}async preventAnimationsForUpdate(){this.preventNextAnimations=!0;const t=document.querySelector(this.parentGridSelector);t instanceof HTMLElement&&(t.style.transition="none"),this.setAttribute("skip-animation",""),await Promise.all([this.updateComplete,r()]),this.removeAttribute("skip-animation"),t instanceof HTMLElement&&(t.style.transition=""),this.preventNextAnimations=!1}async handleExpandedStateChanged(){this.emitter.dispatch(this.isExpanded?"expand":"collapse");const t=this.updateComplete,e=(this.isExpanded?this.collapseButton:this.expandButton)?.parentElement,n=(this.isExpanded?this.expandButton:this.collapseButton)?.parentElement;if(a(e)&&(e.disabled=!0),a(n)&&n.hide?.(),t.then((async()=>{this.focusContents()})),await this.stopAnimations(),this.isExpanded&&(this.contentsVisibility=!0),!this.isHovered&&this.containerElement){const t=this.isExpanded?"show":"hide";await this.runAnimations("expand",t)}else this.gridTransitioning&&this.gridTransitionPromise?.then((()=>{this.emitter.dispatch("after-grid-transition"),this.isHovered=!1,this.classList.remove("hovered")}));this.isExpanded||(this.contentsVisibility=!1),a(e)&&(e.disabled=!1),this.emitter.dispatch(this.isExpanded?"after-expand":"after-collapse")}async startInteraction(){this.isExpanded||this.isHovered||this.gridTransitioning||(this.emitTrackingEvent("hover"),this.emitter.dispatch("hover"),await this.stopAnimations(),this.classList.add("hover-started"),this.contentsVisibility=!0,this.isHovered=!0,await this.runAnimations("hover","show"),this.classList.remove("hover-started"),this.classList.add("hovered"),this.emitter.dispatch("after-hover"))}async finishInteraction(){!this.isExpanded&&this.isHovered&&(this.emitTrackingEvent("unhover"),this.emitter.dispatch("unhover"),await this.stopAnimations(),await this.runAnimations("hover","hide"),this.classList.remove("hovered"),this.isHovered=!1,this.contentsVisibility=!1,this.emitter.dispatch("after-unhover"))}render(){return t.x` <slot @slotchange="${this.handleSlotChange}"></slot> ${this.isExpanded?t.A:t.x`<div class="hoverable-target ${this.isHovered?"hovered":""}" @mouseenter="${this.interactionController.handleMouseEnter}"></div>`} `}};s.styles=t.i`:host(.hover-started),:host(.hovered){z-index:10!important;border-top:1px solid var(--color-neutral-border)!important}.hoverable-target{position:fixed;top:calc(var(--shreddit-header-height) + 72px);width:calc(var(--flex-nav-closed-size) + 16px);bottom:0;z-index:calc(var(--flex-nav-z-index) + 1)}.hoverable-target.hovered{z-index:calc(var(--flex-nav-z-index) - 1);top:var(--shreddit-header-height);width:calc(var(--flex-nav-expanded-size) + 16px)}`,t._([t.b()],s.prototype,"isHovered",void 0),t._([t.n({type:String,reflect:!0})],s.prototype,"expanded",void 0),t._([t.n({type:String})],s.prototype,"country",void 0),t._([t.n({type:Boolean})],s.prototype,"noAnimate",void 0),t._([t.n({type:String})],s.prototype,"parentGridSelector",void 0),s=t._([t.c("flex-left-nav-container")],s);const a=t=>"rpl-tooltip"===t?.tagName.toLowerCase(),o=(t,e=1200)=>{const n=t=>new Promise((n=>{t.addEventListener("transitionend",n),setTimeout(n,e)}));return Array.isArray(t)?Promise.all(t.map(n)):n(t)},r=()=>new Promise((t=>requestAnimationFrame(t)));return e.bA("flex-left-nav-container.expand-show",{keyframes:[{transform:"translateX(var(--closed-floating-translation))"},{transform:"translateX(var(--open-floating-translation))"}],options:{duration:250,easing:"cubic-bezier(0.65, 0, 0.35, 1)"}}),e.bA("flex-left-nav-container.expand-hide",{keyframes:[{transform:"translateX(var(--open-floating-translation))"},{transform:"translateX(var(--closed-floating-translation))"}],options:{duration:300,easing:"cubic-bezier(0.87, 0, 0.13, 1)"}}),e.bA("flex-left-nav-container.hover-show",{keyframes:[{boxShadow:"var(--left-nav-box-shadow-none)",transform:"translateX(var(--closed-floating-translation))"},{boxShadow:"var(--left-nav-box-shadow-hover)",transform:"translateX(var(--open-floating-translation))"}],options:{duration:250,easing:"cubic-bezier(0.65, 0, 0.35, 1)"}}),e.bA("flex-left-nav-container.hover-hide",{keyframes:[{boxShadow:"var(--left-nav-box-shadow-hover)",transform:"translateX(var(--open-floating-translation))"},{boxShadow:"var(--left-nav-box-shadow-none)",transform:"translateX(var(--closed-floating-translation))"}],options:{duration:300,easing:"cubic-bezier(0.87, 0, 0.13, 1)"}}),e.bA("flex-left-nav-contents.show",{keyframes:[{opacity:0},{opacity:1}],options:{duration:250,easing:"linear"}}),e.bA("flex-left-nav-contents.hide",{keyframes:[{opacity:1},{opacity:0}],options:{duration:300,easing:"linear"}}),{get F(){return s}}}));

SML.dm("BHs0pHn7",["DSWSCRFk","DAgRafdt"],(async N=>{var I;!function(N){N.APP="APP",N.GAME="GAME",N.NSFW="NSFW",N.ORIGINAL="ORIGINAL",N.SPOILER="SPOILER",N.QUARANTINED="QUARANTINED"}(I||(I={}));return {get C(){return I},c:({attributes:A,children:R,appearance:E})=>{const{html:e,createElement:a}=N.g(),P={size:N.q.Small,attributes:{className:"inline-block",style:"vertical-align: text-bottom"}},T={[I.APP]:{className:"text-ai-plain",icon:N.a7(P)},[I.GAME]:{className:"text-ai-plain",icon:N.a8(P)},[I.NSFW]:{className:"text-category-nsfw",icon:N.a9(P)},[I.ORIGINAL]:{className:"text-primary",icon:N.aa(P)},[I.SPOILER]:{className:"text-category-spoiler",icon:N.M(P)},[I.QUARANTINED]:{className:"text-warning-content",icon:N.ab(P)}},O=e`<span class="inline-block" aria-hidden="true">${[T[E].icon]}</span> <span class="font-semibold text-12 uppercase">${R}</span>`;return a("span",{...A,className:`flex items-center gap-2xs ${[T[E].className]}`,rpl:!0},O)},g:()=>({[I.NSFW]:{children:"NSFW",appearance:I.NSFW},[I.APP]:{children:"APP",appearance:I.APP},[I.GAME]:{children:"GAME",appearance:I.GAME},[I.SPOILER]:{children:"SPOILER",appearance:I.SPOILER},[I.QUARANTINED]:{children:"QUARANTINED",appearance:I.QUARANTINED},[I.ORIGINAL]:{children:"ORIGINAL",appearance:I.ORIGINAL}})};}));
SML.dm("CI9WNRQ4",["DSWSCRFk","BHs0pHn7","DAgRafdt","BHN2zcRJ","s1sP3jLz"],(async(t,e,s,i)=>{let n=class extends t.s{constructor(){super(),this.postId="",this.spoiler=!1,this.nsfw=!1,this.quarantined=!1,this.game=!1,this.app="",this.onPostUpdateAction=({postId:t,action:e,value:s})=>{if(this.postId===t)switch(e){case i.a.markAsNsfw:this.nsfw=s;break;case i.a.markAsSpoiler:this.spoiler=s}},this.pubsubController=new s.f(this)}connectedCallback(){super.connectedCallback(),this.pubsubController.subscribe(s.T.PostUpdated,this.onPostUpdateAction)}renderContentTag(s){const i=e.c(e.g()[s]);return t.x`<span class="h-lg inline-block">${i}</span>`}render(){return this.nsfw||this.spoiler||this.quarantined||this.app?t.x` <div class="content-tags inline-flex gap-xs"> ${this.nsfw?this.renderContentTag(e.C.NSFW):""} ${this.app?t.x`<a target="_blank" href="https://developers.reddit.com/apps/${this.app}?utm=watermark_v1" @click="${()=>this.dispatchEvent(new CustomEvent("tag-click",{detail:{type:e.C.APP}}))}">${this.renderContentTag(this.game?e.C.GAME:e.C.APP)}</a>`:""} ${this.spoiler?this.renderContentTag(e.C.SPOILER):""} ${this.quarantined?this.renderContentTag(e.C.QUARANTINED):""} </div> `:""}};n.styles=[s.t],t._([t.n({type:String,attribute:"post-id"})],n.prototype,"postId",void 0),t._([t.n({type:Boolean,attribute:"spoiler",reflect:!0})],n.prototype,"spoiler",void 0),t._([t.n({type:Boolean,attribute:"nsfw",reflect:!0})],n.prototype,"nsfw",void 0),t._([t.n({type:Boolean,attribute:"quarantined",reflect:!0})],n.prototype,"quarantined",void 0),t._([t.n({type:Boolean})],n.prototype,"game",void 0),t._([t.n({type:String})],n.prototype,"app",void 0),n=t._([t.c("shreddit-content-tags")],n)}));
SML.dm("DopldlAx",["DSWSCRFk","DAgRafdt"],(async(t,i)=>{i.cs(t.i`#shreddit-media-lightbox .lightboxed-content{display:flex;align-items:center;justify-content:center;width:100%;height:100%}#shreddit-media-lightbox .non-lightboxed-content{display:none}#shreddit-media-lightbox .media-lightbox-img{max-height:none}#shreddit-media-lightbox::part(panel){max-width:100svw;max-height:100svh;width:100svw;height:100svh;border-radius:0}`);let e=class extends t.s{constructor(){super(...arguments),this._isConnected=!1,this._push=i.cx,this._lightboxUrl=void 0,this.pubsub=new i.f(this),this.templateRef=i.C(),this.contentRef=i.C(),this._hideCloseButtonOnIdle=!1,this.disableAnimations=!1,this.isIdle=!1,this.lightboxOpenHandler=({element:t,attributes:i={}})=>{const e=i.permalink??window.location.href;try{const s=e.startsWith("http")?e:`${window.location.origin}${e}`;this._lightboxUrl=new URL(`${s}#lightbox`),this._push(this._lightboxUrl.href,{onForwardNav:()=>this.showModal({element:t,attributes:i}),onBackNav:()=>this.dialog?.hide()})}catch(s){this.showModal({element:t,attributes:i}),window.Sentry?.captureException?.(`shreddit-media-lightbox: Error parsing permalink ${e}`,s)}},this.showModal=({element:t,attributes:e={}})=>{if(this.dialog?.open)return;const{hideCloseButtonOnIdle:s,onAfterClose:o}=e;this._hideCloseButtonOnIdle=s??!1,this._onAfterClose=o,this._originalParent=t,this._originalParentHeight=t.offsetHeight||t.parentElement?.offsetHeight,this.dialog?.showModal(),this.pubsub.publish(i.T.LightboxOpened)},this.onAfterShow=()=>{const t=document.createElement("div");t.style.height=`${this._originalParentHeight}px`,this.contentRef?.value?.replaceChildren(...(this._originalParent?.children || [])),this._originalParent?.appendChild(t),this._startIdleTimer(),this.isIdle=!1},this.lightboxCloseHandler=()=>{this.dialog?.open&&this.dialog?.hide()},this.onDialogHide=()=>{this.pubsub.publish(i.T.LightboxClosed),this.contentRef?.value?.children&&this._originalParent&&(this._originalParent.replaceChildren(...this.contentRef.value.children),this.contentRef.value.innerHTML=""),this._originalParent=void 0,this._hideCloseButtonOnIdle=!1,this._idleTimeout=void 0,this.isIdle=!1;const t=window.navigation?.currentEntry?.url!==this._lightboxUrl?.href;window.navigation?.canGoBack&&!t&&(this._lightboxUrl=void 0,window.navigation.back())},this.onAfterHide=()=>{this._onAfterClose&&(this._onAfterClose(),this._onAfterClose=void 0)},this._startIdleTimer=()=>{this._hideCloseButtonOnIdle&&(this._stopIdleTimer(),this._idleTimeout=window.setTimeout((()=>{this.isIdle=!0}),1500))}}static get styles(){return[i.t]}connectedCallback(){super.connectedCallback();Array.from(document.getElementsByTagName("shreddit-media-lightbox")).some((t=>t._isConnected))||(this._isConnected=!0,this.pubsub.subscribe(i.T.LightboxOpen,this.lightboxOpenHandler,!1),this.pubsub.subscribe(i.T.LightboxClose,this.lightboxCloseHandler,!1))}firstUpdated(){this.dialog&&this.disableAnimations&&function(t){const e={keyframes:[],options:{duration:0}};["dialog.show","dialog.hide","dialog.denyClose","dialog.overlay.show","dialog.overlay.hide"].forEach((s=>{i.f4(t,s,e)}))}(this.dialog)}disconnectedCallback(){super.disconnectedCallback(),this._isConnected&&(this.dialog?.open&&this.dialog?.hide(),this._isConnected=!1)}_stopIdleTimer(){window.clearTimeout(this._idleTimeout),this._idleTimeout=void 0,this.isIdle=!1}render(){if(this._isConnected){const e=t.x`<div data-testid="lightbox-template" class="relative h-full w-full" @mousemove="${this._startIdleTimer}" @click="${this._startIdleTimer}" @keydown="${this._startIdleTimer}" ${i.H(this.templateRef)}> <div data-testid="lightbox-template-content" class="h-full w-full max-h-dvh" ${i.H(this.contentRef)}></div> ${i.J({size:i.a2.Large,appearance:"media",shape:"pill",attributes:{"data-testid":"close-button",className:"absolute top-sm right-sm z-10 duration-300 "+(this.isIdle?"opacity-0 invisible":"opacity-100"),"aria-label":"Close lightbox",onclick:()=>{this.dialog?.hide()}},children:t.bb({size:t.q.Medium})})} </div>`;return t.x` <rpl-dialog dialog-id="${"shreddit-media-lightbox"}" @rpl-dialog:after-show="${this.onAfterShow}" @rpl-dialog:hide="${this.onDialogHide}" @rpl-dialog:after-hide="${this.onAfterHide}" .litTemplateChildren="${e}"> </rpl-dialog> `}return""}};t._([t.n({type:Boolean,attribute:"disable-animations"})],e.prototype,"disableAnimations",void 0),t._([t.b()],e.prototype,"isIdle",void 0),t._([t.D("rpl-dialog")],e.prototype,"dialog",void 0),e=t._([t.c("shreddit-media-lightbox")],e);let s=class extends t.s{constructor(){super(...arguments),this.pubsub=new i.f(this),this.handleInteraction=t=>{i.i(t)&&this.openLightbox()},this.handleTrigger=({postId:t})=>{t===this.postId&&this.openLightbox()},this.openLightbox=()=>{this.pubsub.publish(i.T.LightboxOpen,{element:this,attributes:{permalink:this.permalink}})}}connectedCallback(){super.connectedCallback(),this.pubsub.subscribe(i.T.TriggerLightboxOpen,this.handleTrigger,!1)}render(){return t.x`<slot @click="${this.handleInteraction}" @keypress="${this.handleInteraction}"></slot>`}};s.styles=[t.i`:host{cursor:pointer}`,i.t],t._([t.n({type:String,attribute:"post-id"})],s.prototype,"postId",void 0),t._([t.n({type:String,attribute:"permalink"})],s.prototype,"permalink",void 0),s=t._([t.c("shreddit-media-lightbox-listener")],s)}));
SML.dm("DQXXTaM1",["DSWSCRFk","DAgRafdt"],(async(e,i)=>{let t=class extends e.s{constructor(){super(...arguments),this._imageElem=null,this._traceCompleted=!1,this._imageStartTiming=0,this._imageLoadedTiming=0,this._imageReadyTiming=0,this._observer=new i.bd,this._hasBeenInView=!1,this.placement="image_post",this.onEnter=()=>{this._hasBeenInView=!0,this._imageStartTiming||(this._imageStartTiming=Date.now()),this.applyListeners(),this._timeoutTimer||(this._timeoutTimer=setTimeout((()=>{this._imageElem?.complete&&this._imageElem?.naturalWidth||this.sendImageMetric("download_fail")}),6e4))},this.onLeave=()=>{if(this._traceCompleted||!this._hasBeenInView||!this._imageStartTiming)return;const e=Date.now()-this._imageStartTiming>=150;!this._imageReadyTiming&&e&&this.sendImageMetric("exit_before_visible")},this.onLoad=()=>{this._imageLoadedTiming=Date.now(),this.poll()},this.onError=()=>{this.sendImageMetric("download_fail")},this.checkStatus=e=>{if(e.naturalWidth&&!this._imageReadyTiming)return this._imageLoadedTiming||(this._imageLoadedTiming=Date.now()),this._imageReadyTiming=Date.now(),this.sendImageMetric(),!0;e.complete&&!this._imageLoadedTiming&&(this._imageLoadedTiming=Date.now(),this.poll());const i=Date.now()-this._imageLoadedTiming;return this._pollVisibleInterval&&i>1e4&&this.sendImageMetric("download_fail"),!1}}connectedCallback(){if(super.connectedCallback(),this._traceCompleted)return;if(this._imageElem=this.previousElementSibling,!this._imageElem.tagName.includes("IMG"))throw new Error("<image-observer> must be immediately after the observed <img> in the DOM");this.checkStatus(this._imageElem)||(this._observer.observe(this._imageElem),this._imageElem.addEventListener("faceplate-enter",this.onEnter),this._imageElem.addEventListener("faceplate-leave",this.onLeave))}disconnectedCallback(){super.disconnectedCallback(),this._observer.unobserve(this._imageElem),this._imageElem?.removeEventListener("faceplate-enter",this.onEnter),this._imageElem?.removeEventListener("faceplate-leave",this.onLeave),this.cleanup()}applyListeners(){if(!this._imageElem)return;this.checkStatus(this._imageElem)||(this._imageElem.addEventListener("load",this.onLoad,{once:!0}),this._imageElem.addEventListener("error",this.onError,{once:!0}))}cleanup(){clearInterval(this._pollVisibleInterval),clearTimeout(this._timeoutTimer),this._imageElem?.removeEventListener("load",this.onLoad),this._imageElem?.removeEventListener("error",this.onError),this._imageStartTiming=0,this._imageLoadedTiming=0,this._imageReadyTiming=0}poll(){!this._pollVisibleInterval&&this._hasBeenInView&&(this._pollVisibleInterval=setInterval((()=>{this.checkStatus(this._imageElem)}),25))}sendImageMetric(e=void 0){const t=this._getPostInfo(),s=this._getGalleryInfo();let a,n;t&&({position:n,...a}=t);const m=this._imageStartTiming||this._imageLoadedTiming||this._imageReadyTiming||Date.now(),o=this._imageReadyTiming||Date.now(),r={source:"image",action:"trace",noun:"performance",client_timestamp:Date.now(),image_trace:{get_image_start_timestamp:m,image_ready_timestamp:o,view_visibile_timestamp:m},media:{width:this._imageElem?.naturalWidth,height:this._imageElem?.naturalHeight,url:this._imageElem?.src,placement:this.placement},action_info:{position:n,reason:e,page_type:i.l()}};a&&(r.post=a),s&&(r.gallery=s),this._sendEvent(r),this.cleanup(),"exit_before_visible"!==e&&(this._traceCompleted=!0)}_getPostInfo(){const e=this.closest("shreddit-post, shreddit-ad-post");if(e)return{id:e.id,promoted:e.nodeName.includes("AD"),nsfw:e.nsfw,view_type:e.viewType===i.$.CompactView?"classic":"card",position:e.feedIndex}}_getGalleryInfo(){if(!this.closest("gallery-carousel"))return;const e=this.closest("li")?.getAttribute("slot");return e?{position:Number(e.split("-")[1])-1}:void 0}_sendEvent(e){i.a(this,e)}createRenderRoot(){return this}};e._([e.n()],t.prototype,"placement",void 0),t=e._([e.c("image-observer")],t)}));
SML.dm("2B0_AwMn",["OAEZpqSu"],(async t=>{let n=function(){try{return"1E4 bits"===new Intl.NumberFormat("en",{style:"unit",unit:"bit",unitDisplay:"long",notation:"scientific"}).format(1e4)}catch(t){return!1}}();const o=1e3,r=1e6,i=1e9,e=t=>t>=99999999949?`${Math.floor(t/i)}b`:t>=999999949&&t<99999999949?`${(t/i).toFixed(1)}b`:t>=99999949&&t<999999949?`${Math.floor(t/r)}m`:t>=999949&&t<99999949?`${(t/r).toFixed(1)}m`:t>=99949&&t<999949?`${Math.floor(t/o)}k`:t>=o&&t<99949?`${(t/o).toFixed(1)}k`:String(t);return{_:e,f:function(o,r,i){if(n){const n=(null==i?void 0:i.options)||{notation:(null==i?void 0:i.short)?"compact":"standard"};return t.c(r,n).format(o)}return e(o)}}}));
SML.dm("B-5QOdMh",["DAgRafdt","OAEZpqSu","DSWSCRFk","2B0_AwMn"],(async(e,t,o,n)=>{let a=class extends o.s{constructor(){super(...arguments),this.number=0,this.locale="",this.pretty=!1}getLocale(){return this.locale||t.bQ()}createRenderRoot(){return this}render(){const e=this.formatOptions?{options:this.formatOptions}:{short:this.pretty};return n.f(this.number,this.getLocale(),e)}};function u(e){const{count:t,none:o,single:n,many:a}=e;return 0===t&&void 0!==o?o:1===t?n:a}return o._([o.n({type:Number})],a.prototype,"number",void 0),o._([o.n({type:String})],a.prototype,"locale",void 0),o._([o.n({type:Object})],a.prototype,"formatOptions",void 0),o._([o.n({type:Boolean})],a.prototype,"pretty",void 0),a=o._([o.c("faceplate-number")],a),{a:function(t,o=!1){return o||0!==t?e.bu({one:`Allows up to ${t} emoji`,other:`Allows up to ${t} emojis`,count:t}):"";},b:u,c:function(t,o=!1){return o||0!==t?e.bu({one:`${t} question left today.`,other:`${t} questions left today.`,count:t}):"";},d:function(t,o=!1){return o||0!==t?e.bu({one:`${t} question left this week.`,other:`${t} questions left this week.`,count:t}):"";},e:function(e,o,n=!1,a=""){return u({count:o,none:n?void 0:"",single:e` <faceplate-number number="${o}" pretty></faceplate-number> <span class="${t.cR(a)}"> ${"member"} </span> `,many:e` <faceplate-number number="${o}" pretty></faceplate-number> <span class="${t.cR(a)}"> ${"members"} </span> `});},p:function(t,o=!1){return o||0!==t?e.bu({one:`Allows text and up to ${t} emoji`,other:`Allows text and up to ${t} emojis`,count:t}):"";}};}));
SML.dm("BY5z-EI0",["DSWSCRFk"],(async e=>{var t,o;class r{static get instance(){return e.b_(t,t,"f",o)||e.b$(t,t,new t,"f",o),e.b_(t,t,"f",o)}getCorrelationId(){return this._correlationId}setCorrelationId(){return this._correlationId=crypto.randomUUID(),this._correlationId}getPostType(){return this._postType}setPostType(e){return this._postType=e,this._postType}}t=r,o={value:void 0};return{a:r.instance,s:async function(e){const t=document.querySelector("shreddit-comments-page-tools, comment-body-header"),o=document.querySelector("nav")?.offsetHeight??0,r=document.getElementById("pdp-seeker-mweb-return-to-results")?.offsetHeight??0,n=document.querySelector("shreddit-comment-tree");if(!t||!n)return;await n.updateComplete;const s=t.offsetTop;await requestAnimationFrame((()=>{window.scrollTo({top:s-(o+r),behavior:e})}))}}}));
SML.dm("CgKqrNya",["DAgRafdt","BY5z-EI0"],(async(i,e)=>{class t{constructor(e){this.isActivatingExplainer=!1,this.handleExplainerClosed=({explainerId:i,dismissed:e})=>{this.resolver&&this.resolver.explainerId===i&&(this.resolver.resolve({dismissed:e}),this.resolver=void 0)},(this.host=e).addController(this),this.pubsub=new i.f(this.host)}hostConnected(){this.pubsub.subscribe(i.T.ExplainerClosed,this.handleExplainerClosed,!1)}getExplainerDialogByExplainerId(i){return document.querySelector(`[dialog-id=explainer-dialog][data-explainer-id="${i}"]`)}async showExplainer({explainerExperience:e,explainerId:a,explainerVariantId:r,correlationId:n}){if(this.isActivatingExplainer||t.activatedExplainers.has(a))return{dismissed:!1};try{this.isActivatingExplainer=!0,await i.d({name:i.az,routeParams:{explainerId:a},queryParams:{...null!=e&&{explainerExperience:e},...null!=r&&{explainerVariantId:r},...null!=n&&{correlationId:n}},renderMode:i.P.Contents});if(!this.getExplainerDialogByExplainerId(a))throw new Error(`Explainer dialog for explainer ID \`${a}\` not found after activation`);t.activatedExplainers.add(a)}catch(i){window.Sentry?.captureError?.(i)}finally{this.isActivatingExplainer=!1}return t.activatedExplainers.has(a)?new Promise((i=>this.resolver={explainerId:a,resolve:i})):{dismissed:!1}}}t.activatedExplainers=new Set;return{A:class{constructor(e,a){this.isActivatingDialog=!1,this.handleAwardContent=({thingId:i,award:e})=>{i===this.getThingId()&&this.onAward?.(e)},(this.host=e).addController(this),this.pubsub=new i.f(this.host),this.explainerController=new t(this.host),this.getThingId=a.getThingId,this.getAwardsPromoConfig=a.getAwardsPromoConfig,this.onAward=a.onAward}hostConnected(){this.onAward&&this.pubsub.subscribe(i.T.AwardContent,this.handleAwardContent,!1)}async activateDialog(){if(!this.isActivatingDialog)try{this.isActivatingDialog=!0;const{experience:t,variantId:a,id:r,type:n}=this.getAwardsPromoConfig?.()??{},s=t&&a&&r&&n===i.aA.EducationalModule?await this.explainerController.showExplainer({explainerExperience:t,explainerVariantId:a,explainerId:r,correlationId:e.a.getCorrelationId()}):void 0;s?.dismissed||await i.d({name:i.aB,routeParams:{thingId:this.getThingId()},renderMode:i.P.Contents})}finally{this.isActivatingDialog=!1}}}}}));
SML.dm("BwmVBZAv",[],(async()=>{var e,a,r;return function(e){e.GoldPurchasePaymentForm="award-gold-purchase-payment-form",e.GoldTopupPaymentForm="award-gold-topup-payment-form"}(e||(e={})),function(e){e.SelectionSheet="selection-sheet",e.Leaderboard="leaderboard",e.GoldPurchase="gold-purchase",e.GoldTopUp="gold-top-up"}(a||(a={})),Object.values(a),function(e){e.Limited="award:limited",e.Free="award:free",e.Community="award:community",e.Highlighted="award:highlighted",e.Iconic="award:iconic",e.Branded="award:branded"}(r||(r={})),{get A(){return r},get a(){return a}}}));
SML.dm("DBzUXR7c",["DSWSCRFk","DAgRafdt","FDsJDUC0","CgKqrNya","OAEZpqSu","CA4SrzzK","BY5z-EI0","BwmVBZAv","B-5QOdMh"],(async(t,e,n,o,a,r,i,s)=>{var u;!function(t){t.Upvote="upvote",t.Downvote="downvote"}(u||(u={}));const c=({appearance:t,active:e})=>`group button flex justify-center aspect-square p-0 border-0 ${n.A[t]} ${!e&&"disabled:text-interactive-content-disabled"} ${e&&"secondary"===t?"":"button-plain"}  inline-flex items-center`,l=({size:n})=>({size:n===e.a2.Small||n===e.a2.ExtraSmall?t.q.Small:t.q.Medium}),d=({size:t})=>`flex mx-xs ${e.a5[t]}`,p=t=>{let e="bg-transparent text-global-white hover:text-global-white";switch(t){case u.Downvote:e+=" hover:bg-downvote-background-hover";break;case u.Upvote:e+=" hover:bg-upvote-background-hover"}return e},h=(t,e)=>"secondary"===e?{upvote:"bg-action-upvote text-global-white border-action-upvote ",downvote:"bg-action-downvote text-global-white border-action-downvote "}[t]:"",m={secondary:"bg-interactive-background-disabled text-[color:var(--color-button-secondary-text-disabled)] border-transparent",plain:"bg-[color:var(--color-button-plain-background-disabled)] text-[color:var(--color-button-plain-text-disabled)] border-transparent",bordered:"","plain-weak":"text-interactive-content-disabled"},v=({voteType:t,appearance:e})=>null==t?m[e]:"opacity-40 text-global-white";var b;!function(t){t.Upvote="upvote",t.Downvote="downvote"}(b||(b={}));const g=t=>`group button flex justify-center p-0 border-0 ${n.A[t]} inline-flex items-center`,N=({size:n})=>({attributes:{classname:"rpl-vote-button-icon"},size:n===e.a2.Small||n===e.a2.ExtraSmall?t.q.Small:t.q.Medium}),I=({size:t})=>`flex mx-xs ${e.a5[t]}`;const $=(t,e)=>{if("post"===e){const e=t;return{ok:e.data?.updatePostVoteState?.ok,errors:e.data?.updatePostVoteState?.errors,voteStateResult:e.data?.updatePostVoteState?.voteState}}const n=t;return{ok:n.data?.updateCommentVoteState?.ok,errors:n.data?.updateCommentVoteState?.errors,voteStateResult:n.data?.updateCommentVoteState?.voteState}},w=(t,n,o)=>"post"===n?{operation:e.O.UpdatePostVoteState,variables:{input:{postId:t,voteState:o}}}:{operation:e.O.UpdateCommentVoteState,variables:{input:{commentId:t,voteState:o}}};function f(t,e){return t.tags?.includes(e)}s.A.Limited,s.A.Community,s.A.Free;let T=class extends t.s{constructor(){super(...arguments),this.size=e.a2.Medium,this.disabled=!1,this.count=0,this.hasEnteredViewport=!1,this.awardController=new o.A(this,{getThingId:()=>this.thingId,onAward:t=>{this.count++,this.isAwardedByUser=!0,t&&(this.awardId=t.id,this.iconUrl=t.staticIcon.url,this.hasIconicAward||(this.hasIconicAward=function(t){return f(t,s.A.Iconic)}(t)),this.hasBrandedAward||(this.hasBrandedAward=function(t){return f(t,s.A.Branded)}(t)))}}),this.handleEnterViewport=()=>{this.hasEnteredViewport=!0,this.observerController&&(this.observerController=e.j(this,this.observerController))},this.handleClick=()=>{const t=i.a.setCorrelationId(),n=i.a.setPostType(this.postType);e.a(this,r.e({awardId:this.awardId,thingId:this.thingId,subredditId:this.subredditId,postId:this.postId,topAwardIconUrl:this.iconUrl,animatedAwardIconUrls:this.iconUrls,correlationId:t,position:this.feedIndex,postType:n,postScore:this.postScore,score:this.score,numberComments:this.commentCount})),this.awardController.activateDialog()}}connectedCallback(){super.connectedCallback(),this.observerController=e.d5(this,this,this.handleEnterViewport,{rootMargin:"0px"})}disconnectedCallback(){super.disconnectedCallback(),this.observerController&&(this.observerController=e.j(this,this.observerController))}renderGlow(){return t.x`<span class="glow" style="${t.l(this.isAwardedByUser?"--fade-out: none":void 0)}"> ${Array.from({length:8}).map(((e,n)=>t.x`<span class="sunbeam" style="${t.u({"--n":n})}"></span>`))} </span>`}renderStream(){if(a.a3())return t.A;const{iconUrls:e}=this;if(!e)return t.A;const n=[1,-1,0,-1],o=Number(e[0]===this.iconUrl);return t.x`<span class="stream"> ${Array.from({length:16}).map(((a,r)=>t.x`<img style="${t.u({"--n":r,"--offset":n[r%n.length]})}" src="${e[(r+o)%e.length]}" width="16" height="16" alt="">`))} </span>`}render(){if(!this.thingId)return t.A;const o=n.I[this.size],r=(this.hasIconicAward||this.hasBrandedAward)&&!this.noGoldenBorder;return n.c({appearance:this.appearance,attributes:{type:"button",className:a.j("overflow-visible",r&&"border-sm border-global-gold",this.buttonClass),disabled:this.disabled,onclick:this.handleClick,"aria-label":0===this.count?"Give award":e.bu({one:`Give award, ${this.count} award given`,other:`Give award, ${this.count} awards given`,count:this.count})},size:this.size,leadingIcon:this.iconUrl?t.x`<span class="${a.j("flex relative",this.disabled&&"opacity-25")}" aria-hidden="true"> ${this.hasEnteredViewport?this.renderGlow():t.A} ${this.hasEnteredViewport?this.renderStream():t.A} <img src="${this.iconUrl}" alt="" class="relative" width="${t.b1[o]}" height="${t.b1[o]}"> </span>`:t.b2({attributes:{"aria-hidden":"true"},size:o}),children:this.count?t.x`<faceplate-number number="${this.count}" pretty aria-hidden="true"></faceplate-number>`:this.withInitialStateText?t.x`<span aria-hidden="true">${"Award"}</span>`:void 0});}};return T.styles=[e.t,e.z("@keyframes fade-in {\n  0% {\n    opacity: 0;\n  }\n  100% {\n    opacity: 1;\n  }\n}\n@keyframes rotate-clockwise {\n  0% {\n    transform: rotate(45deg);\n  }\n  100% {\n    transform: rotate(135deg);\n  }\n}\n@keyframes sunbeam-even {\n  0% {\n    transform: scaleX(1) scaleY(1);\n  }\n  50% {\n    transform: scaleX(1.2) scaleY(1.3);\n  }\n  100% {\n    transform: scaleX(1) scaleY(1);\n  }\n}\n@keyframes sunbeam-odd {\n  0% {\n    transform: scaleX(1.2) scaleY(1.3);\n  }\n  50% {\n    transform: scaleX(1) scaleY(1);\n  }\n  100% {\n    transform: scaleX(1.2) scaleY(1.3);\n  }\n}\n.glow {\n  display: block;\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  width: 0;\n  height: 0;\n  perspective: 5em;\n  animation: 3s ease-out 1.5s both rotate-clockwise, 0.5s ease-in 1.5s backwards fade-in, var(--fade-out, 0.5s ease-out 5s reverse forwards fade-in);\n}\n.glow::before {\n  content: '';\n  display: block;\n  position: absolute;\n  left: -1em;\n  top: -1em;\n  background: radial-gradient(rgba(245, 214, 87, 0.9), rgba(245, 214, 87, 0) 50%);\n  width: 2em;\n  height: 2em;\n}\n.glow > .sunbeam {\n  display: block;\n  transform: rotate(calc(var(--n) * 45deg)) rotateX(-45deg);\n}\n.glow > .sunbeam::before {\n  content: '';\n  display: block;\n  background: no-repeat linear-gradient(rgba(245, 214, 87, 0.9), rgba(245, 214, 87, 0));\n  height: 1em;\n  width: 0.3em;\n  position: absolute;\n  transform: rotate(180deg) translateX(50%);\n  transform-origin: 50% 0px;\n  animation: 1.5s linear 1.5s 2 both sunbeam-even;\n  animation-composition: add;\n}\n.glow > .sunbeam:nth-child(odd)::before {\n  animation-name: sunbeam-odd;\n}\n"),e.z("@keyframes stream {\n  0% {\n    transform: scale(0);\n  }\n  20% {\n    transform: scale(1);\n    opacity: 1;\n  }\n  100% {\n    offset-distance: 100%;\n    opacity: 0;\n  }\n}\n.stream {\n  pointer-events: none;\n  position: absolute;\n  bottom: calc(100px + 50%);\n  left: 50%;\n}\n.stream > img {\n  animation: 2s ease-in both stream;\n  animation-delay: calc(var(--n) * 0.2s);\n  offset-path: path('M2.5,100 q-5,-10,0,-20 t 0-20 0-20 0-20 0-20');\n  offset-rotate: 0deg;\n  position: absolute;\n  translate: calc(var(--offset) * 8px);\n}\n")],t._([t.n({type:String})],T.prototype,"appearance",void 0),t._([t.n({type:String})],T.prototype,"size",void 0),t._([t.n({type:String,attribute:"button-class"})],T.prototype,"buttonClass",void 0),t._([t.n({type:Boolean,reflect:!0})],T.prototype,"disabled",void 0),t._([t.n({type:Boolean,attribute:"no-golden-border"})],T.prototype,"noGoldenBorder",void 0),t._([t.n({type:Boolean,attribute:"with-initial-state-text"})],T.prototype,"withInitialStateText",void 0),t._([t.n({type:Boolean,attribute:"is-logged-in"})],T.prototype,"isLoggedIn",void 0),t._([t.n({type:Boolean,reflect:!0,attribute:"is-awarded-by-user"})],T.prototype,"isAwardedByUser",void 0),t._([t.n({type:String,attribute:"thing-id"})],T.prototype,"thingId",void 0),t._([t.n({type:Number,attribute:"feed-index"})],T.prototype,"feedIndex",void 0),t._([t.n({type:String,attribute:"subreddit-id"})],T.prototype,"subredditId",void 0),t._([t.n({type:String,attribute:"post-id"})],T.prototype,"postId",void 0),t._([t.n({type:String,attribute:"post-type"})],T.prototype,"postType",void 0),t._([t.n({type:Number,attribute:"post-score"})],T.prototype,"postScore",void 0),t._([t.n({type:Number})],T.prototype,"score",void 0),t._([t.n({type:Number,attribute:"comment-count"})],T.prototype,"commentCount",void 0),t._([t.n({type:Number,reflect:!0})],T.prototype,"count",void 0),t._([t.n({type:String,reflect:!0,attribute:"award-id"})],T.prototype,"awardId",void 0),t._([t.n({type:String,reflect:!0,attribute:"icon-url"})],T.prototype,"iconUrl",void 0),t._([t.n({type:Array,attribute:"icon-urls"})],T.prototype,"iconUrls",void 0),t._([t.n({type:Boolean,reflect:!0,attribute:"has-iconic-award"})],T.prototype,"hasIconicAward",void 0),t._([t.n({type:Boolean,reflect:!0,attribute:"has-branded-award"})],T.prototype,"hasBrandedAward",void 0),t._([t.b()],T.prototype,"hasEnteredViewport",void 0),T=t._([t.c("award-button")],T),{get V(){return u},a:({attributes:o,voteType:a,upvoteButton:r,downvoteButton:i,size:s=e.a2.Medium,appearance:u="plain"})=>{const{html:c,createElement:l}=t.g(),d=c`${r} ${(()=>{if("plain"===u)return"";const t=s===e.a2.Small?"h-md":"h-[20px]";return c`<span class="rpl-vote-button-group-divider rounded-1 ms-[-2px] translate-x-px w-px ${t}"></span>`})()} ${i}`;return l("span",{...o,className:`\n      rpl-vote-button-group p-0 button-shell overflow-hidden font-semibold flex items-center cursor-auto\n      ${o?.className||""} \n      ${a??""}\n      ${n.g({size:s,appearance:u})}`,rpl:!0},d)},b:o=>{const{html:a,createElement:r}=t.g(),{appearance:i="plain",attributes:s,initialStateText:u,onClick:c,screenReaderContent:l,size:d=e.a2.Medium,voteCount:p,voteType:h}=o,m=d===e.a2.Small,v=h===b.Upvote,$=s?.href;return r(null!=$?"a":"button",{rpl:!0,upvote:!0,onclick:c,...s,className:`\n        ${s?.className||""} \n        rounded-none \n        ${m?"rounded-r-[8px]":"rounded-r-[12px]"}\n        ${g(i)}\n      `,style:`height: ${n.B[d]};`,"aria-pressed":v},a` <span class="${m?"ms-sm":"ms-md"} mr-[6px] ${I({size:d})}"> ${(v?t.a$:t.b0)(N({size:d}))} </span> ${l&&a`<faceplate-screen-reader-content> ${l||"Upvote"} </faceplate-screen-reader-content>`} ${null==p?u?a`<span class="rpl-vote-button-group-label ${"plain"===i?"pe-[3px]":"pe-[10px]"}">${u}</span>`:"":a`<span class="rpl-vote-button-group-label ${"plain"===i?"pe-[3px]":"pe-[10px]"}"> <faceplate-number number="${p}" pretty></faceplate-number> </span>`} `);},c:o=>{const{html:a,createElement:r}=t.g(),{appearance:i="plain",attributes:s,size:u=e.a2.Medium,screenReaderContent:c,voteType:l,onClick:d}=o,p=u===e.a2.Small,h=l===b.Downvote,m=s?.href;return r(null!=m?"a":"button",{rpl:!0,downvote:!0,...s,onclick:d,className:`\n        ${s?.className||""} \n        rounded-none\n        ${p?"rounded-l-[8px]":"rounded-l-[12px]"}\n        ${g(i)} \n      `,style:`height: ${n.B[u]};`,"aria-pressed":h},a`<span class="${p?"me-sm":"me-md"} ${"plain"===i?"ms-[3px]":"ms-xs"} ${I({size:u})}"> ${(h?t.aZ:t.a_)(N({size:u}))} </span> ${c&&a`<faceplate-screen-reader-content> ${c||"Downvote"} </faceplate-screen-reader-content>`}`);},d:({attributes:o,size:a=e.a2.Medium,appearance:r="plain",screenReaderContent:i,voteType:s,onClick:h})=>{const{html:m,createElement:v}=t.g(),b=null!=s,g=s===u.Downvote,N=c({appearance:r,active:b});return v("button",{rpl:!0,downvote:!0,...o,onclick:h,className:`${o?.className||""} ${N} ${{plain:g?"text-action-downvote":"hover:text-action-downvote focus-visible:text-action-downvote",secondary:b?p(s):"hover:text-action-downvote focus-visible:text-action-downvote",bordered:g?"text-action-downvote":"hover:text-action-downvote focus-visible:text-action-downvote","plain-weak":g?"text-action-downvote":"hover:text-action-downvote focus-visible:text-action-downvote"}[r]}`,style:`height: ${n.B[a]};`,"aria-pressed":g},m`<span class="${d({size:a})}"> ${(g?t.aZ:t.a_)(l({size:a}))} </span> ${i&&m`<faceplate-screen-reader-content> ${i||"Downvote"} </faceplate-screen-reader-content>`}`);},g:function(t,e){return!t&&e===u.Upvote||t===u.Downvote&&e===u.Downvote?1:!t&&e===u.Downvote||t===u.Upvote&&e===u.Upvote?-1:t===u.Downvote&&e===u.Upvote?2:t===u.Upvote&&e===u.Downvote?-2:0},o:async function(t,n,o){let a=e.d4.None;o&&(a=o===u.Upvote?e.d4.Up:e.d4.Down);const r=await e.r(w(t,n,a)),{ok:i,errors:s,voteStateResult:c}=$(r,n);if(i){const t=c;if(t===e.d4.None)return;return t===e.d4.Up?u.Upvote:u.Downvote}if(s?.[0]){const t=s[0]?.message??"Something went wrong";throw new Error(t)}return o},u:({attributes:o,size:a=e.a2.Medium,appearance:r="plain",screenReaderContent:i,voteType:s,onClick:h})=>{const{html:m,createElement:v}=t.g(),b=null!=s,g=s===u.Upvote,N=c({appearance:r,active:b});return v("button",{rpl:!0,upvote:!0,onclick:h,...o,className:`${o?.className||""} ${N} ${{plain:g?"text-action-upvote":"hover:text-action-upvote focus-visible:text-action-upvote",secondary:b?p(s):"hover:text-action-upvote focus-visible:text-action-upvote",bordered:g?"text-action-upvote":"hover:text-action-upvote focus-visible:text-action-upvote","plain-weak":g?"text-action-upvote":"hover:text-action-upvote focus-visible:text-action-upvote"}[r]}`,style:`height: ${n.B[a]};`,"aria-pressed":g},m`<span class="${d({size:a})}"> ${(g?t.a$:t.b0)(l({size:a}))} </span> ${i&&m`<faceplate-screen-reader-content> ${i||"Upvote"} </faceplate-screen-reader-content>`}`);},v:({attributes:o,voteCount:a,voteType:r,upvoteButton:i,downvoteButton:s,size:u=e.a2.Medium,appearance:c="plain",initialStateText:l})=>{const{html:d,createElement:p}=t.g(),m=d`${i} ${null==a?l:d`<span> <faceplate-number number="${a}" pretty></faceplate-number> </span>`} ${s}`;return p("span",{...o,className:`${o?.className||""} ${r?h(r,c):""}\n      p-0 ${n.g({size:u,appearance:c,selected:!0})} button-shell overflow-visible font-semibold flex items-center cursor-auto ${o?.disabled?v({voteType:r,appearance:c}):""}`,rpl:!0},m)}};}));
SML.dm("CQpKaH3e",["DSWSCRFk"],(async c=>{const{svg:a}=c.g();return{r:c.w(a`<path d="M16.26 10.65c1.9-2.7 2.31-5.83 1.77-8.02a.903.903 0 00-.66-.66c-2.05-.51-5.21-.27-8.05 1.77-3.5-.07-5.58.31-7.17 2.48-.62.85-.51 2.06.24 2.82l2.06 2.06c-.06.89.26 1.78.9 2.43l1.12 1.12c.65.65 1.55.97 2.43.9l2.06 2.06c.76.76 1.97.86 2.82.24 2.18-1.59 2.56-3.69 2.48-7.21v.01zM3.6 7.28c.81-1.11 1.75-1.59 3.71-1.72-1.05 1.2-1.77 2.48-2.26 3.59L3.66 7.76c-.13-.13-.16-.35-.06-.48zm4.15 6.09l-1.12-1.12c-.35-.35-.48-.88-.33-1.33.43-1.27 1.28-3.11 2.84-4.68 2.39-2.39 5.27-2.92 7.24-2.63.29 2.05-.38 5.01-2.62 7.25-1.57 1.57-3.41 2.41-4.68 2.84-.46.16-.98.03-1.33-.33zm4.97 3.03c-.13.1-.35.07-.48-.06l-1.39-1.39c1.11-.48 2.39-1.2 3.59-2.26-.13 1.97-.6 2.9-1.72 3.71z"></path><path d="M13.06 6.94a1.49 1.49 0 00-2.12 0c-.58.59-.59 1.54 0 2.12.59.58 1.54.59 2.12 0 .58-.59.59-1.54 0-2.12zM5.69 16.41L3.6 14.32a.55.55 0 00-.92.25l-.77 2.86c-.11.41.26.78.67.67l2.86-.77a.55.55 0 00.25-.92z"></path>`,"0 0 20 20","rocket")}}));
SML.dm("3FgK-N4H",["DAgRafdt"],(async a=>{const e=a=>!!a&&!!a.startsWith("r/"),i=(i,n,r,o)=>a.b(i,{...(n ? {post:{id:n.startsWith("t3_")?n:`t3_${n}`,...(e(r) ? {subreddit_name:r} : {})}} : {}),...(e(r) ? {subreddit:{name:r}} : {}),...(o ? {ad_account:{id:o}} : {})});function n(e){const i=new URLSearchParams(a.dr.search),n=new URL(e,a.dr.origin);return i.forEach(((a,e)=>{n.searchParams.has(e)||n.searchParams.set(e,a)})),n.href}const r=()=>[{name:"United States of America",primaryLanguageCode:"en",isoCode:"US"},{name:"Afghanistan",primaryLanguageCode:"ps",isoCode:"AF"},{name:"Albania",primaryLanguageCode:"sq",isoCode:"AL"},{name:"Algeria",primaryLanguageCode:"ar",isoCode:"DZ"},{name:"American Samoa",primaryLanguageCode:"en",isoCode:"AS"},{name:"Andorra",primaryLanguageCode:"ca",isoCode:"AD"},{name:"Angola",primaryLanguageCode:"pt",isoCode:"AO"},{name:"Anguilla",primaryLanguageCode:"en",isoCode:"AI"},{name:"Antigua and Barbuda",primaryLanguageCode:"en",isoCode:"AG"},{name:"Argentina",primaryLanguageCode:"es",isoCode:"AR"},{name:"Armenia",primaryLanguageCode:"hy",isoCode:"AM"},{name:"Aruba",primaryLanguageCode:"nl",isoCode:"AW"},{name:"Australia",primaryLanguageCode:"en",isoCode:"AU"},{name:"Austria",primaryLanguageCode:"de",isoCode:"AT"},{name:"Azerbaijan",primaryLanguageCode:"az",isoCode:"AZ"},{name:"Bahamas",primaryLanguageCode:"en",isoCode:"BS"},{name:"Bahrain",primaryLanguageCode:"ar",isoCode:"BH"},{name:"Bangladesh",primaryLanguageCode:"bn",isoCode:"BD"},{name:"Barbados",primaryLanguageCode:"en",isoCode:"BB"},{name:"Belarus",primaryLanguageCode:"be",isoCode:"BY"},{name:"Belgium",primaryLanguageCode:"nl",isoCode:"BE"},{name:"Belize",primaryLanguageCode:"en",isoCode:"BZ"},{name:"Benin",primaryLanguageCode:"fr",isoCode:"BJ"},{name:"Bermuda",primaryLanguageCode:"en",isoCode:"BM"},{name:"Bhutan",primaryLanguageCode:"dz",isoCode:"BT"},{name:"Bolivia",primaryLanguageCode:"es",isoCode:"BO"},{name:"Bonaire, Sint Eustatius and Saba",primaryLanguageCode:"nl",isoCode:"BQ"},{name:"Bosnia and Herzegovina",primaryLanguageCode:"bs",isoCode:"BA"},{name:"Botswana",primaryLanguageCode:"en",isoCode:"BW"},{name:"Bouvet Island",primaryLanguageCode:"no",isoCode:"BV"},{name:"Brazil",primaryLanguageCode:"pt",isoCode:"BR"},{name:"British Indian Ocean Territory",primaryLanguageCode:"en",isoCode:"IO"},{name:"Brunei Darussalam",primaryLanguageCode:"ms",isoCode:"BN"},{name:"Bulgaria",primaryLanguageCode:"bg",isoCode:"BG"},{name:"Burkina Faso",primaryLanguageCode:"fr",isoCode:"BF"},{name:"Burundi",primaryLanguageCode:"fr",isoCode:"BI"},{name:"Cabo Verde",primaryLanguageCode:"pt",isoCode:"CV"},{name:"Cambodia",primaryLanguageCode:"km",isoCode:"KH"},{name:"Cameroon",primaryLanguageCode:"en",isoCode:"CM"},{name:"Canada",primaryLanguageCode:"en",isoCode:"CA"},{name:"Cayman Islands",primaryLanguageCode:"en",isoCode:"KY"},{name:"Central African Republic",primaryLanguageCode:"fr",isoCode:"CF"},{name:"Chad",primaryLanguageCode:"fr",isoCode:"TD"},{name:"Chile",primaryLanguageCode:"es",isoCode:"CL"},{name:"China",primaryLanguageCode:"zh",isoCode:"CN"},{name:"Christmas Island",primaryLanguageCode:"en",isoCode:"CX"},{name:"Cocos (Keeling) Islands",primaryLanguageCode:"en",isoCode:"CC"},{name:"Colombia",primaryLanguageCode:"es",isoCode:"CO"},{name:"Comoros",primaryLanguageCode:"fr",isoCode:"KM"},{name:"Congo",primaryLanguageCode:"fr",isoCode:"CG"},{name:"Congo (Democratic Republic of the)",primaryLanguageCode:"fr",isoCode:"CD"},{name:"Cook Islands",primaryLanguageCode:"en",isoCode:"CK"},{name:"Costa Rica",primaryLanguageCode:"es",isoCode:"CR"},{name:"Croatia",primaryLanguageCode:"hr",isoCode:"HR"},{name:"Cuba",primaryLanguageCode:"es",isoCode:"CU"},{name:"Curaao",primaryLanguageCode:"nl",isoCode:"CW"},{name:"Cyprus",primaryLanguageCode:"tr",isoCode:"CY"},{name:"Czech Republic",primaryLanguageCode:"cs",isoCode:"CZ"},{name:"Cte d'Ivoire",primaryLanguageCode:"fr",isoCode:"CI"},{name:"Denmark",primaryLanguageCode:"da",isoCode:"DK"},{name:"Djibouti",primaryLanguageCode:"fr",isoCode:"DJ"},{name:"Dominica",primaryLanguageCode:"en",isoCode:"DM"},{name:"Dominican Republic",primaryLanguageCode:"es",isoCode:"DO"},{name:"Ecuador",primaryLanguageCode:"es",isoCode:"EC"},{name:"Egypt",primaryLanguageCode:"ar",isoCode:"EG"},{name:"El Salvador",primaryLanguageCode:"es",isoCode:"SV"},{name:"Equatorial Guinea",primaryLanguageCode:"es",isoCode:"GQ"},{name:"Eritrea",primaryLanguageCode:"en",isoCode:"ER"},{name:"Estonia",primaryLanguageCode:"et",isoCode:"EE"},{name:"Ethiopia",primaryLanguageCode:"am",isoCode:"ET"},{name:"Falkland Islands (Malvinas)",primaryLanguageCode:"en",isoCode:"FK"},{name:"Faroe Islands",primaryLanguageCode:"fo",isoCode:"FO"},{name:"Fiji",primaryLanguageCode:"en",isoCode:"FJ"},{name:"Finland",primaryLanguageCode:"fi",isoCode:"FI"},{name:"France",primaryLanguageCode:"fr",isoCode:"FR"},{name:"French Guiana",primaryLanguageCode:"fr",isoCode:"GF"},{name:"French Polynesia",primaryLanguageCode:"fr",isoCode:"PF"},{name:"French Southern Territories",primaryLanguageCode:"fr",isoCode:"TF"},{name:"Gabon",primaryLanguageCode:"fr",isoCode:"GA"},{name:"Gambia",primaryLanguageCode:"en",isoCode:"GM"},{name:"Georgia",primaryLanguageCode:"ka",isoCode:"GE"},{name:"Germany",primaryLanguageCode:"de",isoCode:"DE"},{name:"Ghana",primaryLanguageCode:"en",isoCode:"GH"},{name:"Gibraltar",primaryLanguageCode:"en",isoCode:"GI"},{name:"Greece",primaryLanguageCode:"el",isoCode:"GR"},{name:"Greenland",primaryLanguageCode:"kl",isoCode:"GL"},{name:"Grenada",primaryLanguageCode:"en",isoCode:"GD"},{name:"Guadeloupe",primaryLanguageCode:"fr",isoCode:"GP"},{name:"Guam",primaryLanguageCode:"en",isoCode:"GU"},{name:"Guatemala",primaryLanguageCode:"es",isoCode:"GT"},{name:"Guernsey",primaryLanguageCode:"en",isoCode:"GG"},{name:"Guinea",primaryLanguageCode:"fr",isoCode:"GN"},{name:"Guinea-Bissau",primaryLanguageCode:"pt",isoCode:"GW"},{name:"Guyana",primaryLanguageCode:"en",isoCode:"GY"},{name:"Haiti",primaryLanguageCode:"fr",isoCode:"HT"},{name:"Heard Island and McDonald Islands",primaryLanguageCode:"en",isoCode:"HM"},{name:"Holy See",primaryLanguageCode:"fr",isoCode:"VA"},{name:"Honduras",primaryLanguageCode:"es",isoCode:"HN"},{name:"Hong Kong",primaryLanguageCode:"en",isoCode:"HK"},{name:"Hungary",primaryLanguageCode:"hu",isoCode:"HU"},{name:"Iceland",primaryLanguageCode:"is",isoCode:"IS"},{name:"India",primaryLanguageCode:"hi",isoCode:"IN"},{name:"Indonesia",primaryLanguageCode:"id",isoCode:"ID"},{name:"Iran (Islamic Republic of)",primaryLanguageCode:"fa",isoCode:"IR"},{name:"Iraq",primaryLanguageCode:"ar",isoCode:"IQ"},{name:"Ireland",primaryLanguageCode:"ga",isoCode:"IE"},{name:"Isle of Man",primaryLanguageCode:"en",isoCode:"IM"},{name:"Israel",primaryLanguageCode:"he",isoCode:"IL"},{name:"Italy",primaryLanguageCode:"it",isoCode:"IT"},{name:"Jamaica",primaryLanguageCode:"en",isoCode:"JM"},{name:"Japan",primaryLanguageCode:"ja",isoCode:"JP"},{name:"Jersey",primaryLanguageCode:"en",isoCode:"JE"},{name:"Jordan",primaryLanguageCode:"ar",isoCode:"JO"},{name:"Kazakhstan",primaryLanguageCode:"kk",isoCode:"KZ"},{name:"Kenya",primaryLanguageCode:"en",isoCode:"KE"},{name:"Kiribati",primaryLanguageCode:"en",isoCode:"KI"},{name:"Korea (Democratic People's Republic of)",primaryLanguageCode:"ko",isoCode:"KP"},{name:"Korea (Republic of)",primaryLanguageCode:"ko",isoCode:"KR"},{name:"Kuwait",primaryLanguageCode:"ar",isoCode:"KW"},{name:"Kyrgyzstan",primaryLanguageCode:"ky",isoCode:"KG"},{name:"Lao People's Democratic Republic",primaryLanguageCode:"lo",isoCode:"LA"},{name:"Latvia",primaryLanguageCode:"lv",isoCode:"LV"},{name:"Lebanon",primaryLanguageCode:"ar",isoCode:"LB"},{name:"Lesotho",primaryLanguageCode:"en",isoCode:"LS"},{name:"Liberia",primaryLanguageCode:"en",isoCode:"LR"},{name:"Libya",primaryLanguageCode:"ar",isoCode:"LY"},{name:"Liechtenstein",primaryLanguageCode:"de",isoCode:"LI"},{name:"Lithuania",primaryLanguageCode:"lt",isoCode:"LT"},{name:"Luxembourg",primaryLanguageCode:"fr",isoCode:"LU"},{name:"Macao",primaryLanguageCode:"zh",isoCode:"MO"},{name:"Macedonia (the former Yugoslav Republic of)",primaryLanguageCode:"mk",isoCode:"MK"},{name:"Madagascar",primaryLanguageCode:"fr",isoCode:"MG"},{name:"Malawi",primaryLanguageCode:"en",isoCode:"MW"},{name:"Malaysia",primaryLanguageCode:"",isoCode:"MY"},{name:"Maldives",primaryLanguageCode:"dv",isoCode:"MV"},{name:"Mali",primaryLanguageCode:"fr",isoCode:"ML"},{name:"Malta",primaryLanguageCode:"mt",isoCode:"MT"},{name:"Marshall Islands",primaryLanguageCode:"en",isoCode:"MH"},{name:"Martinique",primaryLanguageCode:"fr",isoCode:"MQ"},{name:"Mauritania",primaryLanguageCode:"ar",isoCode:"MR"},{name:"Mauritius",primaryLanguageCode:"en",isoCode:"MU"},{name:"Mayotte",primaryLanguageCode:"fr",isoCode:"YT"},{name:"Mexico",primaryLanguageCode:"es",isoCode:"MX"},{name:"Micronesia (Federated States of)",primaryLanguageCode:"en",isoCode:"FM"},{name:"Moldova (Republic of)",primaryLanguageCode:"ro",isoCode:"MD"},{name:"Monaco",primaryLanguageCode:"fr",isoCode:"MC"},{name:"Mongolia",primaryLanguageCode:"mn",isoCode:"MN"},{name:"Montenegro",primaryLanguageCode:"sr",isoCode:"ME"},{name:"Montserrat",primaryLanguageCode:"en",isoCode:"MS"},{name:"Morocco",primaryLanguageCode:"ar",isoCode:"MA"},{name:"Mozambique",primaryLanguageCode:"pt",isoCode:"MZ"},{name:"Myanmar",primaryLanguageCode:"my",isoCode:"MM"},{name:"Namibia",primaryLanguageCode:"en",isoCode:"NA"},{name:"Nauru",primaryLanguageCode:"en",isoCode:"NR"},{name:"Nepal",primaryLanguageCode:"ne",isoCode:"NP"},{name:"Netherlands",primaryLanguageCode:"nl",isoCode:"NL"},{name:"New Caledonia",primaryLanguageCode:"fr",isoCode:"NC"},{name:"New Zealand",primaryLanguageCode:"en",isoCode:"NZ"},{name:"Nicaragua",primaryLanguageCode:"es",isoCode:"NI"},{name:"Niger",primaryLanguageCode:"fr",isoCode:"NE"},{name:"Nigeria",primaryLanguageCode:"en",isoCode:"NG"},{name:"Niue",primaryLanguageCode:"en",isoCode:"NU"},{name:"Norfolk Island",primaryLanguageCode:"en",isoCode:"NF"},{name:"Northern Mariana Islands",primaryLanguageCode:"en",isoCode:"MP"},{name:"Norway",primaryLanguageCode:"no",isoCode:"NO"},{name:"Oman",primaryLanguageCode:"ar",isoCode:"OM"},{name:"Pakistan",primaryLanguageCode:"en",isoCode:"PK"},{name:"Palau",primaryLanguageCode:"en",isoCode:"PW"},{name:"Palestine, State of",primaryLanguageCode:"ar",isoCode:"PS"},{name:"Panama",primaryLanguageCode:"es",isoCode:"PA"},{name:"Papua New Guinea",primaryLanguageCode:"en",isoCode:"PG"},{name:"Paraguay",primaryLanguageCode:"es",isoCode:"PY"},{name:"Peru",primaryLanguageCode:"es",isoCode:"PE"},{name:"Philippines",primaryLanguageCode:"en",isoCode:"PH"},{name:"Pitcairn",primaryLanguageCode:"en",isoCode:"PN"},{name:"Poland",primaryLanguageCode:"pl",isoCode:"PL"},{name:"Portugal",primaryLanguageCode:"pt",isoCode:"PT"},{name:"Puerto Rico",primaryLanguageCode:"es",isoCode:"PR"},{name:"Qatar",primaryLanguageCode:"ar",isoCode:"QA"},{name:"Republic of Kosovo",primaryLanguageCode:"sq",isoCode:"XK"},{name:"Romania",primaryLanguageCode:"ro",isoCode:"RO"},{name:"Russia",primaryLanguageCode:"ru",isoCode:"RU"},{name:"Rwanda",primaryLanguageCode:"rw",isoCode:"RW"},{name:"Runion",primaryLanguageCode:"fr",isoCode:"RE"},{name:"Saint Barthlemy",primaryLanguageCode:"fr",isoCode:"BL"},{name:"Saint Helena, Ascension and Tristan da Cunha",primaryLanguageCode:"en",isoCode:"SH"},{name:"Saint Kitts and Nevis",primaryLanguageCode:"en",isoCode:"KN"},{name:"Saint Lucia",primaryLanguageCode:"en",isoCode:"LC"},{name:"Saint Martin (French part)",primaryLanguageCode:"en",isoCode:"MF"},{name:"Saint Pierre and Miquelon",primaryLanguageCode:"fr",isoCode:"PM"},{name:"Saint Vincent and the Grenadines",primaryLanguageCode:"en",isoCode:"VC"},{name:"Samoa",primaryLanguageCode:"sm",isoCode:"WS"},{name:"San Marino",primaryLanguageCode:"it",isoCode:"SM"},{name:"Sao Tome and Principe",primaryLanguageCode:"pt",isoCode:"ST"},{name:"Saudi Arabia",primaryLanguageCode:"ar",isoCode:"SA"},{name:"Senegal",primaryLanguageCode:"fr",isoCode:"SN"},{name:"Serbia",primaryLanguageCode:"sr",isoCode:"RS"},{name:"Seychelles",primaryLanguageCode:"fr",isoCode:"SC"},{name:"Sierra Leone",primaryLanguageCode:"en",isoCode:"SL"},{name:"Singapore",primaryLanguageCode:"en",isoCode:"SG"},{name:"Sint Maarten (Dutch part)",primaryLanguageCode:"nl",isoCode:"SX"},{name:"Slovakia",primaryLanguageCode:"sk",isoCode:"SK"},{name:"Slovenia",primaryLanguageCode:"sl",isoCode:"SI"},{name:"Solomon Islands",primaryLanguageCode:"en",isoCode:"SB"},{name:"Somalia",primaryLanguageCode:"ar",isoCode:"SO"},{name:"South Africa",primaryLanguageCode:"en",isoCode:"ZA"},{name:"South Georgia and the South Sandwich Islands",primaryLanguageCode:"en",isoCode:"GS"},{name:"South Sudan",primaryLanguageCode:"en",isoCode:"SS"},{name:"Spain",primaryLanguageCode:"es",isoCode:"ES"},{name:"Sri Lanka",primaryLanguageCode:"si",isoCode:"LK"},{name:"Sudan",primaryLanguageCode:"ar",isoCode:"SD"},{name:"Suriname",primaryLanguageCode:"nl",isoCode:"SR"},{name:"Svalbard and Jan Mayen",primaryLanguageCode:"no",isoCode:"SJ"},{name:"Swaziland",primaryLanguageCode:"en",isoCode:"SZ"},{name:"Sweden",primaryLanguageCode:"sv",isoCode:"SE"},{name:"Switzerland",primaryLanguageCode:"de",isoCode:"CH"},{name:"Syrian Arab Republic",primaryLanguageCode:"ar",isoCode:"SY"},{name:"Taiwan",primaryLanguageCode:"zh",isoCode:"TW"},{name:"Tajikistan",primaryLanguageCode:"tg",isoCode:"TJ"},{name:"Tanzania, United Republic of",primaryLanguageCode:"en",isoCode:"TZ"},{name:"Thailand",primaryLanguageCode:"th",isoCode:"TH"},{name:"Timor-Leste",primaryLanguageCode:"pt",isoCode:"TL"},{name:"Togo",primaryLanguageCode:"fr",isoCode:"TG"},{name:"Tokelau",primaryLanguageCode:"en",isoCode:"TK"},{name:"Tonga",primaryLanguageCode:"en",isoCode:"TO"},{name:"Trinidad and Tobago",primaryLanguageCode:"en",isoCode:"TT"},{name:"Tunisia",primaryLanguageCode:"ar",isoCode:"TN"},{name:"Turkey",primaryLanguageCode:"tr",isoCode:"TR"},{name:"Turkmenistan",primaryLanguageCode:"tk",isoCode:"TM"},{name:"Turks and Caicos Islands",primaryLanguageCode:"en",isoCode:"TC"},{name:"Tuvalu",primaryLanguageCode:"en",isoCode:"TV"},{name:"Uganda",primaryLanguageCode:"en",isoCode:"UG"},{name:"Ukraine",primaryLanguageCode:"uk",isoCode:"UA"},{name:"United Arab Emirates",primaryLanguageCode:"ar",isoCode:"AE"},{name:"United Kingdom of Great Britain and Northern Ireland",primaryLanguageCode:"en",isoCode:"GB"},{name:"United States Minor Outlying Islands",primaryLanguageCode:"en",isoCode:"UM"},{name:"Uruguay",primaryLanguageCode:"es",isoCode:"UY"},{name:"Uzbekistan",primaryLanguageCode:"uz",isoCode:"UZ"},{name:"Vanuatu",primaryLanguageCode:"en",isoCode:"VU"},{name:"Venezuela (Bolivarian Republic of)",primaryLanguageCode:"es",isoCode:"VE"},{name:"Vietnam",primaryLanguageCode:"vi",isoCode:"VN"},{name:"Virgin Islands (British)",primaryLanguageCode:"en",isoCode:"VG"},{name:"Virgin Islands (U.S.)",primaryLanguageCode:"en",isoCode:"VI"},{name:"Wallis and Futuna",primaryLanguageCode:"fr",isoCode:"WF"},{name:"Western Sahara",primaryLanguageCode:"es",isoCode:"EH"},{name:"Yemen",primaryLanguageCode:"ar",isoCode:"YE"},{name:"Zambia",primaryLanguageCode:"en",isoCode:"ZM"},{name:"Zimbabwe",primaryLanguageCode:"en",isoCode:"ZW"},{name:"land Islands",primaryLanguageCode:"sv",isoCode:"AX"}],o=(()=>{const a=r(),e={};return a.forEach((a=>{e[a.isoCode]=a})),e})();var s;!function(a){a.USD="USD",a.GBP="GBP",a.CAD="CAD",a.EUR="EUR",a.AUD="AUD",a.NZD="NZD"}(s||(s={}));const N=()=>[{isoCode:"AL",name:"Alabama"},{isoCode:"AK",name:"Alaska"},{isoCode:"AZ",name:"Arizona"},{isoCode:"AR",name:"Arkansas"},{isoCode:"CA",name:"California"},{isoCode:"CO",name:"Colorado"},{isoCode:"CT",name:"Connecticut"},{isoCode:"DC",name:"District of Columbia"},{isoCode:"DE",name:"Delaware"},{isoCode:"FL",name:"Florida"},{isoCode:"GA",name:"Georgia"},{isoCode:"HI",name:"Hawaii"},{isoCode:"ID",name:"Idaho"},{isoCode:"IL",name:"Illinois"},{isoCode:"IN",name:"Indiana"},{isoCode:"IA",name:"Iowa"},{isoCode:"KS",name:"Kansas"},{isoCode:"KY",name:"Kentucky"},{isoCode:"LA",name:"Louisiana"},{isoCode:"ME",name:"Maine"},{isoCode:"MD",name:"Maryland"},{isoCode:"MA",name:"Massachusetts"},{isoCode:"MI",name:"Michigan"},{isoCode:"MN",name:"Minnesota"},{isoCode:"MS",name:"Mississippi"},{isoCode:"MO",name:"Missouri"},{isoCode:"MT",name:"Montana"},{isoCode:"NE",name:"Nebraska"},{isoCode:"NV",name:"Nevada"},{isoCode:"NH",name:"New Hampshire"},{isoCode:"NJ",name:"New Jersey"},{isoCode:"NM",name:"New Mexico"},{isoCode:"NY",name:"New York"},{isoCode:"NC",name:"North Carolina"},{isoCode:"ND",name:"North Dakota"},{isoCode:"OH",name:"Ohio"},{isoCode:"OK",name:"Oklahoma"},{isoCode:"OR",name:"Oregon"},{isoCode:"PA",name:"Pennsylvania"},{isoCode:"RI",name:"Rhode Island"},{isoCode:"SC",name:"South Carolina"},{isoCode:"SD",name:"South Dakota"},{isoCode:"TN",name:"Tennessee"},{isoCode:"TX",name:"Texas"},{isoCode:"UT",name:"Utah"},{isoCode:"VT",name:"Vermont"},{isoCode:"VA",name:"Virginia"},{isoCode:"WA",name:"Washington"},{isoCode:"WV",name:"West Virginia"},{isoCode:"WI",name:"Wisconsin"},{isoCode:"WY",name:"Wyoming"}],t=(()=>{const a=N(),e={};return a.forEach((a=>{e[a.isoCode]=a})),e})();return {a:(a,e,{postId:n,subredditName:r,adAccountId:o}={})=>i({source:"boost_post_page",action:a,noun:e},n,r,o),b:i,c:r,d:o,e:t,f:()=>[{label:"USD $",value:s.USD},{label:"AUD $",value:s.AUD},{label:"CAD $",value:s.CAD},{label:"EUR ",value:s.EUR},{label:"GBP ",value:s.GBP},{label:"NZD $",value:s.NZD}],g:a=>({[s.USD]:"USD $",[s.AUD]:"AUD $",[s.CAD]:"CAD $",[s.EUR]:"EUR ",[s.GBP]:"GBP ",[s.NZD]:"NZD $"}[a]),h:a=>({[s.USD]:"$",[s.AUD]:"$",[s.CAD]:"$",[s.NZD]:"$",[s.EUR]:"",[s.GBP]:""}[a]),p:n,s:N,v:function(e){const i=n(`/boost-post/${e.startsWith("t3_")?e.slice(3):e}`);a.dr.assign(i)}};}));
SML.dm("DlE9CkNL",["DAgRafdt"],(async e=>{const t=new Set([e.a6.BrandMention,e.a6.ProfileAccountStats,e.a6.ProfileComments,e.a6.ProfileDashboard,e.a6.ProfileDownvoted,e.a6.ProfileHidden,e.a6.ProfileOverview,e.a6.ProfilePerformance,e.a6.ProfilePerformanceComments,e.a6.ProfilePosts,e.a6.ProfileRelatedKeywords,e.a6.ProfileSaved,e.a6.ProfileSubmitted,e.a6.ProfileTrendingConvoDetails,e.a6.ProfileCommunityFinder,e.a6.ProfileTrendingConvos,e.a6.ProfileUpvoted,e.a6.ProfileTrendMonitoring,e.a6.ProductCommunitiesPage,e.a6.ProductInsights,e.a6.ProductInsightDetailsPage,e.a6.ProductMentionsFeedPage,e.a6.ArticleDetails,e.a6.ArticleFeed,e.a6.ArticleInsights,e.a6.PublisherCommunities]),o=[e.a6.ProfileOverview,e.a6.ProfilePosts,e.a6.ProfileSaved,e.a6.ProfileUpvoted,e.a6.ProfileDownvoted,e.a6.ProfileHidden];var a;Array.from(t),function(e){e[e.Hour=0]="Hour",e[e.Day=1]="Day",e[e.Month=2]="Month",e[e.Year=3]="Year"}(a||(a={}));const n=e=>({unit:a.Day,value:-e}),s=e=>({unit:a.Month,value:-e});var r,i;!function(e){e[e.Yesterday=0]="Yesterday",e[e.LastWeek=1]="LastWeek",e[e.LastMonth=2]="LastMonth",e[e.Last3Months=3]="Last3Months",e[e.Last6Months=4]="Last6Months",e[e.LastYear=5]="LastYear"}(r||(r={})),function(e){e.Yesterday="day",e.LastWeek="week",e.LastMonth="month",e.Last3Months="last-3-months",e.Last6Months="last-6-months",e.LastYear="year"}(i||(i={})),new Set([i.LastWeek,i.LastMonth,i.Last3Months]),a.Day;const d={[r.LastWeek]:i.LastWeek,[r.LastMonth]:i.LastMonth,[r.Last3Months]:i.Last3Months,[r.Last6Months]:i.Last6Months},f=[{type:r.LastWeek,value:d[r.LastWeek],offset:n(7)},{type:r.LastMonth,value:d[r.LastMonth],offset:n(30)},{type:r.Last3Months,value:d[r.Last3Months],offset:s(3)},{type:r.Last6Months,value:d[r.Last6Months],offset:s(6)}],l=new Map(f.map((({value:e,offset:t})=>[e,t]))),h=i.LastMonth;var M;l.get(h),i.LastWeek,e.fO.Week,i.LastMonth,e.fO.Month,i.Last3Months,e.fO.Months_3,i.Last6Months,e.fO.Months_6,i.LastYear,e.fO.Month,i.Yesterday,e.fO.Month,i.Yesterday,e.fP.Day,i.LastWeek,e.fP.Week,i.LastMonth,e.fP.Month,i.Last3Months,e.fP.Months_3,i.Last6Months,e.fP.Months_3,i.LastYear,e.fP.Months_3,function(e){e.ProfileCreation="profile_creation_step",e.VerifyEmail="verify_email_step"}(M||(M={}));return{A:"reddit-pro-account-stats-content-id",D:"profile-dashboard-performance-overview-content",O:"overview-box-value",P:"/profiles",get R(){return i},T:"trend-monitoring-add-keyword-modal",a:h,b:"t",get c(){return a},d:"profile-active-subreddits-modal",e:"reddit_pro_onboarding",f:"profile-creation-add-description-event",g:"submit-profile-creation",h:"profile-creation-submit-event",i:e=>t.has(e),j:"profile-creation-complete-event",get k(){return M},l:"trend-monitoring-manage-keywords-modal",m:"delete-keyword-confirmation-modal",n:o,o:"profile-contributions-modal",p:"profile-followers-modal",q:"reddit_pro_recommended_keywords",r:"reddit-pro-recommended-keywords",s:f}}));
SML.dm("D2BNDN4c",["DSWSCRFk","DAgRafdt","FDsJDUC0","CQpKaH3e","3FgK-N4H","DlE9CkNL"],(async(t,e,o,r,s,a)=>{let i=class extends t.s{constructor(){super(...arguments),this.postId="",this.subredditName="",this.isLoaded=!1,this._getPageType=e.l,this.handleClick=()=>{s.v(this.postId),e.a(this,s.b({source:"post",action:"click",noun:"promote_button"},this.postId,this.subredditName))}}static get styles(){return[e.t]}async connectedCallback(){super.connectedCallback?.(),e.a(this,s.b({source:"post",action:"view",noun:"promote_button"},this.postId,this.subredditName)),this.isLoaded=!0}createRenderRoot(){return this}render(){let s;const i=this._getPageType();return i&&a.i(i)&&(s="Promote"),t.x`<span class="relative flex justify-end"> ${o.c({appearance:"secondary",leadingIcon:r.r({size:o.I[e.a2.Small],attributes:{className:"icon-promote-post","aria-hidden":"true"}}),attributes:{name:"promote-post-button","data-post-click-location":e.a4.PROMOTE_POST_BUTTON,onclick:this.handleClick,className:"me-0 ps-[6px] pe-[6px] ms-[6px] flex-shrink-0",disabled:!this.isLoaded},size:e.a2.Small,screenReaderContent:"Promote Post",children:s})} </span>`;}};t._([t.n({attribute:"post-id"})],i.prototype,"postId",void 0),t._([t.n({attribute:"subreddit-name"})],i.prototype,"subredditName",void 0),t._([t.b()],i.prototype,"isLoaded",void 0),i=t._([t.c("promote-post-button")],i)}));
SML.dm("DKSHlBZ6",["DlE9CkNL","DAgRafdt","D2BNDN4c","DSWSCRFk","3FgK-N4H","FDsJDUC0","CQpKaH3e"],(async(t,E)=>{var T;!function(t){t[t.ShredditPost=0]="ShredditPost",t[t.PostStats=1]="PostStats",t[t.PostStatsEntryPoint=2]="PostStatsEntryPoint"}(T||(T={}));const r=new Map([[T.PostStats,[E.a6.ProfilePerformance]],[T.PostStatsEntryPoint,t.n]]);let o;const P=()=>{if(!o){const t=new Map;for(const[E,T]of r.entries())for(const r of T)t.set(r,E);o=t}return o};return{get P(){return T},g:t=>{if(t){const E=P().get(t);if(E)return E}return T.ShredditPost}}}));
SML.dm("OHC4dymT",["DAgRafdt"],(async t=>{var n;!function(t){t.MULTILINGUAL_ON="multilingual_on",t.ACCOUNT_AGE="account_age",t.BACKEND="backend",t.DEFAULT_OFF="default_off",t.REGULAR_SEO="regular_seo",t.MT_SEO="mt_seo"}(n||(n={}));const o="on",a="off",e="initiated",s="see_translation",i="see_original",r=t=>!1===t.isEligibleForImmersive?e:t.isImmersiveTranslationsActive?o:a,c=t=>("isPostTranslatedAfterClick"in t?t.isPostTranslatedAfterClick:t.isCommentTranslatedAfterClick)?s:i;return{A:(n,o,a)=>t.b({source:"translate_button",action:"submit",noun:"comment_composer"},{action_info:{reason:n?"on":"off"},...o?{post:{id:o.id,language:o.postLanguage,subreddit_id:o.subredditId,subreddit_name:o.subredditPrefixedName,type:o.postType,url:o.permalink}}:{},...a?{comment:{id:a}}:{}}),B:n=>t.b({source:"overflow_menu",action:"click",noun:"translate_comment"},{action_info:{reason:r(n),type:c(n)},comment:{...n.comment,translation_state:n.isCommentTranslated},post:n.post}),C:n=>t.b({source:"overflow_menu",action:"view",noun:"translate_comment"},{action_info:{reason:r(n)},comment:{...n.comment,translation_state:n.isCommentTranslated},post:n.post}),get T(){return n},a:n=>t.b({source:"translate_button",action:"view",noun:"comment_composer"},{action_info:{reason:"on"},...n?{comment:{id:n}}:{}}),b:n=>t.b({source:"translate_button",action:"view",noun:"comment"},{comment:{...n,translation_state:n.translation_state,translation_language:n.translation_language?n.translation_language:"original"},post:{id:n.post_id??""},action_info:{reason:n.translation_language?t.aV:t.aW}}),c:n=>{const o=n?{post:{id:n}}:{};return t.b({source:"translate_button",action:"view",noun:"post_composer"},{action_info:{reason:"on"},...o})},d:(n,o)=>t.b({source:"translate_button",action:"click",noun:"comment_composer"},{action_info:{reason:n?"on":"off"},...o?{comment:{id:o}}:{}}),e:(n,o)=>{const a=o?{post:{id:o}}:{};return t.b({source:"translate_button",action:"click",noun:"post_composer"},{action_info:{reason:n?"on":"off"},...a})},f:n=>t.b({source:"translate_button",action:"click",noun:"comment"},{comment:{...n,translation_state:n.translation_state,translation_language:n.translation_language?n.translation_language:"original"},post:{id:n.post_id??""},action_info:{reason:n.translation_language?t.aV:t.aW}}),g:n=>t.b({source:"translate_button",action:"dismiss",noun:"translation_intervention"},{action_info:{reason:r(n)},comment:{...n.comment},post:n.post}),h:n=>t.b({source:"translate_button",action:"click",noun:"translation_intervention"},{action_info:{reason:r(n),type:n.actionType},comment:{...n.comment},post:n.post}),i:()=>t.b({source:"translate_button",action:"hide",noun:"comment_composer"}),j:()=>t.b({source:"translate_button",action:"hide",noun:"post_composer"}),k:n=>t.b({source:"translate_button",action:"view",noun:"post_banner"},{action_info:{reason:r(n)},post:{...n.post,translation_state:n.isPostTranslated}}),l:n=>t.b({source:"translate_button",action:"click",noun:"post_banner"},{action_info:{reason:r(n),type:c(n)},post:{...n.post,translation_state:n.isPostTranslated}}),m:n=>t.b({source:"translate_button",action:"dismiss",noun:"post_banner"},{action_info:{reason:r(n)},post:{...n.post,translation_state:n.isPostTranslated}}),n:n=>t.b({source:"overflow_menu",action:"click",noun:"translate_survey"},{post:n?.post,comment:n?.comment}),o:n=>t.b({source:"translate_button",action:"view",noun:"survey"},{post:n?.post,comment:n?.comment}),p:n=>t.b({source:"translate_button",action:"dismiss",noun:"survey"},{post:n?.post,comment:n?.comment}),q:n=>t.b({source:"translate_button",action:"submit",noun:"survey"},{action_info:{reason:n.reason},post:n.post,comment:n.comment,survey:{text:n.survey_text}}),r:({comment:n,post:o})=>t.b({source:"translate_button",action:"view",noun:"feedback"},{post:o,comment:n}),s:({comment:n,post:o})=>t.b({source:"translate_button",action:"click",noun:"feedback"},{post:o,comment:n}),t:(n,o)=>t.b({source:"translate_button",action:"submit",noun:"post_composer"},{action_info:{reason:n?"on":"off"},...o?{post:{id:o.id,subreddit_id:o.subredditId,subreddit_name:o.subredditPrefixedName,url:o.permalink}}:{}}),u:(n,o)=>t.b({source:"translate_button",action:"click",noun:"toggle"},{action_info:{reason:n?"off":"on"},translation_metrics:{translation_setting_state:n?"off":"on",target_language:o}}),v:(n,o,a="",e="")=>t.b({source:"translate_button",action:"default",noun:"known_lang"},{action_info:{reason:n,type:a,source_name:e},setting:{value:o.toString(),values:o}}),w:n=>t.b({source:"translate_button",action:"enabled",noun:"status"},{action_info:{reason:n}}),x:n=>t.b({source:"translate_button",action:"disabled",noun:"status"},{action_info:{reason:n}}),y:n=>t.b({source:"overflow_menu",action:"click",noun:"translate_post"},{action_info:{reason:r(n),type:c(n)},post:{...n.post,translation_state:n.isPostTranslated}}),z:n=>t.b({source:"overflow_menu",action:"view",noun:"translate_post"},{action_info:{reason:r(n)},post:{...n.post,translation_state:n.isPostTranslated}})}}));
SML.dm("6McvgT3C",["DSWSCRFk","DAgRafdt","OHC4dymT","C-AymPzu","CnL37q4H"],(async(t,e,a)=>{const i=t.s,n="translation-intervention-modal",{I18nPostTranslationOverride:s,I18nCommentTranslationOverride:o}=e.T,r=()=>!!e.K.getItem(e.N.I18nTranslationInterventionShown),d=()=>e.K.setItem(e.N.I18nTranslationInterventionShown,"true");let l=class extends i{constructor(){super(...arguments),this.translationContextValue=e.ar,this.open=!1,this.pubsub=new e.f(this),this.handleTranslationOverride=t=>{t.isContextUpdateEvent||r()||this.open||(this.translationOverrideActive=t.isTranslationActive,this.translationSourceId=t.id,this.show())},this.show=()=>{r()||(this.open=!0,this.modal?.showModal(),d())},this.close=()=>{this.translationOverrideActive=void 0,this.translationSourceId=void 0,this.open&&(this.modal?.close(),this.open=!1,this.dispatchEvent(new CustomEvent("translation-intervention-modal:close",{bubbles:!0,composed:!0})))},this.getThingTelemetryMetadata=()=>({post:"post"===this.mode?{id:this.translationSourceId,translation_state:!!this.translationOverrideActive}:"mtseo-post"===this.mode?{id:this.translationSourceId}:void 0,comment:"comment"===this.mode?{id:this.translationSourceId,translation_state:!!this.translationOverrideActive}:void 0}),this.handleDismiss=()=>{e.a(this,a.g({isImmersiveTranslationsActive:!!this.translationContextValue.isTranslationActive,isImmersiveVisit:this.isImmersiveVisit,...this.getThingTelemetryMetadata()})),this.close()},this.handleClick=t=>{e.a(this,a.h({actionType:t,isImmersiveTranslationsActive:"keep"===t?!!this.translationContextValue.isTranslationActive:!this.translationContextValue.isTranslationActive,isImmersiveVisit:this.isImmersiveVisit,...this.getThingTelemetryMetadata()})),"keep"===t?this.close():this.handleSubmit()},this.handleSubmit=()=>{"mtseo-post"===this.mode&&e.K.setItem(e.N.I18nTranslationInterventionShown,"mtseo-disabled");const t=this.translationOverrideActive;this.dispatchContextUpdateEvent(t),this.close()}}connectedCallback(){super.connectedCallback(),r()||("post"===this.mode&&this.pubsub.subscribe(s,this.handleTranslationOverride,!1),"comment"===this.mode&&this.pubsub.subscribe(o,this.handleTranslationOverride,!1))}dispatchContextUpdateEvent(t){const a=new CustomEvent("update-translation-context",{bubbles:!0,composed:!0,detail:{...this.translationContextValue,isTranslationActive:t}});this.dispatchEvent(a),this.pubsub.publish(e.T.I18nPostTranslationOverride,{isTranslationActive:t,id:"",isContextUpdateEvent:!0,pageType:"feed"===this.pageType?"FEED":"PDP"})}render(){const a=this.translationOverrideActive?{body:"It looks like you know another language. Would you like all your content automatically translated?",confirmButton:"Continue Without Translations",cancelButton:"Turn On Translations"}:{body:"It looks like you know another language. Would you like to keep automatic translations turned on?",confirmButton:"Continue With Translations",cancelButton:"Turn off Translations"};return t.x` <faceplate-modal blocking ?open="${this.open}" class="${n} w-[350px] m:w-[320px] h-fit z-10"> <div slot="title" class="w-full m:w-fit"> <h3 class="my-0 font-bold inline-flex text-18" data-testid="i18n-modal-title"> ${"Update translations on Reddit"} </h3> </div> <div slot="closeButton" class="flex items-center"> ${e.J({attributes:{"aria-label":"Close","data-testid":"i18n-modal-close-button",onclick:this.handleDismiss},appearance:"secondary",leadingIcon:t.N({size:t.q.Small}),size:e.a2.Small})} </div> <div class="flex flex-col w-full box-border"> <span class="text-16 my-lg text-pretty">${a.body}</span> <div class="flex flex-col w-full items-stretch gap-xs"> ${e.J({appearance:"primary",size:e.a2.Large,shape:"pill",attributes:{className:"flex box-border w-full","data-testid":"i18n-modal-confirm-button",onclick:this.handleClick.bind(this,"keep")},children:t.x`<span class="font-semibold text-14">${a.confirmButton}</span>`})} ${e.J({appearance:"secondary",size:e.a2.Large,shape:"pill",attributes:{className:"flex box-border w-full","data-testid":"i18n-modal-cancel-button",onclick:this.handleClick.bind(this,"change")},children:t.x`<span class="font-semibold text-14">${a.cancelButton}</span>`})} </div> </div> </faceplate-modal> `;}};l.styles=[e.t],t._([e.aq({context:e.as,subscribe:!0}),t.b()],l.prototype,"translationContextValue",void 0),t._([t.n({type:String,attribute:"mode"})],l.prototype,"mode",void 0),t._([t.n({type:Boolean,attribute:"open"})],l.prototype,"open",void 0),t._([t.n({type:String,attribute:"page-type"})],l.prototype,"pageType",void 0),t._([t.n({type:Boolean,attribute:"is-immersive-visit"})],l.prototype,"isImmersiveVisit",void 0),t._([t.b()],l.prototype,"translationOverrideActive",void 0),t._([t.b()],l.prototype,"translationSourceId",void 0),t._([t.D(`faceplate-modal.${n}`)],l.prototype,"modal",void 0),l=t._([t.c("translation-intervention-modal")],l)}));
SML.dm("Sb16lf7H",["DAgRafdt"],(async e=>{const t={source:"post",action:"click",noun:"ad"},n="client_ad",i={[e.bx.IMPRESSION]:{source:n,action:"view",noun:"ad"},[e.bx.CLICK]:{source:n,action:"click",noun:"ad"},[e.bx.VIDEO_VIEWABLE_IMPRESSION]:{source:n,action:"view",noun:"video"},[e.bx.VIDEO_VIEWABLE_WATCHED_6_SECS]:{source:n,action:"view",noun:"video"},[e.bx.VIDEO_VIEWABLE_WATCHED_15_SECS]:{source:n,action:"view",noun:"video"},[e.bx.GROUP_M_VIEWABLE]:{source:n,action:"group_m_viewable",noun:"ad"},[e.bx.COMMENTS_VIEW]:{source:n,action:"view",noun:"comments"},[e.bx.UPVOTE]:{source:n,action:"upvote",noun:"ad"},[e.bx.DOWNVOTE]:{source:n,action:"downvote",noun:"ad"},[e.bx.COMMENT]:{source:n,action:"submit",noun:"comment"},[e.bx.COMMENT_UPVOTE]:{source:n,action:"upvote",noun:"comment"},[e.bx.COMMENT_DOWNVOTE]:{source:n,action:"downvote",noun:"comment"},[e.bx.VIDEO_FULLY_VIEWABLE_IMPRESSION]:{source:n,action:"fully_view",noun:"video"},[e.bx.VIDEO_PLAYED_WITH_SOUND]:{source:n,action:"watch_with_sound",noun:"video"},[e.bx.VIDEO_PLAYED_EXPANDED]:{source:n,action:"watch_expanded",noun:"video"},[e.bx.VIDEO_GROUP_M_VIEWABLE]:{source:n,action:"watch_group_m",noun:"video"},[e.bx.VIDEO_WATCHED_25]:{source:n,action:"watch_percentage",noun:"video"},[e.bx.VIDEO_WATCHED_50]:{source:n,action:"watch_percentage",noun:"video"},[e.bx.VIDEO_WATCHED_75]:{source:n,action:"watch_percentage",noun:"video"},[e.bx.VIDEO_WATCHED_95]:{source:n,action:"watch_percentage",noun:"video"},[e.bx.VIDEO_WATCHED_100]:{source:n,action:"watch_percentage",noun:"video"},[e.bx.VIDEO_STARTED]:{source:n,action:"watch_percentage",noun:"video"},[e.bx.VIDEO_WATCHED_3_SECS]:{source:n,action:"watch_seconds",noun:"video"},[e.bx.VIDEO_WATCHED_5_SECS]:{source:n,action:"watch_seconds",noun:"video"},[e.bx.VIDEO_WATCHED_10_SECS]:{source:n,action:"watch_seconds",noun:"video"},[e.bx.VENDOR_FULLY_IN_VIEW]:{source:n,action:"vendor_fully_in_view",noun:"ad"},[e.bx.VENDOR_FULLY_IN_VIEW_5_SECS]:{source:n,action:"vendor_fully_in_view",noun:"ad"},[e.bx.VENDOR_FULLY_IN_VIEW_15_SECS]:{source:n,action:"vendor_fully_in_view",noun:"ad"},[e.bx.VIEWABLE_IMPRESSION]:{source:n,action:"viewable",noun:"ad"},[e.bx.UNLOAD]:{source:n,action:"unload",noun:"ad"},[e.bx.GALLERY_ITEM_IMPRESSION]:{source:n,action:"view",noun:"gallery_item"},[e.bx.ENGAGED_CLICK]:{source:n,action:"engaged_click",noun:"ad"},[e.bx.PRODUCT_IMPRESSION]:{source:n,action:"view",noun:"product"},[e.bx.PRODUCT_CLICK]:{source:n,action:"click",noun:"product"},[e.bx.LEAD_GENERATION]:{source:n,action:"submit",noun:"lead"}},o=t=>t.placement===e.Q.FEED,s=t=>t.placement===e.Q.COMMENTS_PAGE||t.placement===e.Q.COMMENT_TREES,a=({post:t,placement:n})=>t&&s(t)&&t.isPdpCombined?e.Q.COMMENTS_PAGE:n||t?.placement,r=e=>{const t=e.closest("shreddit-ad-post")||e.closest("shreddit-comments-page-ad")||e.closest("ad-event-tracker")||e.closest("shreddit-sidebar-ad");if(t)return t;{const t=e.getRootNode(),n=t instanceof ShadowRoot?t.host:null;return"SHREDDIT-SIDEBAR-AD"===n?.tagName||"SHREDDIT-COMMENTS-PAGE-AD"===n?.tagName?n:null}};function c(t){t&&e.K.setItem(e.N.AdEvents,JSON.stringify(t))}function l(t){t&&e.K.setItem(e.N.AdUserTargeting,JSON.stringify(t))}const d="visibleClassnames",u="hiddenClassnames";var E=Object.freeze({__proto__:null,AdStorageController:class{constructor(e){this.host=e}getParentAdPost(){const e=this.host.closest("ad-event-tracker");return e||null}storeAdDataInStorage(){const e=this.getParentAdPost();e&&(c({impressionId:e.impressionId,adEvents:e.adEvents,clickRedirectUrl:e.outboundLinkUrl,encryptedTrackingPayload:e.encryptedTrackingPayload,additionalEventMetadata:e.additionalEventMetadata}),e.adUserTargeting&&l(e.adUserTargeting))}}});var h=Object.freeze({__proto__:null,ToggleableVideoAdController:class{constructor(t,n){this.expandVideoPlayer=()=>{this.toggleElVisibility(this.videoPlayerEl,!0),this.toggleElVisibility(this.thumbnailContainerEl,!1),this.toggleElVisibility(this.thumbnailImageEl,!1),this.toggleElVisibility(this.thumbnailPlayBtnEl,!1),setTimeout((()=>{this.shredditPlayer&&this.updateVideoAdMeasurerDimensions(this.shredditPlayer.offsetHeight,this.shredditPlayer.offsetWidth)}),300)},this.hideVideoPlayer=()=>{this.toggleElVisibility(this.videoPlayerEl,!1),this.toggleElVisibility(this.thumbnailContainerEl,!0),this.toggleElVisibility(this.thumbnailImageEl,!0),this.toggleElVisibility(this.thumbnailPlayBtnEl,!0),this.shredditPlayer?.mediaUI?.hasAttribute(e.hn.PLAYING)&&this.host.dispatchEvent(new CustomEvent(e.ei,{detail:{currentTime:this.shredditPlayer?.videoElement.currentTime,duration:this.shredditPlayer?.videoElement.duration}}))},(this.host=t).addController(this),this.updateVideoAdMeasurerDimensions=n}get videoPlayerEl(){return this.host.querySelector(".toggleable-video-player-element")}get videoPlayerCloseBtnEl(){return this.host.querySelector(".toggleable-video-player-close-btn")}get thumbnailContainerEl(){return this.host.querySelector(".thumbnail-video-toggle-container")}get thumbnailImageEl(){return this.host.querySelector(".thumbnail-image-video-toggle")}get thumbnailPlayBtnEl(){return this.host.querySelector(".thumbnail-playback-action-circle")}get shredditPlayer(){return e.b0.map((e=>this.host.querySelector(e))).find((e=>null!==e))||null}toggleElVisibility(e,t){if(null===e)return;const n=t?e.dataset[u]:e.dataset[d];n&&n?.split(" ").forEach((t=>{e.classList.remove(t)}));const i=t?e.dataset[d]:e.dataset[u];i&&i?.split(" ").forEach((t=>{e.classList.add(t)}))}async hostConnected(){this.host.adType===e.ee.VIDEO&&(this.thumbnailContainerEl?.addEventListener("click",this.expandVideoPlayer),this.videoPlayerCloseBtnEl?.addEventListener("click",this.hideVideoPlayer))}hostDisconnected(){this.host.adType===e.ee.VIDEO&&(this.thumbnailContainerEl?.removeEventListener("click",this.expandVideoPlayer),this.videoPlayerCloseBtnEl?.removeEventListener("click",this.hideVideoPlayer))}}});return{A:"ad-engaged-click",B:"brand-unsafe-post-view",C:"product-carousel-item",G:"gallery-images-container",H:"hide-btf-sidebar-ad",L:"lead-gen-submission",P:i,S:"show-btf-sidebar-ad",a:function({el:t,outboundUrl:n,clickLocation:i,galleryIndex:o}){const s=r(t),a=s?.placement||("placement"in t?t.placement:void 0),c=s?.id||t?.id||("postId"in t?t?.postId:""),l=s?.impressionId||("impressionId"in t?t?.impressionId:""),d=e.c("observe-ad-click",{postId:c,impressionId:l,outboundUrl:n,galleryIndex:o,clickLocation:i});t.dispatchEvent(d),e.K.isAvailable()&&(e.K.setItem(e.N.LastClickedAdId,c),e.K.setItem(e.N.ImpressionId,l),e.K.setItem(e.N.AdPlacement,a||""))},b:l,c:a,d:s,e:{source:"post",action:"view",noun:"ad"},f:function(t){const n=e.K.getItem(e.N.AdEvents);if(null===n)return null;let i;try{i=JSON.parse(n)}catch{return null}return i.impressionId!==t?null:(e.K.removeItem(e.N.AdEvents),i)},g:r,h:function(){const t=e.K.getItem(e.N.AdUserTargeting);if(null===t)return null;let n;try{n=JSON.parse(t)}catch{return null}return e.K.removeItem(e.N.AdUserTargeting),n},i:o,get j(){return E},get k(){return h},s:c,t:function({el:n,clickLocation:i,galleryIndex:s}){try{const c=r(n),l=c?.placement||("placement"in n?n?.placement:void 0),d=c?.postId||("postId"in n?n?.postId:""),u=c?.impressionId||("impressionId"in n?n?.impressionId:""),E=c?c.querySelector(`[click-location=${e.ab.MEDIA}]`):n.querySelector(`[click-location=${e.ab.MEDIA}]`);let h;E&&(h=E.getBoundingClientRect());const _=e.b_();e.a(n,(({postId:n,adMedia:i,impressionId:s,post:r,clickLocation:c=e.ab.UNKNOWN,galleryIndex:l,page_request_id:d,placement:u})=>{const E={post:{id:n,subreddit_id:r?.subredditId,author_id:r?.authorId,promoted:!0},ad_click:{location:c},ad_metadata:{impression_id:s,placement:a({post:r,placement:u})},feed:e.eb(),action_info:{page_request_id:d}};return r&&o(r)&&(E.action_info||(E.action_info={}),E.action_info.position=r.feedIndex,E.screen||(E.screen={}),E.screen={},E.screen.view_type=e.ec(r.viewType)),r?.galleryItems&&(E.gallery={position:l,num_items:r.galleryItems.length}),r?.countryCode&&(E.geo={country_code:r.countryCode}),i&&(E.media={height:Math.round(i?.height),width:Math.round(i?.width)}),e.b(t,E)})({postId:d,impressionId:u,post:c,adMedia:h,clickLocation:i,galleryIndex:s||0,page_request_id:_,placement:l}))}catch(e){const t="Sentry"in window?window.Sentry:void 0;t?.captureException&&(e.message&&(e.message=`post/click/ad exception: ${e.message}`),t.captureException(e))}}}}));
SML.dm("kmRFweAm",["DAgRafdt"],(async e=>{const a="devplatform",r=a=>{switch(a){case e.a6.PostDetail:return"pdp";case e.a6.Profile:return"profile";case e.a6.Community:return"subreddit";case e.a6.Embed:return"embed";case e.a6.Home:case e.a6.Popular:case e.a6.All:case e.a6.CustomFeed:case e.a6.GeoCuratedFeed:case e.a6.UserPosts:case e.a6.ModQueue:case e.a6.ModQueueAll:case e.a6.SearchResults:return"feed";default:return""}};var t;!function(e){e.all="all",e.arena="arena",e.conversation="conversation",e.custom="custom",e.embed="embed",e.home="home",e.modQueue="mod_queue",e.modQueueAll="mod_queue_all",e.news="news",e.popular="popular",e.profile="profile",e.promotedSearchTrend="promoted_search_trend",e.read="read",e.search="search",e.subreddit="subreddit",e.user="user",e.watch="watch"}(t||(t={}));const o=a=>{switch(a){case e.a6.All:return t.all;case e.a6.ArenaFeed:return t.arena;case e.a6.Community:return t.subreddit;case e.a6.CustomFeed:case e.a6.GeoCuratedFeed:return t.custom;case e.a6.Embed:return t.embed;case e.a6.Home:return t.home;case e.a6.ModQueue:return t.modQueue;case e.a6.ModQueueAll:return t.modQueueAll;case e.a6.Popular:return t.popular;case e.a6.Profile:return t.profile;case e.a6.SearchResults:return t.search;case e.a6.UserPosts:return t.user;default:return""}};return{D:a,a:(e,a)=>{if(URL.canParse(e)){const r=new URL(e);return r.searchParams.set("entry_point",a),r.toString()}return e},c:e=>({source:a,action:e.action,noun:e.noun,devplatform_custom_post_info:{post_id:e.postId,subreddit_id:e.subredditId,block_type:e.blockType,presentation_context:e.pageType?r(e.pageType):"",feed_type:e.pageType?o(e.pageType):"",watermark:e.watermark,post_chrome:e.post_chrome},devplatform:{runtime:"web",installation_id:e.appInstallationId,app_id:e.appId,app_slug:e.appSlug,app_name:e.appSlug,app_version_number:e.appVersionNumber,public_api_version:e.appPublicApiVersion,internal_entry_point:e.internalEntryPoint||"",app_recommendation_criteria:e.appRecommendationCriteria||""},init_info:e.init_info,request:{user_agent:e.userAgent},post:e.post})}}));
SML.dm("zizV9pIX",["DSWSCRFk","DAgRafdt"],(async(t,e)=>{var a;!function(t){t.PLAIN="plain",t.MEDIA="media"}(a||(a={}));const i=12;let r=class extends t.s{constructor(){super(...arguments),this.pages=0,this.pageIndex=0,this.appearance=a.PLAIN,this.animationDuration=0,this.containerLabel="",this.numVisible=2,this.centerIndexPosition=3,this.setTransitionDuration=async()=>{this._dotsContainer&&(await this.updateComplete,this._dotsContainer.style.setProperty("--pagination-transition-duration",`${this.animationDuration}ms`))},this.animateInfiniteCurrentPage=t=>{if(this._currentPageIndicator){const e=[{transform:t?`translateX(${i*this.pages}px)`:"translateX(-12px)",opacity:0},{opacity:0,transform:t?"translateX(-12px)":`translateX(${i*this.pages}px)`},{opacity:1,transform:t?"translateX(0px)":`translateX(${i*(this.pages-1)}px)`}],a={duration:this.animationDuration,fill:"forwards",iterations:1};this.setDotsTrackTransform(!t),this._currentPageIndicator.animate(e,a)}},this.animateCurrentPage=async()=>{this.setDotsTrackTransform(),this.animateCurrentPageNumber()},this.animateCurrentPageNumber=()=>{if(this._currentPageIndicator){const t=[{width:"var(--rem6)"},{width:"var(--rem18)",borderRadius:"4px"},{width:"var(--rem6)",transform:`translateX(${i*this.pageIndex}px)`}],e={duration:this.animationDuration,fill:"forwards",iterations:1};this._currentPageIndicator.animate(t,e)}},this.onSelect=t=>{const e=new CustomEvent("pagination-click",{detail:{pageIndex:t},bubbles:!0,composed:!0});this.dispatchEvent(e)},this.isEdgeDot=t=>{if(this.pages>=6){const e=t===this.pageIndex-3,a=t===this.pageIndex+3;return e||a}return!1},this.getDotButton=a=>{const i=Math.abs(a-this.pageIndex),r=t=>t===this.pageIndex?`(${this.currentPageLabel??"Current Page"})`:"",n=this.getPageLabels?`${this.getPageLabels(a)} ${r(a)}`:`Page ${a+1} ${r(a)}`,o=0===i||1===i;return t.x`<button class="${e.x({dot:!0,edge:this.isEdgeDot(a)})}" aria-hidden="${!o}" tabindex="${o?0:-1}" @click="${t=>{0===t.target.tabIndex&&this.onSelect(a)}}" @keydown="${t=>{"Enter"!==t.key&&"Space"!==t.key||this.onSelect(a)}}"> <faceplate-screen-reader-content>${n}</faceplate-screen-reader-content> </button>`},this.render=()=>{if(0!==this.pages)return t.x` <div id="dots-container" dir="ltr"> <div class="dots-track-container"> <div id="dots-track" role="group" aria-label="${this.containerLabel}"> ${this.currentPageIndicator} ${[...Array(this.pages).keys()].map(((t,e)=>this.getDotButton(e)))} </div> </div> </div> `}}static get styles(){return t.i`:host{display:inline-flex;height:var(--rem16,1rem);width:100%;justify-content:center}:host(:dir(rtl)){transform:scaleX(-1)}:host #dots-container{display:inline-flex;position:relative;height:100%;overflow:hidden;align-items:center;border-radius:var(--rem8,.5rem);padding:0 var(--rem2,.125rem);transition:width ease-in-out var(--pagination-transition-duration)}:host .dots-track-container{position:relative;height:100%;width:100%;display:flex;align-items:center}:host #dots-track{display:flex;position:absolute;inset-inline-start:0;height:var(--rem12,.75rem);overflow:hidden;box-sizing:border-box;font-size:var(--rem10,.625rem);align-items:center;transition:transform ease-in-out var(--pagination-transition-duration)}:host([appearance=media]) #dots-container{background-color:var(--color-media-background)}:host([appearance=media]) .dot{background-color:var(--color-media-onbackground-disabled)}:host .dot:focus-visible{outline:solid 1px var(--color-global-focus)}:host([appearance=media]) #current-page-indicator.number{color:var(--color-media-onbackground)}:host([appearance=media]) #current-page-indicator.dot{background-color:var(--color-media-onbackground)}:host #current-page-indicator{z-index:2;position:absolute}:host #current-page-indicator.number{color:var(--color-neutral-content);display:flex;align-items:center;justify-content:center;transition:transform ease-in-out var(--pagination-transition-duration)}:host #current-page-indicator.dot{background-color:var(--color-neutral-content)}:host .dot{height:var(--rem6,.375rem);width:var(--rem6,.375rem);border-radius:50%;box-sizing:content-box;display:inline-block;margin:calc(var(--rem2,.125rem) + var(--rem1,.0625rem));padding:0;border:none}:host #current-page-indicator.number{height:var(--rem15,.9375rem);width:var(--rem16,1rem);margin:0}:host .dot{background-color:var(--color-neutral-border);background-clip:content-box;transition:all ease-in-out var(--pagination-transition-duration)}:host .dot[tabindex='0']{cursor:pointer}:host .dot:focus{transition:none}:host .dot.edge{transform:scale(.5);flex-shrink:0}`}willUpdate(t){t.has("pageIndex")&&(this.pageIndex<0||this.pageIndex>this.pages-1)&&(this.pageIndex=0)}async updated(t){await this.updateComplete,(t.has("pageIndex")||t.has("pages"))&&this.shrinkOrStretch();const e=t.get("pageIndex")===this.pages-1&&0===this.pageIndex,a=0===t.get("pageIndex")&&this.pageIndex===this.pages-1;e||a?this.animateInfiniteCurrentPage(e):t.has("pageIndex")&&await this.animateCurrentPage(),t.has("animationDuration")&&this.setTransitionDuration()}shrinkOrStretch(){this.pages>=6?0===this.pageIndex||this.pageIndex===this.pages-1?this.numVisible=4:1===this.pageIndex||this.pageIndex===this.pages-2?this.numVisible=5:2===this.pageIndex||this.pageIndex===this.pages-3?this.numVisible=6:this.pageIndex>=3&&this.pageIndex<=this.pages-4&&(this.numVisible=7):this.numVisible=this.pages,this._dotsContainer&&(this._dotsContainer.style.width=`calc(var(--rem12, 0.75rem) * ${this.numVisible})`)}setDotsTrackTransform(t){const e=this.pageIndex-this.centerIndexPosition,a=e>0?e:0;if(this._dotsTrack){const e=`translateX(${i*a*-1}px)`;e!==this._dotsTrack.style.transform?this._dotsTrack.style.transform=e:t&&"translateX(0px)"!==this._dotsTrack.style.transform&&(this._dotsTrack.style.transform="translateX(0px)")}}get currentPageIndicator(){return t.x`<span id="current-page-indicator" class="dot" aria-hidden="true"></span>`}};return t._([t.n({type:Number})],r.prototype,"pages",void 0),t._([t.n({type:Number,attribute:"page-index"})],r.prototype,"pageIndex",void 0),t._([t.n({type:String})],r.prototype,"appearance",void 0),t._([t.n({type:Number,attribute:"animation-duration"})],r.prototype,"animationDuration",void 0),t._([t.n({type:String,attribute:"current-page-label"})],r.prototype,"currentPageLabel",void 0),t._([t.n()],r.prototype,"getPageLabels",void 0),t._([t.n({type:String,attribute:"container-label"})],r.prototype,"containerLabel",void 0),t._([t.D("#dots-container")],r.prototype,"_dotsContainer",void 0),t._([t.D("#dots-track")],r.prototype,"_dotsTrack",void 0),t._([t.D("#current-page-indicator")],r.prototype,"_currentPageIndicator",void 0),t._([t.Z(".dot")],r.prototype,"_dots",void 0),r=t._([t.c("faceplate-pagination-indicator")],r),{get P(){return a}}}));
SML.dm("CGooZ66g",["DSWSCRFk","DAgRafdt","CU4mObWU","OAEZpqSu","BcykV95-","zizV9pIX"],(async(t,i,e,s,n,a)=>{let o=class extends t.s{constructor(){super(...arguments),this.appearance=a.P.PLAIN,this.autoplay=0,this.pages=0,this.pageIndex=0,this.isAnimationFinished=!1,this._currentAnimation=null,this.handleAutoplayInterruption=async t=>{this.cancelAnimation(t)},this.cancelAnimation=async t=>{const i=await this._autoplayPillContainer;if(i){const{children:e}=i;if(e[t]?.firstElementChild){const i=e[t]?.firstElementChild?.getAnimations().map((t=>(t.cancel(),t.ready)));i&&await Promise.all(i)}}},this.resetAnimations=async()=>{const t=await this._autoplayPillContainer;if(t){const{children:i}=t;for(let t=0;t<i.length;t++)this.cancelAnimation(t)}},this.animatePill=async()=>{this.isAnimationFinished=!1;try{await this.updateComplete,this._currentAnimation?.cancel();const t=[{backgroundColor:"var(--color-neutral-border-medium)",width:0,height:"var(--rem4)"},{backgroundColor:"var(--color-neutral-border-medium)",width:"100%",height:"var(--rem4)"}],i={duration:this.autoplay,fill:"forwards",iterations:1},{children:e}=await this._autoplayPillContainer,s=e?.[this.pageIndex]?.firstElementChild;this._currentAnimation=s?.animate(t,i),await(this._currentAnimation?.finished),this.isAnimationFinished=!0}catch(t){t instanceof DOMException&&"AbortError"===t.name||console.error(t)}},this.pauseAnimation=()=>{this._currentAnimation?.pause()},this.resumeAnimation=()=>{this._currentAnimation?.play()},this.render=()=>{if(0!==this.pages)return t.x` <div class="pagination-container"> <div class="${i.x({"pagination-controls":!0,plain:this.appearance===a.P.PLAIN,media:this.appearance===a.P.MEDIA,autoplay:this.autoplay})}"> <span id="autoplay-pill-container">${[...Array(this.pages).keys()].map(((e,s)=>t.x`<span class="${i.x({track:!0,"in-view":this.pageIndex===s})}"> <span class="${i.x({autoplayPill:!0,"in-view":this.pageIndex===s,viewed:s<this.pageIndex,plain:this.appearance===a.P.PLAIN,media:this.appearance===a.P.MEDIA})}"></span> </span>`))}</span> </div> </div> `}}static get styles(){return t.i`:host{display:block;box-sizing:border-box}.pagination-container{display:flex;justify-content:center}.track.in-view{height:var(--rem4,.25rem);border-radius:var(--rem2,.125rem)}.autoplayPill,.track{height:var(--rem2,.125rem);display:inline-block;border-radius:var(--rem2,.0625);width:100%}.autoplayPill{position:absolute}.track{background-color:var(--color-neutral-border);flex:1;margin:0 var(--rem2,.125rem);display:inline-block;position:relative}#autoplay-pill-container{display:flex;width:100%;align-items:center}.autoplayPill.viewed{background-color:var(--color-neutral-border-medium)}.pagination-controls.autoplay{width:90%}.pagination-controls.media.autoplay{position:absolute;bottom:var(--rem12,.75rem);z-index:2}.pagination-controls{display:flex;align-items:center;justify-content:center}.pagination-controls.plain .current-page-indicator{color:var(--color-media-onbackground)}.pagination-controls.media .current-page-indicator{color:var(--color-neutral-content)}`}updated(t){t.has("pageIndex")&&!this.isAnimationFinished&&this.handleAutoplayInterruption(t.get("pageIndex"))}};var r,l,h,d,c;t._([t.n({type:String,attribute:"appearance"})],o.prototype,"appearance",void 0),t._([t.n({type:Number})],o.prototype,"autoplay",void 0),t._([t.n({type:Number})],o.prototype,"pages",void 0),t._([t.n({type:Number,attribute:"page-index"})],o.prototype,"pageIndex",void 0),t._([t.b()],o.prototype,"isAnimationFinished",void 0),t._([t.b8("#autoplay-pill-container")],o.prototype,"_autoplayPillContainer",void 0),o=t._([t.c("faceplate-carousel-pagination")],o),function(t){t.OUTSIDE="outside",t.INSIDE="inside",t.OFF="off"}(r||(r={})),function(t){t.NEXT="next",t.BOTH="both",t.OFF="off"}(l||(l={})),function(t){t.INSIDE="inside",t.OUTSIDE="outside",t.OFF="off"}(h||(h={})),function(t){t.FORWARDS="forwards",t.BACKWARDS="backwards"}(d||(d={})),function(t){t.LEFT="left",t.CENTER="center",t.OFF="off"}(c||(c={}));let u=class extends t.s{constructor(){super(...arguments),this.navPlacement=h.OUTSIDE,this.paginationPlacement=r.OUTSIDE,this.autoplay="default",this.advanceAnimation=!1,this.numVisible=1,this.infinite=!1,this.inset=l.OFF,this.startIndex=0,this._pageIndex=0,this.pageCount=0,this.isCarouselInitialized=!1,this.hasBeenInteractedWith=!1,this._childCount=0,this._autoplayTimeoutId=null,this._isInsetBothAllowed=!1,this._lowerBoundOffset=0,this._upperBoundOffset=0,this._prevButtonHidden=!1,this._isNextButtonHidden=!1,this._gap=0,this._gapTotal=0,this._autoplayPaginationRef=i.C(),this._carouselListRef=i.C(),this._gesture=null,this.firstRender=!0,this.autoplayInProgress=!1,this.hidePrevButton=!1,this.hideNextButton=!1,this.emitter=s.k(this),this._animationStartTime=0,this._animationRemainingTime=0,this.generateAriaLiveMsg=({pageIndex:t,numVisible:i,pageCount:e})=>{const s=t*i+1;return i>1?`Items ${s} through ${s+i-1} of ${e}`:`Item ${s} of ${e}`},this.updated=async t=>{(t.has("numVisible")||t.has("infinite")||t.has("inset")||t.has("autoplay")||t.has("navPlacement")||t.has("paginationPlacement")||t.has("pageWidth"))&&((t.has("inset")||t.has("navPlacement"))&&(this.cachedDimensions=null),this.firstRender||this.resetAndInitialize()),(t.has("_pageIndex")||t.has("infinite"))&&this.toggleDisabledProgressButtons()},this.resetAndInitialize=()=>{this.resetCarousel(),this.initializeCarousel()},this.initializeResize=()=>{this.resizeObserver&&this.resizeObserver.disconnect(),this.resizeObserver=new ResizeObserver((async()=>{if(!this.firstRender){this.cachedDimensions=null,await new Promise((t=>requestAnimationFrame(t)));const t=this.getCarouselDimensions();t&&await this.showFirstChild(t.width)}})),this.resizeObserver.observe(this)},this.intersectionCallback=t=>{t.forEach((t=>{t.target.style.visibility=t.isIntersecting?"visible":"hidden"}));const i=new CustomEvent("__TEST-ONLY_carousel-intersection");this.dispatchEvent(i)},this.initializeIntersectionObserver=()=>{if(this._intersectionObserver=new IntersectionObserver(this.intersectionCallback,{root:this._carouselListRef?.value}),this.carouselSlot.children)for(const t of Array.from(this.carouselSlot.children))this._intersectionObserver.observe(t)},this.onPaginationClick=t=>{this.goToPage(t.detail.pageIndex,!0)},this.initializeCarousel=()=>{if(this.isCarouselInitialized)return;const{children:t}=this.carouselSlot;this.setChildAndPageCount(t),this.handleAutoPlay(),this._isInsetBothAllowed=this._childCount>=3&&(this.inset===l.BOTH||this.alignment===c.CENTER),this.infinite&&this.cloneBoundElements({children:t});if(this.navPlacement===h.INSIDE&&this.paginationPlacement===r.INSIDE||!this.firstRender){const t=this.getCarouselDimensions();t&&this.showFirstChild(t.width)}this.firstRender=!1,this.isCarouselInitialized=!0,this.initListMutationObserver(),this.initializeVisibility(),this.initializeIntersectionObserver(),this.toggleDisabledProgressButtons(),this._paginationCounter?.[0]&&(this._paginationCounter[0].style.visibility=this.pageCount<=5?"hidden":"visible");const i=new CustomEvent("__TEST-ONLY_carousel-initialized");this.dispatchEvent(i)},this.showFirstChild=async t=>{!this.hasBeenInteractedWith&&this.startIndex&&(this._pageIndex=this.startIndex),await this.setChildDimensions(t),this.goToPage(this.pageIndex,!1);const i=new CustomEvent("__TEST-ONLY_carousel-children-ready",{bubbles:!0});this.dispatchEvent(i)},this.handleAutoPlay=async()=>{"off"===this.autoplay||isNaN(this._autoplaySpeed)||(this.autoplayInProgress&&this.clearAnimationTimeout(),this.autoplayInProgress=!0,(this.infinite||this._pageIndex<this.pageCount-1)&&(this._animationStartTime=Date.now(),this._autoplayPaginationRef?.value?.animatePill(),this._autoplayTimeoutId=setTimeout((async()=>{await this.slideForwards(),this.handleAutoPlay()}),this._autoplaySpeed)))},this.cachedDimensions=null,this.getCarouselDimensions=()=>{if(this.cachedDimensions)return this.cachedDimensions;const t=this._carouselListRef.value?.getBoundingClientRect();if(t){const{width:i}=t;return this.cachedDimensions={width:i,height:t.height},this.cachedDimensions}},this.calcChildWidth=t=>{if(this.pageWidth)return"string"==typeof this.pageWidth&&this.pageWidth.endsWith("%")?t*(parseInt(this.pageWidth)/100):this.pageWidth;let i=0;this._gapTotal=this._gap*(this.numVisible-1)||0,this.inset!==l.OFF&&(i=48*(this.inset===l.NEXT?1:2),this._gapTotal=this._gap*(this.inset===l.NEXT?this.numVisible:this.numVisible+1));return(t-this._gapTotal-i)/this.numVisible},this.setChildDimensions=async t=>{this._gap=parseInt(getComputedStyle(this.carouselSlot).getPropertyValue("gap"))||0;for(const i of Array.from(this.carouselSlot.children)){const{width:e}=i.getBoundingClientRect(),s=i;if(s.style.boxSizing="border-box",t){const i=this.calcChildWidth(t);i!==e&&(s.style.width="number"==typeof i?`${i}px`:i)}"100%"!==s.style.height&&(s.style.height="100%"),"hidden"!==s.style.overflow&&(s.style.overflow="hidden")}},this.prepareNextSlideVisibility=t=>{const i=this.carouselSlot.children.length;for(let e=t;e<Math.min(t+this.numVisible,i);e++)this.carouselSlot.children[e].style.visibility="visible"},this.handleTranslateXWithOffset=async({element:t,startIndex:i})=>{this.prepareNextSlideVisibility(i);let e="";const s=this.insetWidth(t);if(this._isInsetBothAllowed)switch(i){case 0:e="0px";break;case this.pageCount-1:e=this.isRTL?`calc(-1 * ${t.offsetLeft}px)`:`calc(-1 * (${t.offsetLeft}px - ${2*s}px - ${this._gap*this.numGaps}px))`;break;default:e=`calc(-1 * (${t.offsetLeft}px - ${s}px - ${this._gap}px))`}else{const i=getComputedStyle(this.carouselSlot),s=parseInt(i.paddingLeft||"0"),n=parseInt(i.paddingRight||"0"),a=this.carouselSlot.scrollWidth-(this.carouselSlot.clientWidth-n),o=t.offsetLeft===s?0:t.offsetLeft;e=-Math.min(o,a)+"px"}return this.carouselSlot.style.transform=`translateX(${e})`,await Promise.all(this.carouselSlot.getAnimations().map((t=>t.finished))).catch((t=>{t instanceof DOMException&&"AbortError"===t.name||console.error(t)}))},this.slideCarousel=async({isWithinBounds:t,direction:i,requestedIndex:e,allowAnimations:s,onSuccessfulSlide:n})=>{const{children:a}=this.carouselSlot,o=a.length,r=Math.max(1,Math.min(this.numVisible,o));let l=!1;if(this.firstRender||(this.carouselSlot.style.transitionDuration=`${s?this.animationDuration:0}ms`),t){let t=e*r+this._lowerBoundOffset;if(t+r>o){const i=e-1,s=t+r-o;t=Math.max(0,i*r+(r-s))}await this.handleTranslateXWithOffset({element:a[t],startIndex:t}),l=!0}else this.infinite&&(await this.handleInfiniteSlide({children:a,direction:i}),l=!0);l&&(this.hasBeenInteractedWith||(this.hasBeenInteractedWith=!0),n?.());const h=new CustomEvent("faceplate-carousel:slide",{detail:{prevPositionIndex:this._pageIndex,currPositionIndex:e,direction:i,num_items:this._childCount},bubbles:!0});this.dispatchEvent(h)},this.cloneBoundElements=({children:t})=>{let i=0;const e=this._childCount-1,s=this._isInsetBothAllowed?1:0;for(let i=0;i<this.numVisible+s;i++){const e=t[i]?.cloneNode(!0);e instanceof HTMLElement&&(e.dataset.fpUiCarouselMarker="true",e.id=Math.random().toString(16).slice(2),e.role="presentation",this.carouselSlot.append(e),++this._upperBoundOffset)}const n=this._isInsetBothAllowed?1:0;for(let s=0;s<this.numVisible+n;s++){const n=t[e-s+i++]?.cloneNode(!0);n instanceof HTMLElement&&(n.dataset.fpUiCarouselMarker="true",n.id=Math.random().toString(16).slice(2),n.role="presentation",this.carouselSlot.prepend(n),++this._lowerBoundOffset)}},this.handleInfiniteSlide=async({children:t,direction:i})=>{this.carouselSlot.style.transitionDuration="0s";let e=this._isInsetBothAllowed?1:0;i===d.BACKWARDS&&(e=t.length-this._upperBoundOffset),await this.handleTranslateXWithOffset({element:t[e],startIndex:e}),this.carouselSlot.style.transitionDuration=`${this.animationDuration}ms`;const s=i===d.BACKWARDS?e-this.numVisible:e+this.numVisible;await this.handleTranslateXWithOffset({element:t[s],startIndex:s})},this.setNavButtonVisibility=({type:t,hidden:i})=>{this.navPlacement!==h.OFF&&("next"===t?(this.hideNextButton=i,this._isNextButtonHidden=i):(this.hidePrevButton=i,this._prevButtonHidden=i))},this.toggleDisabledProgressButtons=()=>{if(!this.infinite){const t=0===this.pageIndex,i=this.pageIndex===Math.ceil(this._childCount/this.numVisible)-1,e=0===this._childCount;this.setNavButtonVisibility({type:"previous",hidden:e||t}),this.setNavButtonVisibility({type:"next",hidden:e||i})}},this.resetCarousel=()=>{this.resetChildren(),this.cancelAutoPlay(),this.resetDisabledProgressButtons(),this._pageIndex=0,this.pageCount=0,this.isCarouselInitialized=!1,this._isInsetBothAllowed=!1,this._lowerBoundOffset=0,this._upperBoundOffset=0;const t=new CustomEvent("__TEST-ONLY_carousel-reset");this.dispatchEvent(t)},this.resetChildren=()=>{const{children:t}=this.carouselSlot;let i=0;const e=t.length;for(let s=0;s<e;s++){const e=t[i];e instanceof HTMLElement&&e.dataset.fpUiCarouselMarker?e.remove():i++}},this.clearAnimationTimeout=t=>{"number"==typeof this._autoplayTimeoutId&&(window.clearTimeout(this._autoplayTimeoutId),this.autoplayInProgress=!1,t&&t())},this.cancelAutoPlay=()=>{this.clearAnimationTimeout(this._autoplayPaginationRef?.value?.resetAnimations)},this.onListItemKeydown=t=>{"ArrowLeft"===t.key?this.slideBackwards(t):"ArrowRight"===t.key&&this.slideForwards(t)},this.goToPage=(t,i)=>{if(t<0||t>=this.pageCount)return;let e=d.BACKWARDS;t>this._pageIndex&&(e=d.FORWARDS),this._pageIndex=t,this.slideCarousel({isWithinBounds:!0,direction:e,requestedIndex:t,allowAnimations:i})},this.swipeForwards=t=>{this.slideForwards(t),this.dispatchSwipeEvent(d.FORWARDS)},this.swipeBackwards=t=>{this.slideBackwards(t),this.dispatchSwipeEvent(d.BACKWARDS)},this.onInterruptedAutoplay=async t=>{await t(),this.handleAutoPlay()},this.slideHelper=async({navButtonDisabled:t,slide:i,e})=>{t||(this._autoplayTimeoutId&&e?this.onInterruptedAutoplay(i):await i())},this.slideForwards=async t=>{const i=this._pageIndex+1,e=i<this.pageCount;await this.slideHelper({navButtonDisabled:this._isNextButtonHidden,slide:async()=>{this._pageIndex=e?i:0,this.slideCarousel({isWithinBounds:e,direction:d.FORWARDS,requestedIndex:i,allowAnimations:!0})},e:t})},this.onKeyDown=(t,i)=>{"Enter"!==t.key&&"Space"!==t.key||(t.preventDefault(),i(t))},this.slideBackwards=async t=>{const i=this._pageIndex-1,e=i>=0;await this.slideHelper({navButtonDisabled:this._prevButtonHidden,slide:async()=>{this._pageIndex=e?i:this.pageCount-1,this.slideCarousel({isWithinBounds:e,direction:d.BACKWARDS,requestedIndex:i,allowAnimations:!0})},e:t})},this.onListItemFocusIn=()=>{this.autoplay&&"off"!==this.autoplay&&(this._animationRemainingTime=this._autoplaySpeed-(Date.now()-this._animationStartTime),this.clearAnimationTimeout(),this.autoplayInProgress=!1,this._autoplayPaginationRef?.value?.pauseAnimation())},this.onListItemBlur=()=>{this.autoplay&&"off"!==this.autoplay&&(this._autoplayPaginationRef?.value?.resumeAnimation(),setTimeout((async()=>{await this.slideForwards(),this.handleAutoPlay()}),this._animationRemainingTime))}}static get styles(){return t.i`:host{display:flex;position:relative;width:inherit;isolation:isolate;--carousel-gap:var(--spacer-xs, 0.5rem);--carousel-padding:0;--carousel-margin:0}.carousel-container{display:flex;height:auto;align-items:center;position:relative;width:100%}::slotted(:not([slot])){height:100%;display:grid;grid-auto-flow:column;transition:transform;transition-timing-function:ease-out;margin:var(--carousel-margin)!important;padding:var(--carousel-padding)!important;list-style:none;position:relative;gap:var(--carousel-gap)}::slotted([slot=nextButton]),::slotted([slot=prevButton]){display:inline-block}.content-nav-buttons{display:inline-block;position:relative;z-index:2}.content-nav-buttons.hide{visibility:hidden}.content-nav-buttons.start{position:absolute;inset-inline-start:var(--spacer-sm,.75rem)}.content-nav-buttons.outside.end{padding:0 var(--spacer-sm,.75rem)}.content-nav-buttons.inside{position:absolute;top:50%;transform:translateY(-50%)}.content-nav-buttons.inside.start{inset-inline-start:var(--spacer-xs,.5rem)}.content-nav-buttons.inside.end{inset-inline-end:var(--spacer-xs,.5rem)}#carousel-window{position:relative;overflow:hidden;contain:content;display:flex;flex-direction:column;height:100%;flex:1}#carousel-list{height:100%;overflow:hidden;position:relative}:host([pagination-placement=outside]) #pagination-container{padding-top:var(--spacer-xs,.5rem)}:host(:not([nav-placement])) #carousel-window,:host([nav-placement=outside]) #carousel-window{margin-inline-start:var(--rem56,3.5rem)}:host([pagination-placement=inside]) #pagination-container{position:absolute;bottom:var(--rem16,1rem);inset-inline:0;margin:0 auto;width:fit-content}.carousel-actions{position:absolute;inset-inline-end:var(--rem12,.5rem);display:inline-flex;align-items:center;gap:var(--rem12,.75rem)}.carousel-actions.top{top:var(--rem12,.5rem)}.carousel-actions.bottom{bottom:var(--rem16,.1rem)}.hidden{visibility:hidden}.visible{visibility:visible;transition:visibility ease-in}`}get pageIndex(){return this._pageIndex}get isRTL(){try{return this.matches(":dir(rtl)")}catch{return"rtl"===getComputedStyle(this).direction}}get carouselSlot(){return this._children.reduce(((t,i)=>i.assignedSlot&&"UL"===i.nodeName?i:t),document.createElement("ul"))}connectedCallback(){if(super.connectedCallback(),this._gesture=new e.T(this,{mouseSupport:!1}),this._gesture.on("swipeleft",this.isRTL?this.swipeBackwards:this.swipeForwards),this._gesture.on("swiperight",this.isRTL?this.swipeForwards:this.swipeBackwards),this.initializeResize(),this.isCarouselInitialized){const t=this._pageIndex;this.resetAndInitialize(),this._pageIndex!==t&&this.goToPage(t,!1)}}disconnectedCallback(){super.disconnectedCallback(),this._gesture?.destroy(),this.resizeObserver?.disconnect(),this._listMutationObserver?.disconnect(),this._intersectionObserver?.disconnect()}firstUpdated(){this.initializeCarousel()}async handleChildRemoval(){const{children:t}=this.carouselSlot;this.setChildAndPageCount(t),this._firstViewableIndex>this._childCount-1&&this.slideBackwards(),this._childCount||this.toggleDisabledProgressButtons();const i=new CustomEvent("__TEST-ONLY_carousel-children-reset");this.dispatchEvent(i)}get _firstViewableIndex(){return this.infinite?this.pageIndex*this.numVisible+this._lowerBoundOffset:this.pageIndex*this.numVisible}initListMutationObserver(){this._listMutationObserver&&this._listMutationObserver.disconnect(),this._listMutationObserver=new MutationObserver((t=>{for(const i of t)"childList"===i.type&&this.isCarouselInitialized&&(i.removedNodes.length>0?this.handleChildRemoval():i.addedNodes.length>0&&this.handleChildrenAddition())})),this.carouselSlot&&this._listMutationObserver.observe(this.carouselSlot,{childList:!0})}setChildAndPageCount(t){this._childCount=t.length,this.pageCount=Math.ceil(this._childCount/this.numVisible)}async handleChildrenAddition(){const t=this._childCount,{children:i}=this.carouselSlot;this.setChildAndPageCount(i);const e=this.getCarouselDimensions();e&&await this.setChildDimensions(e.width),this._childCount>t&&this.toggleDisabledProgressButtons()}get _autoplaySpeed(){switch(this.autoplay){case"off":return 0;case"default":return 5e3;default:return parseInt(this.autoplay)}}get animationDuration(){return this.advanceAnimation&&!window.matchMedia("(prefers-reduced-motion: reduce)").matches?250:0}get numInsets(){return this.inset===l.BOTH||this.alignment===c.CENTER?2:this.inset===l.NEXT||this.alignment===c.LEFT?1:0}get numGaps(){return this.numVisible+this.numInsets-1}insetWidth(t){const i=this.getCarouselDimensions();if(i){return(i.width-t.getBoundingClientRect().width*this.numVisible-this._gap*this.numGaps)/this.numInsets}return 0}resetDisabledProgressButtons(){this.setNavButtonVisibility({type:"next",hidden:!1}),this.setNavButtonVisibility({type:"previous",hidden:!1})}initializeVisibility(){for(const t of Array.from(this.carouselSlot.children))t.dataset.fpUiCarouselMarker||(t.style.visibility="hidden")}dispatchSwipeEvent(t){const i=new CustomEvent("faceplate-carousel:swipe",{detail:{currPositionIndex:this._pageIndex,direction:t},bubbles:!0});this.dispatchEvent(i)}render(){return t.x` <div class="carousel-container"> <div id="carousel-window"> <div id="carousel-list" ${i.H(this._carouselListRef)}> <slot @keydown="${this.onListItemKeydown}" @focusin="${this.onListItemFocusIn}" @focusout="${this.onListItemBlur}"></slot> <span class="carousel-actions top"> <slot name="paginationCounter"></slot> <slot name="closeButton"></slot> </span> <span class="carousel-actions bottom"> <slot name="addButton"></slot> </span> </div> <div id="pagination-container" class="${i.x({inside:this.paginationPlacement===r.INSIDE})}"> ${this.paginationPlacement===r.OFF?null:this._autoplaySpeed?t.x`<faceplate-carousel-pagination ${i.H(this._autoplayPaginationRef)} pages="${this.pageCount}" page-index="${this._pageIndex}" autoplay="${this._autoplaySpeed}" appearance="${this.paginationPlacement===r.INSIDE?a.P.MEDIA:a.P.PLAIN}"> </faceplate-carousel-pagination>`:t.x`<faceplate-pagination-indicator @pagination-click="${this.onPaginationClick}" .getPageLabels="${this.getPageLabels}" numbered current-page-label="${t.l(this.currentPageLabel)}" appearance="${this.paginationPlacement===r.INSIDE?a.P.MEDIA:a.P.PLAIN}" animation-duration="${this.animationDuration}" pages="${this.pageCount}" page-index="${this._pageIndex}" container-label="${t.l(this.paginationContainerLabel)}"></faceplate-pagination-indicator>`} </div> </div> <slot class="content-nav-buttons start ${i.x({hide:this.navPlacement===h.OFF||this.hidePrevButton,outside:this.navPlacement===h.OUTSIDE,inside:this.navPlacement===h.INSIDE})}" name="prevButton" @click="${this.slideBackwards}" @keydown="${t=>this.onKeyDown(t,this.slideBackwards)}"> </slot> <slot class="content-nav-buttons end ${i.x({hide:this.navPlacement===h.OFF||this.hideNextButton,outside:this.navPlacement===h.OUTSIDE,inside:this.navPlacement===h.INSIDE})}" name="nextButton" @click="${this.slideForwards}" @keydown="${t=>this.onKeyDown(t,this.slideForwards)}"> </slot> </div> <faceplate-screen-reader-content aria-live="polite" aria-atomic="true"> ${this.currentAriaLiveMsg??this.generateAriaLiveMsg({pageIndex:this.pageIndex,pageCount:this.pageCount,numVisible:this.numVisible})} </faceplate-screen-reader-content> `}};return u.navButton=({placement:e,progress:s,ariaLabel:n})=>{const a=s===d.FORWARDS?"Next Page":"Previous Page";return i.J({appearance:e===h.INSIDE?"media":"secondary",size:i.a2.Small,leadingIcon:s===d.FORWARDS?t.b9({size:t.q.Small}):t.ba({size:t.q.Small}),attributes:{"aria-label":n??a}})},u.closeButton=({attributes:e})=>i.J({appearance:"media",size:i.a2.Small,leadingIcon:t.bb({size:t.q.Small}),attributes:e}),u.addButton=({children:e,attributes:s})=>i.J({appearance:"media",size:i.a2.Small,leadingIcon:t.bc({size:t.q.Small}),attributes:s,children:e}),u.paginationCounter=({attributes:t,pageIndex:i,pageCount:e})=>n.b({appearance:n.B.MEDIA,content:`${i+1} / ${e}`,attributes:t}),t._([t.n({type:String,attribute:"nav-placement",reflect:!0})],u.prototype,"navPlacement",void 0),t._([t.n({type:String,attribute:"pagination-placement",reflect:!0})],u.prototype,"paginationPlacement",void 0),t._([t.n({type:String})],u.prototype,"autoplay",void 0),t._([t.n({type:Boolean,attribute:"advance-animation"})],u.prototype,"advanceAnimation",void 0),t._([t.n({type:Number,attribute:"num-visible"})],u.prototype,"numVisible",void 0),t._([t.n({type:Boolean})],u.prototype,"infinite",void 0),t._([t.n({type:String})],u.prototype,"inset",void 0),t._([t.n({type:String,attribute:"pagination-counter-label"})],u.prototype,"paginationCounterLabel",void 0),t._([t.n({type:Number,attribute:"start-index"})],u.prototype,"startIndex",void 0),t._([t.n()],u.prototype,"getPageLabels",void 0),t._([t.n({type:String,attribute:"current-page-label"})],u.prototype,"currentPageLabel",void 0),t._([t.n({type:String,attribute:"current-aria-live-msg"})],u.prototype,"currentAriaLiveMsg",void 0),t._([t.n({type:String,attribute:"pagination-container-label"})],u.prototype,"paginationContainerLabel",void 0),t._([t.n({type:String,attribute:"page-width"})],u.prototype,"pageWidth",void 0),t._([t.n({type:String})],u.prototype,"alignment",void 0),t._([t.b()],u.prototype,"_pageIndex",void 0),t._([t.b()],u.prototype,"pageCount",void 0),t._([t.b()],u.prototype,"isCarouselInitialized",void 0),t._([t.b()],u.prototype,"hasBeenInteractedWith",void 0),t._([t.v({flatten:!0})],u.prototype,"_children",void 0),t._([t.v({slot:"paginationCounter",flatten:!0})],u.prototype,"_paginationCounter",void 0),t._([t.b()],u.prototype,"firstRender",void 0),t._([t.b()],u.prototype,"autoplayInProgress",void 0),t._([t.b()],u.prototype,"hidePrevButton",void 0),t._([t.b()],u.prototype,"hideNextButton",void 0),u=t._([t.c("faceplate-carousel")],u),{get C(){return d},get F(){return u},get I(){return l},get N(){return h},get P(){return r}}}));
SML.dm("CI_qZzc8",["DAgRafdt","DjoKwtwQ","CGooZ66g"],(async(a,i,r)=>{var t;!function(a){a.Forward="forward",a.Backward="backward"}(t||(t={}));const e=(r,t,e)=>a.b({source:"gallery",action:"view",noun:"media"},{...i.g(r),gallery:{num_items:e,position:t}}),n=(r,t,e,n)=>a.b({source:"gallery",action:"click",noun:t},{...i.g(r),gallery:{num_items:n,position:e}});return{get G(){return t},a:e,g:n,h:(i,o,d)=>{const m=n(i,o.detail.direction===r.C.FORWARDS?t.Forward:t.Backward,o.detail.prevPositionIndex,o.detail.num_items),s=e(i,o.detail.currPositionIndex,o.detail.num_items);d&&(m.ad_metadata={impression_id:d},s.ad_metadata={impression_id:d}),a.a(i,m),a.a(i,s)}}}));
SML.dm("DC_Hog5I",["DAgRafdt"],(async e=>{function t(e){localStorage.removeItem(function(e){return`chat:${e}`}(e))}function o(){(function(){let e=["access-token","matrix-user-id","matrix-access-token"];for(let o of e)t(o)})(),function(){try{window.indexedDB.deleteDatabase("matrix-js-sdk:reddit-chat-sync")}catch{}}()}function n(){e.q.remove(e.g0),e.q.remove(e.ae),e.q.remove(e.cJ),e.q.remove(e.g1),e.q.remove(e.g2),o()}const r="comment-draft-items-";var c;!function(e){e[e.Submit=0]="Submit",e[e.Discard=1]="Discard",e[e.Other=2]="Other"}(c||(c={}));let a=window.location;return{C:r,get D(){return c},a:()=>e.b({source:e.eA.ResetPassword,action:"submit",noun:"reset_complete"}),b:(t,o)=>e.b({source:t,action:"view",noun:"banner"},{action_info:{reason:o}}),e:(t,o)=>e.b({source:t,action:"submit",noun:"email"},{action_info:{success:o}}),g:()=>!!document.querySelector("shreddit-app")?.hasAttribute?.("user-logged-in"),l:async function(){await fetch(e.cz.Logout,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({0:"1",csrf_token:e.q.get("csrf_token")})}),window.google?.accounts?.id?.disableAutoSelect?.(),e.q.remove(e.g3),e.q.remove(e.g4),e.K.removeItem(e.N.RecentPages),e.K.removeItem(e.N.RecentCommunities),e.K.removeItem(e.N.RecentSearches),n(),Object.keys(localStorage).filter((e=>e.startsWith(r))).forEach((e=>localStorage.removeItem(e))),localStorage.removeItem(e.N.DraftsCoachMarkSeen),a.reload()},p:function(e){try{return new URL(e,"https://www.reddit.com")}catch(e){return}},r:function(e){return new Promise(((t,o)=>{e?window.google?.accounts?.id?window.google.accounts.id.revoke(e,(({successful:e,error:n})=>{e?t():o(n)})):o("Google API is not ready"):o("Google account id is not available")}))},s:()=>{e.K.setItem(e.N.LoginTime,(new Date).toString())}}}));
SML.dm("BWajOdpP",["DAgRafdt","DSWSCRFk"],(async(e,t)=>{const i=e=>e instanceof HTMLButtonElement||e instanceof HTMLAnchorElement||["button","link","menuitem","tab","checkbox","combobox","gridcell","application","treeitem"].includes(e?.getAttribute("role")??"");class n extends e.Y{constructor(){super(...arguments),this._triggerElement=null,this.keydown=!1,this.dialogId="",this.noModal=!1,this.handleClick=()=>{this.keydown||this.sendActivatedEvent()},this.handleKeydown=e=>{"Enter"===e.key&&(this.keydown=!0)},this.handleKeyup=e=>{"Enter"===e.key&&!0===this.keydown&&(this.keydown=!1,this.sendActivatedEvent())},this.handleBlur=()=>{this.keydown=!1}}set triggerElement(t){const i=this._triggerElement?.getAttribute("aria-expanded")??!1,n=this._triggerElement,r=t;n&&(n?.removeAttribute("aria-haspopup"),n?.removeAttribute("aria-expanded"),n?.removeEventListener("click",this.handleClick),n?.removeEventListener("keydown",this.handleKeydown),n?.removeEventListener("keyup",this.handleKeyup),n?.addEventListener("blur",this.handleBlur)),r&&(this.action!==e.hb.Hide&&(r.setAttribute("aria-haspopup","dialog"),r.setAttribute("aria-expanded",`${i}`)),r.addEventListener("click",this.handleClick),r.addEventListener("keydown",this.handleKeydown),r.addEventListener("keyup",this.handleKeyup),r.addEventListener("blur",this.handleBlur),this._triggerElement=r)}get triggerElement(){return this._triggerElement}attributeChangedCallback(e,t,i){super.attributeChangedCallback(e,t,i),"action"===e&&(this.triggerElement=this._triggerElement)}addOpenAttributes(){this.triggerElement&&this.triggerElement.setAttribute("aria-expanded","true")}removeOpenAttributes(){this.triggerElement&&this.triggerElement.setAttribute("aria-expanded","false")}handleSlotChange(){this.triggerElement=((e,t=5)=>{let n=e??null,r=0;if(i(n))return n;for(;n&&r<t;){if(n=n?.assignedElements?n?.assignedElements()?.[0]??null:n?.children[0]??null,i(n))return n;r++}return null})(this.slottedElements?.[0]??null)}sendActivatedEvent(){if(this.triggerElement?.hasAttribute("disabled"))return;if(!this.dialogId)return void console.warn("No dialogId set on rpl-dialog-trigger, unable to trigger");const e={dialogId:this.dialogId,triggerElement:this,noModal:this.noModal,action:this.action};this.emitter.dispatch("trigger-clicked",{bubbles:!0,composed:!0,detail:e})}render(){return t.x`<slot @slotchange="${this.handleSlotChange}"></slot>`}}t._([t.n({type:String,reflect:!0,attribute:"dialog-id"})],n.prototype,"dialogId",void 0),t._([t.n({type:Boolean,reflect:!0,attribute:"no-modal"})],n.prototype,"noModal",void 0),t._([t.n({type:String,reflect:!0})],n.prototype,"action",void 0),t._([t.k()],n.prototype,"slottedElements",void 0);var r=t.i`:host{display:contents}`;let l=class extends n{};l.styles=r,l=t._([t.c("rpl-dialog-trigger")],l)}));
SML.dm("CpW6-tf_",["DAgRafdt","OHC4dymT","DjoKwtwQ"],(async(e,t,n)=>{const a={get:()=>{if(!e.K.isAvailable())return;const t=e.K.getItem(e.N.I18nPostTranslationBanner);return t?JSON.parse(t):void 0},set:t=>{e.K.isAvailable()&&e.K.setItem(e.N.I18nPostTranslationBanner,JSON.stringify(t))},update:e=>{const t=a.get()||{};a.set({...t,...e})}},r="shreddit_mt_immersive_en",o=new Set,s=t=>{if(o.has(t))return;o.add(t);const n=e.ac(t);return e.ad({experimentName:t,variant:n??"",experimentVersion:""})};return{P:a,i:function(){const e=window.location?.search??"";return new URLSearchParams(e).has("tl")},l:t=>{const{error:n,ids:a,element:r,componentName:o}=t,s=e.b({source:"translate_button",action:"error",noun:"app"},{action_info:{reason:n,type:o},setting:{value:a.toString(),values:a}});e.a(r,s)},o:{post:(t,a)=>{if(s(r),t.id){const r=n.b({archived:a?.archived,authorId:a?.authorId,createdTimestamp:a?.createdTimestamp,domain:a?.domain,id:a?.id??"",nsfw:a?.nsfw,promoted:a?.promoted,score:a?.score,spoiler:a?.spoiler,subredditId:a?.subredditId,subredditPrefixedName:a?.subredditPrefixedName,postTitle:a?.postTitle,postType:a?.postType,recommendationSource:a?.recommendationSource,commentCount:a?.commentCount,permalink:a?.permalink,postLanguage:a?.postLanguage,translationLanguage:a?.translationLanguage,isPostTranslated:a?.isPostTranslated});e.a(t,r)}},comment:(n,a)=>{s(r);const o=t.b(a);e.a(n,o)}}}}));
SML.dm("B8-IyY8g",["DSWSCRFk","DAgRafdt","BVLgyhDE","Vy1IDB19","BHs0pHn7","DBzUXR7c","FDsJDUC0","pwr-4fHs","DKSHlBZ6","CPcvYJxh","Sb16lf7H","OAEZpqSu","BHN2zcRJ","DjoKwtwQ","kmRFweAm","CgIWqP9n","CI_qZzc8","DC_Hog5I","SRPsYjuk","BY5z-EI0","CpW6-tf_","3kt68AAF","B-5QOdMh","BR-9gnOG","C9Y39_ZO","BP7JtdRP","Dj1DJbmt","CI9WNRQ4","DxYz4TCM","D2BNDN4c","3FgK-N4H","6McvgT3C","BWajOdpP","2B0_AwMn","s1sP3jLz","DDc9KuQK","CgKqrNya","CA4SrzzK","BwmVBZAv","DlE9CkNL","CQpKaH3e","Dnwr24bF","C0wp0zNv","CGzEIBwW","DxvZ7Xss","OHC4dymT","C-AymPzu","CnL37q4H","CU4mObWU","CGooZ66g","BcykV95-","zizV9pIX"],(async(t,e,o,i,s,n,r,a,l,d,p,h,u,c,m,b,v,g,T,E,S)=>{class C{constructor(t){this._getPageType=e.l,this.host=t,this.host.addController(this)}hostConnected(){}hostDisconnected(){}maybeRenderPromotePostButton(){return this.host.isPromoteablePost&&l.g(this._getPageType())===l.P.ShredditPost?t.x`<promote-post-button post-id="${this.host.id}" subreddit-name="${t.l(this.host.subredditPrefixedName)}"></promote-post-button>`:t.x``}}const y=72e6,I=[y,y,1296e5,216e6,216e6],P=()=>{const t=localStorage.getItem(e.N.CrosspostingUpsellExperiment);if(t)return JSON.parse(t)},k=t=>{localStorage.setItem(e.N.CrosspostingUpsellExperiment,JSON.stringify(t))},N=async t=>{if((()=>{const t=P();if(!t)return!1;const{timer:e,snoozes:o,savedDate:i}=t;return o>=I.length||(new Date).getTime()-i<e})())return;const o=await e.r({operation:e.O.WhereToCrosspostNewModSuggestions,variables:{postId:t}}),i=o.data?.whereToCrosspostSuggestions?.edges;return i&&i?.length>0&&"Subreddit"===i[0]?.node?.subredditInfo.__typename?i[0]?.node?.subredditInfo:void 0};function R(t,e=!0){t=t||"";const[o,i]=t.split("?");let s=`https://www.reddit.com${("/"!==o[0]&&o.length>0?"/":"")+o}`;return e&&!s.endsWith("/")&&(s+="/"),i&&(s+=`?${i}`),s}let _=class extends t.s{constructor(){super(),this.name="",this.prefixedName="",this.subredditId="",this.isNsfw=!1,this.postId="",this.isOpen=!1,this.wasSeen=!1,this.trackExperimentEvent=(t,o,i)=>{e.a(this,e.b({source:t,action:o,noun:i},{subreddit:{id:this.subredditId,name:this.name,nsfw:this.isNsfw},post:{id:this.postId||""}}))},this.onShareClick=()=>{k({timer:18e5,snoozes:1,savedDate:(new Date).getTime()}),this.isOpen=!1,this.wasSeen=!0,this.trackExperimentEvent("crosspost_prompt","share","button")},this.onSkipClick=()=>{this.onMaybeSetCooldown(),this.isOpen=!1},new e.ah(this,this,{threshold:[.5]})}connectedCallback(){e.am.subscribe(this.onMaybeSetCooldown,{shouldBeCalledFirst:!0}),super.connectedCallback(),this.addEventListener("faceplate-leave",this.onMaybeSetCooldown),this.trackExperimentEvent("crosspost_prompt","view","coachmark"),setTimeout((()=>{this.onMaybeSetCooldown()}),3e5)}disconnectedCallback(){super.disconnectedCallback(),e.am.unsubscribe(this.onMaybeSetCooldown),this.removeEventListener("faceplate-leave",this.onMaybeSetCooldown)}onMaybeSetCooldown(){this.wasSeen||this.saveNoShareTimer()}saveNoShareTimer(){const t=P(),e=t?.snoozes||0;k({snoozes:e+1,timer:I[e],savedDate:(new Date).getTime()}),this.trackExperimentEvent("crosspost_prompt","hide","button"),this.wasSeen=!0}render(){return t.x`<rpl-coachmark ?open="${this.isOpen}" placement="${o.P.TopEnd}" appearance="${i.a.Inverted}"> <slot></slot> <rpl-coachmark-card slot="content" appearance="${i.a.Inverted}" class="w-[220px]"> <div slot="title" class="pt-xs pb-2xs"> ${"Share with your newly created community"} </div> <div class="text-12"> ${`${this.prefixedName} might enjoy this post, try sharing it in your community.`} </div> ${e.J({attributes:{slot:"primary-button",href:R(`${this.prefixedName}/submit/?source_id=${this.postId}&crosspost_experiment_referral=true`),target:"_blank",rel:"noopener noreferrer",onclick:this.onShareClick},children:"Share",appearance:"plainInverted",size:e.a2.Small})} ${e.J({attributes:{slot:"secondary-button",onclick:this.onSkipClick},children:"Skip",appearance:"plainInverted",size:e.a2.Small})} </rpl-coachmark-card> </rpl-coachmark>`;}};_.styles=[e.t],t._([t.n({type:String,attribute:"name"})],_.prototype,"name",void 0),t._([t.n({type:String,attribute:"prefixed-name"})],_.prototype,"prefixedName",void 0),t._([t.n({type:String,attribute:"subreddit-id"})],_.prototype,"subredditId",void 0),t._([t.n({type:Boolean,attribute:"nsfw"})],_.prototype,"isNsfw",void 0),t._([t.n({type:String,attribute:"post-id"})],_.prototype,"postId",void 0),t._([t.n({type:Boolean,attribute:"open",reflect:!0})],_.prototype,"isOpen",void 0),t._([t.b()],_.prototype,"wasSeen",void 0),_=t._([t.c("crosspost-upsell-coachmark")],_);let w=class extends t.s{constructor(){super(...arguments),this.translationContextValue=e.ar,this.postId="",this.href="",this.withIntervention=!1,this.isImmersiveVisit=!1}canShowInterventionModal(){const t=!!e.K.getItem(e.N.I18nTranslationInterventionShown);return!!this.translationContextValue?.isTranslationActive&&this.withIntervention&&!t}onShowOriginalClick(t){t.preventDefault?.(),t.stopPropagation?.(),this.canShowInterventionModal()?this.translationInterventionModal.handleTranslationOverride({isTranslationActive:!1,id:this.postId}):this.navigateToOriginal()}navigateToOriginal(){window.location.href=this.href}render(){const e=t.x`<translation-intervention-modal mode="mtseo-post" page-type="pdp" ?is-immersive-visit="${this.isImmersiveVisit}" @translation-intervention-modal:close="${this.navigateToOriginal}"></translation-intervention-modal>`;return t.x`<a href="${this.href}" class="flex cursor-pointer my-xs pl-md xs:px-0 text-primary text-decoration-none" @click="${this.onShowOriginalClick}"> ${"See original"} </a> ${this.canShowInterventionModal()?e:t.A}`;}};w.styles=[e.t],t._([e.aq({context:e.as,subscribe:!0}),t.b()],w.prototype,"translationContextValue",void 0),t._([t.D("translation-intervention-modal")],w.prototype,"translationInterventionModal",void 0),t._([t.n({type:String,attribute:"post-id"})],w.prototype,"postId",void 0),t._([t.n({type:String,attribute:"href"})],w.prototype,"href",void 0),t._([t.n({type:Boolean,attribute:"with-intervention"})],w.prototype,"withIntervention",void 0),t._([t.n({type:Boolean,attribute:"isImmersiveVisit"})],w.prototype,"isImmersiveVisit",void 0),w=t._([t.c("mtseo-show-original-link")],w);const O="toggle__expando",D="toggle__expando-button",x=e.a2.Small,f=["flex flex-row justify-center items-center","h-xl","font-semibold","relative"].join(" "),L="thumbnail",A="ssr-share-button",M="share-button",$="mod-content-actions",H="credit-bar",U="post-flair",B="full-post-link",V="mod-content-state-indicators";class j{constructor(t){this.initialized=!1,this.handleToggleEvent=t=>{e.i(t)&&this.toggleExpando()},(this.host=t).addController(this)}get expandoElement(){return this.host.isCompactView?this.host.querySelector(`.${O}`):this.host.shadowRoot?.querySelector('slot[name="expando"]')??null}get hasExpandoContent(){return this.host.isCompactView?!!this.host.querySelector(`.${O}`):!!this.host.shadowRoot?.querySelector('slot[name="expando"]')?.assignedElements().length}get toggleElement(){return(this.host.isCompactView?this.host.querySelector(`button.${D}`)||this.host.shadowRoot?.querySelector(`button.${D}`):this.host.shadowRoot?.querySelector('slot[name="thumbnail"]'))??null}async hostConnected(){await this.host.updateComplete,this.initializeListeners()}hostDisconnected(){this.toggleElement?.removeEventListener("click",this.handleToggleEvent),this.toggleElement?.removeEventListener("keydown",this.handleToggleEvent),this.initialized=!1}async hostUpdated(){await this.host.updateComplete,this.initialized||this.initializeListeners()}initializeListeners(){this.initialized||this.expandoElement&&this.hasExpandoContent&&this.toggleElement&&(this.toggleElement?.addEventListener("click",this.handleToggleEvent),this.toggleElement?.addEventListener("keydown",this.handleToggleEvent),this.initialized=!0)}toggleExpando(){this.expandoElement&&this.hasExpandoContent&&(this.host.showExpando=!this.host.showExpando,this.expandoElement.classList.toggle("hidden",!this.host.showExpando),this.expandoElement.classList.toggle("block",this.host.showExpando))}renderExpandoButton(){const e="Expand content",o={attributes:{className:"icon-expand","aria-hidden":"true"},size:r.I[x]},i=this.host.showExpando?t.m(o):t.dA(o),s=this.hasExpandoContent?"":"disabled pointer-all";return t.x` ${r.c({appearance:h.a8()?"bordered":"secondary",attributes:{type:"button",className:`${D} ${f} ${s}`,disabled:!this.hasExpandoContent,"aria-expanded":this.host.showExpando?"true":"false","aria-label":"post content","aria-controls":`${this.host.id}-expando-content`},size:x,leadingIcon:i,screenReaderContent:e})} `;}}class z{constructor(t){this.initializeHotkeys=()=>{this.host.viewContext===c.P.CommentsPage&&(this.subscriberController?.subscribe(e.c1.NEXT_POST_COMMENT,this.nextPostOrComment),this.subscriberController?.subscribe(e.c1.PREVIOUS_POST_COMMENT,this.prevPostOrComment),this.subscriberController?.subscribe(e.c1.UPVOTE,this.upvote),this.subscriberController?.subscribe(e.c1.DOWNVOTE,this.downvote),this.subscriberController?.subscribe(e.c1.REPLY_TO_COMMENT,this.onReplyToComment),this.subscriberController?.subscribe(e.c1.HIDE_POST,this.onToggleHide),this.subscriberController?.subscribe(e.c1.TOGGLE_SAVE,this.onToggleSave),this.subscriberController?.subscribe(e.c1.TOGGLE_COLLAPSE_COMMENT,this.onCommentToggleCollapse),this.subscriberController?.subscribe(e.c1.COPY_POST_OR_COMMENT_LINK,this.onCopyLink),this.subscriberController?.subscribe(e.c1.SUBMIT,this.onSubmitComment))},this.findShredditPost=t=>t instanceof G?t:t?.querySelector("shreddit-post, shreddit-ad-post"),this.cleanupHotkeys=()=>{this.host.viewContext===c.P.CommentsPage&&(this.subscriberController?.unsubscribe(e.c1.NEXT_POST_COMMENT,this.nextPostOrComment),this.subscriberController?.unsubscribe(e.c1.PREVIOUS_POST_COMMENT,this.prevPostOrComment),this.subscriberController?.unsubscribe(e.c1.UPVOTE,this.upvote),this.subscriberController?.unsubscribe(e.c1.DOWNVOTE,this.downvote),this.subscriberController?.unsubscribe(e.c1.REPLY_TO_COMMENT,this.onReplyToComment),this.subscriberController?.unsubscribe(e.c1.HIDE_POST,this.onToggleHide),this.subscriberController?.unsubscribe(e.c1.TOGGLE_SAVE,this.onToggleSave),this.subscriberController?.unsubscribe(e.c1.TOGGLE_COLLAPSE_COMMENT,this.onCommentToggleCollapse),this.subscriberController?.unsubscribe(e.c1.COPY_POST_OR_COMMENT_LINK,this.onCopyLink),this.subscriberController?.unsubscribe(e.c1.SUBMIT,this.onSubmitComment))},this.nextPostOrComment=()=>{this.postOrCommentTraversalController?.traverse(T.P.NEXT);const t=this.postOrCommentTraversalController?.current instanceof G?"post":"comment";e.a(this.host,c.Y("next",t))},this.prevPostOrComment=()=>{this.postOrCommentTraversalController?.traverse(T.P.PREV);const t=this.postOrCommentTraversalController?.current instanceof G?"post":"comment";e.a(this.host,c.Y("previous",t))},this.upvote=()=>{this.onVote(n.V.Upvote)},this.downvote=()=>{this.onVote(n.V.Downvote)},this.onFocus=t=>{this.host.viewContext===c.P.CommentsPage?this.host.shadowRoot?.querySelector(".shreddit-post-container")?.focus(t):this?.host.querySelector("[slot=full-post-link]")?.focus(t)},this.onVote=async t=>{let e;if(!this.postOrCommentTraversalController?.current)return;e=this.postOrCommentTraversalController?.isCurrentComment?(this.postOrCommentTraversalController?.current).commentActionRow:this.postOrCommentTraversalController?.current;const o=void 0;e&&(e.interactionFromHotkey=!0,t===n.V.Upvote?await e.handleUpvote(o):await e.handleDownvote(o),e.interactionFromHotkey=!1)},this.customPostTraversal=(t,e)=>{if(t===T.P.NEXT){const t=e?.querySelector("shreddit-comment-tree");if(t||"shreddit-comment-tree"===e?.tagName.toLowerCase())return e?.querySelector("shreddit-comment")}else if(!e?.previousElementSibling&&"shreddit-comment-tree"===e?.parentElement?.tagName.toLowerCase())return document.querySelector("shreddit-post")},this.onReplyToComment=()=>{this.postOrCommentTraversalController?.isCurrentPost?this.host.handleClickCommentsButton():this.postOrCommentTraversalController?.current?.querySelector("shreddit-comment-action-row")?.focusOnCommentComposer()},this.onToggleSave=()=>{if(this.postOrCommentTraversalController?.isCurrentComment){const t=this.postOrCommentTraversalController?.current?.overlowMenuItemProps?.find((t=>"save"===t.id));t?.onClick?.()}else this.postOverflowActions?.find((t=>"save"===t.id))?.onClick()},this.onToggleHide=()=>{(this.postOrCommentTraversalController?.isCurrentPost||this.host.isFeed)&&this.postOverflowActions?.find((t=>"hide"===t.id))?.onClick()},this.onCopyLink=()=>{let t;t=this.postOrCommentTraversalController?.isCurrentComment?this.postOrCommentTraversalController?.current?.shareButton:this.host.shareButtonRef?.value,t?.handleCopyLinkClick()},this.onCommentToggleCollapse=()=>{this.postOrCommentTraversalController?.isCurrentComment&&this.postOrCommentTraversalController.current.handleCollapse?.()},this.onSubmitComment=()=>{this.postOrCommentTraversalController?.isCurrentComment?this.postOrCommentTraversalController.current?.shredditComposer?.form?.submit():document.querySelector("shreddit-composer")?.form?.submit()},this.host=t,t.addController(this)}hostConnected(){this.subscriberController=new e.c0(this.host),this.postOrCommentTraversalController=new T.a(this.host,{type:T.b.COMMENTS_PAGE,getFirstElement:()=>this.host,customPostOrCommentDetection:this.findShredditPost,customTraversal:(t,e)=>this.customPostTraversal(t,e)}),this.initializeHotkeys()}hostDisconnected(){this.cleanupHotkeys()}get postOverflowActions(){return this.host.querySelector("shreddit-post-overflow-menu")?.overflowActions}onToggleExpando(){this.host._expandoController?.toggleExpando()}}const F=({isPDP:e,triggerElem:o})=>e?h.d4({triggerElem:o,target:`selector(${a.S})`,attribute:"pageindex",value:"1"}):t.A;const K=d.W(e.W(t.s));let G=class extends K{get readMoreButton(){return this.querySelector(`#${this.id}-read-more-button`)??void 0}getCurrentVoteType(){return this.postVoteType}constructor(){super(),this.archived=!1,this.deleted=!1,this.hidden=!1,this.id="",this.game=!1,this.nsfw=!1,this.promoted=!1,this.spoiler=!1,this.subredditId=void 0,this.isSubscribed=!1,this.postLanguage="",this.translationLanguage="",this.isTranslationOn=!1,this.commentCount=0,this.permalink="",this.viewContext=c.P.AggregateFeed,this.viewType=e.$.CardView,this.isSlimCard=!1,this.isDesktopViewport=!1,this.isReportingEnabled=!1,this.isLinkPost=!1,this.isAma=!1,this.isEmbed=!1,this.isNotBrandSafe=!1,this.isCrosspost=!1,this.isCrosspostable=!1,this.isEmbeddable=!1,this.isUserLoggedIn=!1,this.disabled=!1,this.showFullContent=!1,this.isTranslatable=!1,this.isTranslationFetched=!1,this.isPostTranslated=!1,this.isPostBodyTranslated=!1,this.isMTSEOUserPage=!1,this.shouldHideOriginalLanguageLink=!1,this.hasMTSEOTranslationInterruption=!1,this.morePostsCursor=void 0,this.isPostLeaveEventsEnabled=!1,this.isLocked=!1,this.isBanned=!1,this.isContestMode=!1,this.isPromoteablePost=!1,this.previousActionsFeature=!1,this.updateAnimation=void 0,this.itemState=b.M.UNMODERATED,this.areReportsExpandable=!1,this.isCompactUIExp=!1,this.isPostCommentTapExp=!1,this.isPdpSeekerM1LO=!1,this.shareButtonSSR=!1,this.interactionFromHotkey=!1,this.applyFeedsSimplification=!1,this.showPostRemovalBanner=!0,this.showExpando=!1,this.useShortHiddenPostForm=!1,this.isThumbnailSet=!1,this.isUpdatingPostBody=!1,this.displayPostAnalytics=!1,this.isCrosspostingCoachmarkOpen=!1,this.eligibleCrosspostingSubreddit=void 0,this.hasBeenViewed=!1,this.hasBeenConsumed=!1,this._events=new e.E(this),this._promotePostButtonController=new C(this),this._outboundLinkTrackingController=new a.O(this,(()=>({pageType:e.l(),postId:this.id,subredditId:this.subredditId}))),this._expandoController=new j(this),this.pubsub=new e.f(this),this.shareButtonRef=e.C(),this.onSubscriptionChange=async t=>{let o;this.subredditName===t.name&&(o=t.subscribed&&this.isSubscribed!==t.subscribed,this.isSubscribed=t.subscribed),o&&this.isEligibleForRelatedCommunityRecommendations&&(await this._activateFeature({name:e.fz,queryParams:{subredditId:this.subredditId||"",pageType:String(e.l())},root:(this.isHomeFeed||this.isPopularFeed)&&this.parentElement||document,renderMode:this.isHomeFeed||this.isPopularFeed?e.P.Append:void 0}))},this.handleVisibilityChange=t=>{this.isPostInViewport&&t&&(this._hasPageUnloaded=!1,this.isPDP||(this.handleView(c.n(this),!0),this.becameVisibleOnScreenTimestamp=Date.now()))},this.handleCalledFirstVisibilityChange=t=>{this.isPostInViewport&&(t||this._hasPageUnloaded||(this.handleConsume(),this.isPostLeaveEventsEnabled&&e.a(this,c.Z(this))))},this._activateFeature=async t=>e.d(t),this.showShortHiddenPostForm=()=>this.hidden&&this.useShortHiddenPostForm,this.handleLoadMorePosts=async()=>{const t=document.querySelector(`#partial-more-posts-${this.morePostsCursor}`);t&&"true"!==t?.getAttribute("hasBeenLoaded")&&(t?.setAttribute("hasBeenLoaded","true"),await(t?.load()))},this.trackConsume=()=>{e.a(this,c._(this))},this.handleRsvpClick=t=>{e.a(this,c.x(this))},this.handleUnRsvpClick=t=>{e.a(this,c.y(this))},this._getPostScoreDelta=t=>n.g(this.postVoteType,t),this._onUpdatePostVoteType=async()=>await n.o(this.id,"post",this.postVoteType),this.trackReadMoreClick=()=>{e.a(this,c.$(this))},this.onBeforeUnloadCallback=()=>{this.onBeforeUnload()},this.handleCustomPostSnapshotEvent=async()=>{const t=this.querySelector("devvit-post"),o=t?await t.captureSafetyReport():"";this.dispatchEvent(e.c("stage-devplatform-snapshot",{postId:this.id,encodedData:o}))},this.setStateApproved=()=>{this.showPostRemovalBanner=!1,this.itemState=b.M.APPROVED},this.setStateRemoved=()=>{this.showPostRemovalBanner=!0,this.itemState=b.M.REMOVED},this.onPostUpdateAction=({postId:t,action:e,value:o})=>{if(this.id===t)switch(e){case u.a.markAsNsfw:this.nsfw=o;break;case u.a.markAsSpoiler:this.spoiler=o;break;case u.a.delete:this.deleted=o;break;case u.a.hide:this.applyHideChanges(o);break;case u.a.lock:this.isLocked=Boolean(o);break;case u.a.approve:case u.a.approveOptimistic:this.setStateApproved();break;case u.a.remove:case u.a.removeAsSpam:case u.a.confirmRemoval:case u.a.addRemovalReason:case u.a.removeOptimistic:case u.a.removeAsSpamOptimistic:case u.a.confirmRemovalOptimistic:this.setStateRemoved()}},this.applyHideChanges=t=>{this.useShortHiddenPostForm=t,this.hidden=t},this.unhidePost=async()=>{try{await u.n(this.id,!0);const t=e.c("faceplate-alert",{level:e.I.success,message:"Removed from hidden"});this.dispatchEvent(t);const o={postId:this.id,action:u.a.hide,value:!1};this.pubsub.publish(e.T.PostUpdated,o),e.a(this,c.X(this.viewContext))}catch(t){const o=e.c("faceplate-alert",{level:e.I.error,sourceElement:"unhide-post",cause:"uncategorized",message:"Unable to unhide post"});this.dispatchEvent(o)}},this.addEventListener("click",this.handleClickPost),new e.ah(this,this,{threshold:[.5]})}static get styles(){return[e.t,e.z(".rpl-vote-button-group {\n  /* APPEARANCE AGNOSTIC STYLES */\n  /* PLAIN APPEARANCE */\n  /* SECONDARY APPEARANCE */\n  /* BORDERED APPEARANCE */\n  --vote-button-divider-color: var(--color-neutral-border-weak);\n  /* MEDIA APPEARANCE */\n}\n.rpl-vote-button-group:not([disabled]) .rpl-vote-button-group-label {\n  color: var(--vote-button-label-color);\n}\n.rpl-vote-button-group:not([disabled]):hover.rpl-vote-button-group-label {\n  color: var(--vote-button-label-color-hover);\n}\n.rpl-vote-button-group .rpl-vote-button-group-divider {\n  background-color: var(--vote-button-divider-color);\n}\n.rpl-vote-button-group[disabled] button[rpl]:disabled {\n  --button-color-background-disabled: transparent;\n}\n.rpl-vote-button-group.button-plain {\n  --vote-button-label-color: var(--color-secondary-plain);\n  --vote-button-label-color-hover: var(--color-secondary-plain);\n}\n.rpl-vote-button-group.button-plain button[rpl]:first-child {\n  --button-color-text-hover: var(--color-upvote-plain-weaker);\n}\n.rpl-vote-button-group.button-plain button[rpl]:last-child {\n  --button-color-text-hover: var(--color-downvote-plain-weaker);\n}\n.rpl-vote-button-group.button-plain.upvote {\n  --vote-button-label-color: var(--color-upvote-plain);\n}\n.rpl-vote-button-group.button-plain.upvote button[rpl]:first-child {\n  --button-color-text-default: var(--color-upvote-plain-weaker);\n  --button-color-text-hover: var(--color-upvote-plain-weaker);\n  --button-color-text-disabled: var(--color-upvote-plain-disabled);\n  --button-color-text-activated: var(--color-upvote-plain-weaker);\n}\n.rpl-vote-button-group.button-plain.downvote {\n  --vote-button-label-color: var(--color-downvote-plain);\n}\n.rpl-vote-button-group.button-plain.downvote button[rpl]:last-child {\n  --button-color-text-default: var(--color-downvote-plain-weaker);\n  --button-color-text-disabled: var(--color-downvote-plain-disabled);\n  --button-color-text-activated: var(--color-downvote-plain-weaker);\n}\n.rpl-vote-button-group.button-secondary {\n  --vote-button-label-color: var(--color-secondary-plain);\n  --vote-button-label-color-hover: var(--color-secondary-plain);\n  --vote-button-divider-color: var(--color-neutral-border);\n}\n.rpl-vote-button-group.button-secondary button[rpl]:first-child {\n  --button-color-text-hover: var(--color-upvote-plain-weaker);\n}\n.rpl-vote-button-group.button-secondary button[rpl]:last-child {\n  --button-color-text-hover: var(--color-downvote-plain-weaker);\n}\n.rpl-vote-button-group.button-secondary.upvote,\n.rpl-vote-button-group.button-secondary.upvote button[rpl] {\n  --button-color-text-default: var(--color-upvote-onBackground);\n  --button-color-text-hover: var(--color-upvote-onBackground);\n  --button-color-text-disabled: var(--color-upvote-disabled);\n  --button-color-text-activated: var(--color-upvote-onBackground);\n}\n.rpl-vote-button-group.button-secondary.upvote:not([disabled]),\n.rpl-vote-button-group.button-secondary.upvote button[rpl]:not([disabled]) {\n  --button-color-background-default: var(--color-upvote-background);\n  --button-color-background-hover: var(--color-upvote-background-hover);\n  --button-color-background-active: var(--color-upvote-background-hover);\n  --vote-button-divider-color: var(--color-upvote-onBackground);\n  --vote-button-label-color: var(--color-media-onBackground);\n}\n.rpl-vote-button-group.button-secondary.downvote,\n.rpl-vote-button-group.button-secondary.downvote button[rpl] {\n  --button-color-text-default: var(--color-downvote-onBackground);\n  --button-color-text-hover: var(--color-downvote-onBackground);\n  --button-color-text-disabled: var(--color-downvote-disabled);\n  --button-color-text-activated: var(--color-downvote-onBackground);\n}\n.rpl-vote-button-group.button-secondary.downvote:not([disabled]),\n.rpl-vote-button-group.button-secondary.downvote button[rpl]:not([disabled]) {\n  --button-color-background-default: var(--color-downvote-background);\n  --button-color-background-hover: var(--color-downvote-background-hover);\n  --button-color-background-active: var(--color-downvote-background-hover);\n  --vote-button-divider-color: var(--color-upvote-onBackground);\n  --vote-button-label-color: var(--color-media-onBackground);\n}\n.rpl-vote-button-group.button-bordered-cab {\n  --vote-button-label-color: var(--color-secondary-plain);\n  --vote-button-label-color-hover: var(--color-secondary-plain);\n}\n.rpl-vote-button-group.button-bordered-cab button[rpl]:first-child {\n  --button-color-text-hover: var(--color-upvote-plain-weaker);\n}\n.rpl-vote-button-group.button-bordered-cab button[rpl]:last-child {\n  --button-color-text-hover: var(--color-downvote-plain-weaker);\n}\n.rpl-vote-button-group.button-bordered-cab.upvote {\n  --vote-button-label-color: var(--color-upvote-plain);\n}\n.rpl-vote-button-group.button-bordered-cab.upvote button[rpl]:first-child {\n  --button-color-text-default: var(--color-upvote-plain-weaker);\n  --button-color-text-hover: var(--color-upvote-plain-weaker);\n  --button-color-text-disabled: var(--color-upvote-plain-disabled);\n  --button-color-text-activated: var(--color-upvote-plain-weaker);\n}\n.rpl-vote-button-group.button-bordered-cab.downvote {\n  --vote-button-label-color: var(--color-downvote-plain);\n}\n.rpl-vote-button-group.button-bordered-cab.downvote button[rpl]:last-child {\n  --button-color-text-default: var(--color-downvote-plain-weaker);\n  --button-color-text-hover: var(--color-downvote-plain-weaker);\n  --button-color-text-disabled: var(--color-downvote-plain-disabled);\n  --button-color-text-activated: var(--color-downvote-plain-weaker);\n}\n.rpl-vote-button-group.button-media-cab {\n  --vote-button-label-color: var(--color-media-onBackground);\n  --vote-button-label-color-hover: var(--color-media-onBackground);\n  --vote-button-divider-color: var(--color-media-border-weak);\n}\n.rpl-vote-button-group.button-media-cab button[rpl]:first-child {\n  --button-color-text-hover: var(--color-upvote-onStrongScrim-weaker);\n}\n.rpl-vote-button-group.button-media-cab button[rpl]:last-child {\n  --button-color-text-hover: var(--color-downvote-onStrongScrim-weaker);\n}\n.rpl-vote-button-group.button-media-cab.upvote {\n  --vote-button-label-color: var(--color-upvote-onStrongScrim);\n}\n.rpl-vote-button-group.button-media-cab.upvote button[rpl]:first-child {\n  --button-color-text-default: var(--color-upvote-onStrongScrim-weaker);\n  --button-color-text-activated: var(--color-upvote-onStrongScrim-weaker);\n  --button-color-text-disabled: var(--color-upvote-onStrongScrim-disabled);\n}\n.rpl-vote-button-group.button-media-cab.downvote {\n  --vote-button-label-color: var(--color-downvote-onStrongScrim);\n}\n.rpl-vote-button-group.button-media-cab.downvote button[rpl]:last-child {\n  --button-color-text-default: var(--color-downvote-onStrongScrim-weaker);\n  --button-color-text-activated: var(--color-downvote-onStrongScrim-weaker);\n  --button-color-text-disabled: var(--color-downvote-onStrongScrim-disabled);\n}\n.pdp-flair-slot::slotted(*) {\n  margin: var(--size-2xs) 0;\n}\n.feed-flair-slot::slotted(*) {\n  margin-bottom: var(--size-xs);\n}\n.text-decoration-none {\n  text-decoration: none;\n}\n:host([item-state~='APPROVED']),\n:host([item-state~='REMOVED']) {\n  background-color: var(--color-neutral-background-weak);\n}\n:host([updateAnimation~='light']) {\n  animation: realtimeFade 3s;\n  animation-timing-function: ease-out;\n}\n:host([updateAnimation~='dark']) {\n  animation: realtimeFadeNight 3s;\n  animation-timing-function: ease-out;\n}\n@keyframes realtimeFade {\n  from {\n    background-color: #fff2bd;\n    border: 1px solid #dbaf00;\n  }\n  to {\n    background-color: #f0f5f9;\n    border: 1px solid transparent;\n  }\n}\n@keyframes realtimeFadeNight {\n  from {\n    background-color: #665505;\n    border: 1px solid #382d03;\n  }\n  to {\n    background-color: #030303;\n    border: 1px solid #343536;\n  }\n}\n.condensed-post-title-heading {\n  margin: 0;\n}\n")]}connectedCallback(){super.connectedCallback(),g.g()&&this.initModActionsController(),this.querySelector("shreddit-post-text-body")?.addEventListener(c.R,this.trackReadMoreClick),this.isObserved||this.enableObserver({rootMargin:"0px"}),this.postVoteType=this.voteType,this.postScore=this.score,this.gallery&&this.addEventListener("faceplate-carousel:slide",this.handleCarouselArrowClick),this.addEventListener("faceplate-hovercard:open",this.handleHovercardOpen),this.addEventListener("capture-devplatform-snapshot",this.handleCustomPostSnapshotEvent),e.am.subscribe(this.onBeforeUnloadCallback,{shouldBeCalledFirst:!0}),e.an(this.handleVisibilityChange,{immediate:!0}),e.an(this.handleCalledFirstVisibilityChange,{immediate:!0,shouldBeCalledFirst:!0}),this.pubsub.subscribe(e.T.PostUpdated,this.onPostUpdateAction),this.addEventListener(u.e,this.handleClickCommentsButton),this.addEventListener(u.f,this.handleShareButtonInteraction),this.addEventListener(u.b,this.handleRsvpClick),this.addEventListener(u.E,this.handleUnRsvpClick),this.pubsub.subscribe(e.T.SubredditSubscriptionChange,this.onSubscriptionChange),this.hotkeyController=new z(this)}async initModActionsController(){const{ModActionsController:t}=await SML.di("./Bt3zFHSO.js",import.meta.url,"Bt3zFHSO");new t(this,{getThingIdFn:()=>this.id})}disconnectedCallback(){super.disconnectedCallback(),clearTimeout(this.listingBelowConsumeTimer),this.isObserved&&this.disableObserver(),this.hasBeenViewed=!1,this.isPostInViewport=!1,this.querySelector("shreddit-post-text-body")?.removeEventListener(c.R,this.trackReadMoreClick),this.gallery&&this.removeEventListener("faceplate-carousel:slide",this.handleCarouselArrowClick),this.removeEventListener("faceplate-hovercard:open",this.handleHovercardOpen),e.am.unsubscribe(this.onBeforeUnloadCallback),e.ao(this.handleVisibilityChange),e.ao(this.handleCalledFirstVisibilityChange),this.removeEventListener(u.e,this.handleClickCommentsButton),this.removeEventListener(u.f,this.handleShareButtonInteraction),this.removeEventListener(u.b,this.handleRsvpClick),this.removeEventListener(u.E,this.handleUnRsvpClick),this.removeEventListener("capture-devplatform-snapshot",this.handleCustomPostSnapshotEvent)}get isFeed(){return c.c(this.viewContext)}get isPopularFeed(){return this.isFeed&&c.a0(e.l())}get isHomeFeed(){return this.isFeed&&c.a1(e.l())}get isPDP(){return c.i(this.viewContext)}get isCardView(){return h.d0(this.viewType)}get isCompactView(){return h.c7(this.viewType)}get isEligibleForRelatedCommunityRecommendations(){return this.isUserLoggedIn&&!!this.subredditId&&(this.isPDP&&!this.isDesktopViewport||this.isHomeFeed||this.isPopularFeed)}renderThumbnail(){return t.x` <slot name="${L}" @slotchange="${this.handleThumbnailSlotChange}"></slot>`}renderCommentsButton(){return function({viewContext:o,commentCount:i,permalink:s,pdpTarget:n,onClick:a,isUserLoggedIn:l,isPostCommentTapExp:d}){const p={className:f,onclick:a,name:"comments-action-button","data-post-click-location":e.a4.COMMENTS_BUTTON},u=c.c(o)?{...p,href:s,target:n??"_self"}:{...p,type:"button"};return r.c({appearance:"secondary",attributes:u,size:x,children:[F({isPDP:c.i(o),triggerElem:"closest(button)"}),t.x`<faceplate-number number="${i}" pretty></faceplate-number>`,!l&&d?h.c5({triggerElem:"closest(button)",target:"closest(button)",eventName:"reply"}):t.A],leadingIcon:t.aD({attributes:{className:"icon-comment","aria-hidden":"true"},size:r.I[x]}),screenReaderContent:"Go to comments"});}({viewContext:this.viewContext,commentCount:this.commentCount,permalink:this.permalink,pdpTarget:this.pdpTarget,onClick:this.handleClickCommentsButton,isUserLoggedIn:this.isUserLoggedIn,isPostCommentTapExp:this.isPostCommentTapExp});}renderVoteButton(){const o=h.c9(),i=o?n.a:n.v,s=o?n.b:n.u,r=o?n.c:n.d,a=this.postScore,l="Vote",d={voteType:this.postVoteType||null,appearance:h.a8()?"bordered":"secondary",size:x,attributes:{disabled:this.archived}},p=s({...d,voteCount:a,initialStateText:l,screenReaderContent:"Upvote",onClick:this.handleUpvote}),u=r({...d,screenReaderContent:"Downvote",onClick:this.handleDownvote});return this.isPDP&&performance.mark(e.bQ),t.x` <span class="relative leading-[0] ${this.disabled?"disabled":""}"> ${F({isPDP:this.isPDP})} ${i({attributes:{"data-post-click-location":e.a4.VOTE,className:f},voteCount:a,voteType:this.postVoteType,upvoteButton:p,downvoteButton:u,appearance:d.appearance,size:d.size,initialStateText:l})} </span> `}renderShareButton(){if(this.applyFeedsSimplification)return t.A;const o=t.x` <shreddit-post-share-button data-post-click-location="${e.a4.SHARE}" permalink="${this.permalink}" source-id="${this.id}" ?is-crosspostable="${this.isCrosspostable}" ?is-embeddable="${this.isEmbeddable}" ?is-desktop-viewport="${this.isDesktopViewport}" ?ssr="${this.shareButtonSSR}" ?hide-button-text="${!this.isDesktopViewport}" size="${x}" button-class="${f}" @click="${this.handleShareButtonInteraction}" @keydown="${this.handleShareButtonInteraction}" appearance="${h.a8()?"bordered":"secondary"}" data-faceplate-tracking-context="${JSON.stringify({post:{id:this.id}})}" ${e.H(this.shareButtonRef)}> ${this.shareButtonSSR?t.x`<slot name="${A}" slot="${A}"></slot>`:t.A} </shreddit-post-share-button> `;return this.isCrosspostingV2Enabled&&this.isCrosspostingCoachmarkOpen&&"Subreddit"===this.eligibleCrosspostingSubreddit?.__typename?t.x`<slot name="${M}"> <crosspost-upsell-coachmark post-id="${this.id}" name="${this.eligibleCrosspostingSubreddit?.name}" prefixed-name="${this.eligibleCrosspostingSubreddit?.prefixedName}" subreddit-id="${this.eligibleCrosspostingSubreddit?.id}" ?open="${this.isCrosspostingCoachmarkOpen}"> ${o} </crosspost-upsell-coachmark> </slot> `:t.x` <slot name="${M}"> ${o} </slot> `}renderExpandoButton(){return this.isDesktopViewport?this._expandoController.renderExpandoButton():""}renderReportButton(){const o="Report";return t.x` ${r.c({appearance:"secondary",attributes:{onclick:()=>{var t,o;e.a(this,(t="post",e.b({source:t,action:"click",noun:"report"}))),this.dispatchEvent((o=this.id,e.c(e.j8,{thingId:o})))},type:"button",className:f},size:x,children:this.isDesktopViewport?o:"",leadingIcon:t.d0({attributes:{className:"icon-report","aria-hidden":"true"},size:r.I[x]}),screenReaderContent:o})} `}renderActionRow(){if(this.isPDP&&this.isPdpSeekerM1LO)return this.renderSeekerPostInfoRow();const e=["shreddit-post-container flex gap-sm flex-row items-center flex-nowrap justify-start"];return this.isPDP?this.isCompactUIExp?e.push("py-xs px-md xs:px-0"):e.push("h-2xl mt-md px-md xs:px-0"):this.isCardView&&!this.promoted&&!this.isCrosspost&&this.isEmbed&&e.push("pt-xs"),t.x`<div class="${e.join(" ")}" data-testid="action-row" tabindex="0" aria-label="${"Actions available for this post"}"> ${this.renderVoteButton()} ${this.renderCommentsButton()} ${function({applyFeedsSimplification:e,awardCount:o,awardId:i,commentCount:s,feedIndex:n,hasBrandedAward:r,hasIconicAward:a,hideAwardIcon:l,iconUrl:d,iconUrls:p,isAwardable:h,isAwardedByUser:u,postId:c,postScore:m,postType:b,subredditId:v}){return!h||e?t.A:t.x`<award-button appearance="secondary" size="${x}" button-class="${f}" thing-id="${c}" count="${t.l(o)}" award-id="${t.l(i)}" icon-url="${t.l(l?void 0:d)}" icon-urls="${t.l(l?void 0:JSON.stringify(p))}" ?is-awarded-by-user="${u}" ?has-iconic-award="${a}" ?has-branded-award="${r}" subreddit-id="${t.l(v)}" post-id="${c}" feed-index="${t.l(n)}" post-type="${t.l(b)}" score="${t.l(m)}" comment-count="${t.l(s)}"></award-button>`}({applyFeedsSimplification:this.applyFeedsSimplification,awardCount:this.awardCount,awardId:this.awardId,commentCount:this.commentCount,feedIndex:this.feedIndex,hasBrandedAward:this.hasBrandedAward,hasIconicAward:this.hasIconicAward,hideAwardIcon:this.hideAwardIcon,iconUrl:this.awardIconUrl,iconUrls:this.awardIconUrls,isAwardable:this.isAwardable,isAwardedByUser:this.isAwardedByUser,postId:this.id,postScore:this.postScore,postType:this.postType,subredditId:this.subredditId})} ${this.renderShareButton()} ${this.isReportingEnabled&&!this.isFeed?this.renderReportButton():""} <div class="ms-auto flex flex-row"> <slot name="${$}"></slot> ${this.isDesktopViewport?this._promotePostButtonController.maybeRenderPromotePostButton():t.A} </div> <slot name="${"action-row-whitespace"}"></slot> </div>`;}renderSeekerPostInfoRow(){return t.x` <div class="px-md xs:px-0 py-xs truncate text-neutral-content-weak text-12 flex items-center gap-2xs font-semibold" data-testid="seeker-post-info-row"> ${void 0!==this.postScore?t.x` ${t.dB({size:t.I.Small})} <faceplate-number number="${this.postScore}" pretty></faceplate-number> ${t.dC({size:t.I.Small})} `:t.A} ${this.postScore&&this.commentCount?t.x`<span data-testid="seeker-post-info-row-divider"></span>`:t.A} ${this.commentCount?t.x` ${t.aD({size:t.I.Small})} <faceplate-number number="${this.commentCount}" pretty></faceplate-number> `:t.A} </div> `}renderMessageBanner(){return t.x` ${this.isLocked?t.x`<slot name="${"post-locked-banner"}"></slot>`:null} ${this.isBanned?t.x`<slot name="${"post-banned-banner"}"></slot>`:null} <slot name="${"post-archived-banner"}"></slot> ${this.showPostRemovalBanner?t.x`<slot name="${"post-removed-banner"}"></slot>`:null} ${this.isContestMode?t.x`<slot name="${"post-contest-mode-banner"}"></slot>`:null} `}trackContentTagClick(t){t.detail.type===s.C.APP&&this.trackWatermarkEvent("v1_badge")}trackWatermarkEvent(t){const o=e.b(m.c({postId:this.id||"",subredditId:this.subredditId||"",blockType:"",pageType:e.l(),action:"click",noun:"watermark",appId:this.appId||"",appInstallationId:this.appInstallationId||"",appVersionNumber:this.appVersionNumber||"",appPublicApiVersion:this.appPublicApiVersion||"",appName:this.appSlug||"",appSlug:this.appSlug||"",userAgent:window.navigator?.userAgent.toLowerCase()||"unknown",watermark:t}));e.a(this,o)}renderPostHeader(){return t.x` <slot name="${H}"></slot> ${this.isEligibleForRelatedCommunityRecommendations?t.x`<slot name="${"related-community-recommendation"}"></slot>`:t.x``} <div id="content-tag-container" class="flex justify-between gap-xs ${e.x({"px-md":this.isPDP,"xs:px-0":this.isPDP})}"> ${this.renderContentTags()} ${this.renderAppPrivacyButton()} </div> ${this.renderPostLinkForMTSEO()} `}renderAppPrivacyButton(){return this.appName?t.x`<rpl-dialog-trigger dialog-id="${this.appSlug}-privacy-dialog"> ${e.J({appearance:"plain",attributes:{onclick:()=>(this.trackWatermarkEvent("v1_privacy_link"),this._activateFeature({name:e.j9,routeParams:{appSlug:this.appSlug,appOwnerId:this.appOwnerId||"null",postId:this.id,subredditId:this.subredditId},queryParams:{appName:this.appName},renderMode:e.P.Contents})),className:"flex gap-xs"},children:"Privacy",leadingIcon:t.bS({size:t.I.ExtraSmall}),size:e.a2.ExtraSmall})} </rpl-dialog-trigger>`:t.A;}renderPostLinkForMTSEO(){if(!this.isMTSEOUserPage)return"";if(this.shouldHideOriginalLanguageLink)return"";const o=new RegExp(/[^?]+/),i=this.permalink?.match(o);if(!i||0===i.length)return"";const s=e.bL(i[0],e.jb,e.ja);return t.x` <mtseo-show-original-link post-id="${this.id}" href="${s}" ?with-intervention="${this.hasMTSEOTranslationInterruption}"></mtseo-show-original-link> `}renderTitle(){const e=t.x`<slot name="${"title"}"></slot>`;return this.showFullContent||this.isPDP?e:t.x`<h2 class="condensed-post-title-heading">${e}</h2>`}renderTextBody(){return t.x`<slot name="${"text-body"}"></slot>`}renderPostMediaContainer(e){return t.x` <slot name="${"post-media-container"}" class="${e??""}"></slot> `}renderFeedFlair(){return this.isPDP?"":t.x`<div> <slot name="${U}" class="feed-flair-slot"></slot> </div>`}renderPDPFlair(){const e=this.isCompactUIExp?"leading-none":"xs:px-0";return this.isPDP?t.x`<div class="px-md ${e}"> <slot name="${U}" class="pdp-flair-slot"></slot> </div>`:""}renderDeletedPost(){return t.x` <div class="deleted-post h-3xl flex items-center"> <p class="font-semibold text-neutral-content-strong text-14"> ${"Post deleted"} </p> </div> `;}renderHiddenPost(){return t.x` <div class="hidden-post h-3xl flex items-center justify-between px-md"> <div> <p class="m-0 font-semibold text-neutral-content-strong text-14"> ${"Post hidden"} </p> </div> ${e.J({attributes:{onclick:this.unhidePost},size:e.a2.Medium,appearance:"secondary",children:"Undo"})} </div> `;}renderCompactView(){const e="grid grid-cols-[1fr_min-content] grid-rows-[auto_auto_auto_auto_auto] xs:grid-cols-[min-content_1fr] xs:grid-rows-[auto_auto_auto_auto]",o="col-start-1 col-end-3 row-start-1 row-end-2 xs:col-start-1 xs:col-end-3 xs:row-start-1 xs:row-end-2",i="col-start-2 col-end-3 row-start-2 row-end-3 xs:col-start-1 xs:col-end-2 xs:row-start-2 xs:row-end-4",s="col-start-1 col-end-2 row-start-2 row-end-3 xs:col-start-2 xs:col-end-3 xs:row-start-2 xs:row-end-3 overflow-hidden",n="col-start-1 col-end-3 row-start-3 row-end-4 xs:hidden",r="col-start-1 col-end-3 row-start-4 row-end-5 xs:col-start-2 xs:col-end-3 xs:row-start-3 xs:row-end-4",a="col-start-1 col-end-3 row-start-5 row-end-6 xs:col-start-2 xs:col-end-3 xs:row-start-4 xs:row-end-5 overflow-hidden",l="col-start-1 col-end-3 row-start-6 row-end-7 xs:col-start-2 xs:col-end-3 xs:row-start-5 xs:row-end-6";return t.x` <slot name="${B}"></slot> <div class="${h.j("grid",e)}"> <div class="${o}"> <slot name="${"recommendation-bar"}"></slot> </div> <div class="${h.j(i,"mt-2xs ml-xs xs:my-2xs xs:ml-0 xs:mr-md")}"> <slot name="${L}"></slot> </div> <div class="${h.j(s,"mt-2xs")}"> <div class="mb-2xs xs:mb-0"> <slot name="${H}"></slot> </div> <div class="overflow-hidden"> ${this.renderTitle()} <slot name="${"content-tags"}"></slot> <slot name="${"app-privacy"}"></slot> <slot name="${U}"></slot> </div> <div> <slot name="${V}"></slot> <slot name="${$}"></slot> </div> <div> <slot name="${"desktop-cta-row"}"></slot> </div> </div> <div class="${n}"> <slot name="${"mobile-cta-row"}"></slot> </div> <div class="${h.j(r,"flex gap-2xs overflow-hidden items-center mb-2xs mt-xs xs:mt-[2px]")}"> <slot name="${"action-bar-ad-cta"}"></slot> ${this.renderExpandoButton()}${this.renderVoteButton()} <slot name="${"overflow-menu-bar"}" class="grow overflow-hidden block"></slot> </div> <div class="${a}"> <slot name="${"expando-content"}"></slot> </div> <div class="${l}">${this.renderPostStatsEntryPoint()}</div> </div> ${this.renderPostStatsContainer()} `}renderPostStatsContainer(){return t.x`<slot name="${"post-insights-panel"}"></slot>`}renderPostStatsEntryPoint(){return t.x`<slot name="${"post-stats-entry-point"}"></slot>`}renderCardViewPostFooter(){return t.x` ${this.renderMessageBanner()} <slot name="${"post-recovery-section"}"></slot> ${this.renderActionRow()} ${this.renderPostStatsEntryPoint()} ${this.renderPostStatsContainer()} `}renderContentTags(){return t.x`<shreddit-content-tags post-id="${this.id}" ?nsfw="${this.nsfw}" ?spoiler="${this.spoiler}" app="${this.appSlug}" ?game="${this.game}" @tag-click="${t=>this.trackContentTagClick(t)}"></shreddit-content-tags>`}renderSlimCardPost(){return t.x` <slot name="${B}"></slot> <slot></slot> <div class="pt-xs">${this.renderCardViewPostFooter()}</div> `}renderCardView(){const e=this.isThumbnailSet?"ml-xs xs:ml-sm":void 0;return t.x` <slot name="${B}"></slot> ${this.renderPostHeader()} <div class="flex"> <div class="flex flex-col grow max-w-full"> ${this.renderTitle()} ${this.renderPDPFlair()} <slot name="${V}"></slot> ${this.isPDP?null:this.renderTextBody()} ${this.renderFeedFlair()} </div> <div class="${t.l(e)}">${this.renderThumbnail()}</div> </div> ${this.renderPostMediaContainer("xs:pt-md")} ${this.isPDP?this.renderTextBody():null} <slot></slot> ${this.renderCardViewPostFooter()} `}render(){return this.deleted?this.renderDeletedPost():this.showShortHiddenPostForm()?this.renderHiddenPost():this.isCompactView?this.renderCompactView():this.isSlimCard?this.renderSlimCardPost():this.renderCardView()}handleView(t,o,i){!o&&this.isPDP||c.a2(this.viewContext)&&this.hasBeenViewed||e.a(this,t),this.gallery&&e.a(this,v.a(this,0,i)),this.morePostsCursor&&this.handleLoadMorePosts()}handleConsume(){!this.isPDP&&this.becameVisibleOnScreenTimestamp&&Date.now()-this.becameVisibleOnScreenTimestamp>c.a&&!c.a2(this.viewContext)&&this.trackConsume()}handleClick(t,o){t&&e.a(this,t),o&&this.dispatchEvent(o)}handleShareButtonInteraction(){this.isDesktopViewport?this.handleClick(c.a3(this)):this.handleClick(c.a4(this))}handleClickCommentsButton(t){if(e.a(this,c.s(this)),this.isFeed)return;this.isPostCommentTapExp||E.s("smooth");if((t?.currentTarget?.querySelector("faceplate-number")?.number??0)>0&&!this.isPostCommentTapExp){const t=document.querySelector("shreddit-comments-sort-dropdown")?.querySelector("shreddit-sort-dropdown")?.shadowRoot?.querySelector("faceplate-dropdown-menu")?.querySelector("button");t?.focus()}else{if(!this.isUserLoggedIn&&this.isPostCommentTapExp)return;const t=document.querySelector("comment-body-header comment-composer-host");this.isPostCommentTapExp&&t?.scrollIntoView({behavior:"smooth",block:"center"}),t?.focus()}}handleClickPost(t){const e=c.a5(t,this);this.handleClick(e)}handleCarouselArrowClick(t){t.preventDefault();const e=t;v.h(this,e)}async handleUpdatePostVote(t){const o=this.postScore,i=this.postVoteType;if(void 0!==this.postScore){const e=this._getPostScoreDelta(t);this.postScore=this.postScore+e}this.postVoteType=t===this.postVoteType?void 0:t;try{await this._onUpdatePostVoteType(),this.postVoteType&&this.pubsub.publish(this.postVoteType===n.V.Upvote?e.T.PostUpvoted:e.T.PostDownvoted,{postId:this.id})}catch(s){this.postScore=o,this.postVoteType=i,this.dispatchEvent(e.c("faceplate-alert",{level:e.I.warning,message:s,sourceElement:t,cause:`failed-${t}`}))}}async handleCrosspostingV2Experiment(){const t=await N(this.id);this.eligibleCrosspostingSubreddit=t,this.isCrosspostingCoachmarkOpen=!!t}async handleUpvote(t){const o=this.postVoteType===n.V.Upvote;if(this.isUserLoggedIn)return this.handleClick(o?c.l(this):c.u(this)),await this.handleUpdatePostVote(n.V.Upvote),!o&&this.isCrosspostingV2Enabled&&this.handleCrosspostingV2Experiment(),void(this.isAma&&!o&&this.pubsub.publish(e.T.TriggerAmaRemindMeModal,{postId:this.id}));this.disabled?(this.dispatchEvent(e.c(e.df.upvoteTry)),e.a(this,c.a6(this))):this.handleClick(c.u(this),e.c(e.df.upvote))}async handleDownvote(t){if(this.isUserLoggedIn)return this.handleClick(this.postVoteType===n.V.Downvote?c.l(this):c.m(this)),void (await this.handleUpdatePostVote(n.V.Downvote));this.disabled?(this.dispatchEvent(e.c(e.df.downvoteTry)),e.a(this,c.a6(this))):this.handleClick(c.m(this),e.c(e.df.downvote))}onBeforeUnload(){this._hasPageUnloaded=!0,this.isPostInViewport&&(this.handleConsume(),this.isPostLeaveEventsEnabled&&e.a(this,c.Z(this)))}handleHovercardOpen(t){if(!(t.target instanceof HTMLElement&&"id"in t.target.dataset))return;const o=t.target.dataset.id;"community-hover-card"===o&&e.a(this,c.a7(this)),"user-hover-card"===o&&e.a(this,c.a8(this))}handleThumbnailSlotChange(t){const e=t.target?.assignedElements();this.isThumbnailSet=e.length>0}observerIsIntersectingCallback(t){this.isNotBrandSafe&&t.target===this&&window.dispatchEvent(e.c(p.B,{postId:this.id,isInView:!0})),this.isPostInViewport||(this.isPostInViewport=!0,this.becameVisibleOnScreenTimestamp=Date.now(),this.handleView(c.n(this),!this.isPDP),this.isTranslatable&&this.isTranslationV2Enabled&&S.o.post(this,this),this.hasBeenViewed=!0,c.a2(this.viewContext)&&(this.listingBelowConsumeTimer=setTimeout(this.trackConsume,c.a)))}observerIsNotIntersectingCallback(t){clearTimeout(this.listingBelowConsumeTimer),this.isNotBrandSafe&&t.target===this&&window.dispatchEvent(e.c(p.B,{postId:this.id,isInView:!1}));const o=this.isPostInViewport;this.isPostInViewport=!1,o&&(this.handleConsume(),this.isPostLeaveEventsEnabled&&e.a(this,c.Z(this)))}};return t._([t.n({type:Boolean})],G.prototype,"archived",void 0),t._([t.n({type:Boolean})],G.prototype,"deleted",void 0),t._([t.n({type:Boolean,reflect:!0})],G.prototype,"hidden",void 0),t._([t.n({type:String,attribute:"author-id"})],G.prototype,"authorId",void 0),t._([t.n({type:String,attribute:"created-timestamp"})],G.prototype,"createdTimestamp",void 0),t._([t.n({type:String})],G.prototype,"domain",void 0),t._([t.n({type:String,attribute:"content-href"})],G.prototype,"contentHref",void 0),t._([t.n({type:String})],G.prototype,"id",void 0),t._([t.n({type:String,attribute:"user-id"})],G.prototype,"userId",void 0),t._([t.n({type:String,attribute:"app-id"})],G.prototype,"appId",void 0),t._([t.n({type:String,attribute:"app-slug"})],G.prototype,"appSlug",void 0),t._([t.n({type:Boolean})],G.prototype,"game",void 0),t._([t.n({type:String,attribute:"app-installation-id"})],G.prototype,"appInstallationId",void 0),t._([t.n({type:String,attribute:"app-name"})],G.prototype,"appName",void 0),t._([t.n({type:String,attribute:"app-owner-id"})],G.prototype,"appOwnerId",void 0),t._([t.n({type:String,attribute:"app-version-number"})],G.prototype,"appVersionNumber",void 0),t._([t.n({type:String,attribute:"app-public-api-version"})],G.prototype,"appPublicApiVersion",void 0),t._([t.n({type:Boolean,reflect:!0})],G.prototype,"nsfw",void 0),t._([t.n({type:Boolean})],G.prototype,"promoted",void 0),t._([t.n({type:Number})],G.prototype,"score",void 0),t._([t.n({type:Boolean,reflect:!0})],G.prototype,"spoiler",void 0),t._([t.n({type:String,attribute:"subreddit-id"})],G.prototype,"subredditId",void 0),t._([t.n({type:String,attribute:"subreddit-name"})],G.prototype,"subredditName",void 0),t._([t.n({type:Boolean,attribute:"is-subscribed"})],G.prototype,"isSubscribed",void 0),t._([t.n({type:String,attribute:"subreddit-prefixed-name"})],G.prototype,"subredditPrefixedName",void 0),t._([t.n({type:String,attribute:"post-title"})],G.prototype,"postTitle",void 0),t._([t.n({type:String,attribute:"post-type"})],G.prototype,"postType",void 0),t._([t.n({type:String,attribute:"recommendation-source"})],G.prototype,"recommendationSource",void 0),t._([t.n({type:String,attribute:"recommendation-subreddit-id"})],G.prototype,"recommendationSubredditId",void 0),t._([t.n({type:String,attribute:"recommendation-subreddit-name"})],G.prototype,"recommendationSubredditName",void 0),t._([t.n({type:String,attribute:"post-language"})],G.prototype,"postLanguage",void 0),t._([t.n({type:String,attribute:"translation-language"})],G.prototype,"translationLanguage",void 0),t._([t.n({type:Boolean,attribute:"is-translation-on",reflect:!0})],G.prototype,"isTranslationOn",void 0),t._([t.n({type:Number})],G.prototype,"feedIndex",void 0),t._([t.n({type:Boolean,attribute:"stickied"})],G.prototype,"isStickied",void 0),t._([t.n({type:Boolean,attribute:"highlighted"})],G.prototype,"isHighlighted",void 0),t._([t.n({type:Boolean,attribute:"crossposting-v2-enabled"})],G.prototype,"isCrosspostingV2Enabled",void 0),t._([t.n({type:Boolean,attribute:"is-translation-v2-enabled"})],G.prototype,"isTranslationV2Enabled",void 0),t._([t.n({type:Number,attribute:"comment-count"})],G.prototype,"commentCount",void 0),t._([t.n({type:Boolean,attribute:"is-awardable"})],G.prototype,"isAwardable",void 0),t._([t.n({type:Number,attribute:"award-count"})],G.prototype,"awardCount",void 0),t._([t.n({type:String,attribute:"award-id"})],G.prototype,"awardId",void 0),t._([t.n({type:String,attribute:"award-icon-url"})],G.prototype,"awardIconUrl",void 0),t._([t.n({type:Array,attribute:"award-icon-urls"})],G.prototype,"awardIconUrls",void 0),t._([t.n({type:Boolean,attribute:"hide-award-icon"})],G.prototype,"hideAwardIcon",void 0),t._([t.n({type:Boolean,attribute:"is-awarded-by-user"})],G.prototype,"isAwardedByUser",void 0),t._([t.n({type:Boolean,attribute:"has-iconic-award"})],G.prototype,"hasIconicAward",void 0),t._([t.n({type:Boolean,attribute:"has-branded-award"})],G.prototype,"hasBrandedAward",void 0),t._([t.n({type:String})],G.prototype,"permalink",void 0),t._([t.n({type:Boolean})],G.prototype,"gallery",void 0),t._([t.n({type:String,attribute:"view-context"})],G.prototype,"viewContext",void 0),t._([t.n({type:String,attribute:"view-type"})],G.prototype,"viewType",void 0),t._([t.n({type:Boolean,attribute:"is-slim-card"})],G.prototype,"isSlimCard",void 0),t._([t.n({type:Boolean,attribute:"is-desktop-viewport"})],G.prototype,"isDesktopViewport",void 0),t._([t.n({type:Boolean,attribute:"is-reporting-enabled"})],G.prototype,"isReportingEnabled",void 0),t._([t.n({type:Boolean,attribute:"is-link-post"})],G.prototype,"isLinkPost",void 0),t._([t.n({type:Boolean,attribute:"is-ama"})],G.prototype,"isAma",void 0),t._([t.n({type:Boolean,attribute:"is-embed"})],G.prototype,"isEmbed",void 0),t._([t.n({type:Boolean,attribute:"is-not-brand-safe"})],G.prototype,"isNotBrandSafe",void 0),t._([t.n({type:Boolean,attribute:"is-crosspost"})],G.prototype,"isCrosspost",void 0),t._([t.n({type:Boolean,attribute:"is-crosspostable"})],G.prototype,"isCrosspostable",void 0),t._([t.n({type:Boolean,attribute:"is-embeddable"})],G.prototype,"isEmbeddable",void 0),t._([t.n({type:Boolean,attribute:"user-logged-in"})],G.prototype,"isUserLoggedIn",void 0),t._([t.n({type:Boolean,attribute:"disabled"})],G.prototype,"disabled",void 0),t._([t.n({type:String,attribute:"vote-type"})],G.prototype,"voteType",void 0),t._([t.n({type:Boolean,attribute:"show-full-content"})],G.prototype,"showFullContent",void 0),t._([t.n({type:Boolean,attribute:"is-translatable"})],G.prototype,"isTranslatable",void 0),t._([t.n({type:Boolean,attribute:"is-translation-fetched",reflect:!0})],G.prototype,"isTranslationFetched",void 0),t._([t.n({type:Boolean,attribute:"is-post-translated",reflect:!0})],G.prototype,"isPostTranslated",void 0),t._([t.n({type:Boolean,attribute:"is-post-body-translated",reflect:!0})],G.prototype,"isPostBodyTranslated",void 0),t._([t.n({type:Boolean,attribute:"is-mt-seo-user-page",reflect:!0})],G.prototype,"isMTSEOUserPage",void 0),t._([t.n({type:Boolean,attribute:"should-hide-original-language-link"})],G.prototype,"shouldHideOriginalLanguageLink",void 0),t._([t.n({type:Boolean,attribute:"has-mt-seo-translation-interruption"})],G.prototype,"hasMTSEOTranslationInterruption",void 0),t._([t.n({type:String,attribute:"more-posts-cursor"})],G.prototype,"morePostsCursor",void 0),t._([t.n({type:Boolean,attribute:"should-track-post-leave-events"})],G.prototype,"isPostLeaveEventsEnabled",void 0),t._([t.n({type:Boolean,attribute:"locked",reflect:!0})],G.prototype,"isLocked",void 0),t._([t.n({type:Boolean,attribute:"banned",reflect:!0})],G.prototype,"isBanned",void 0),t._([t.n({type:Boolean,attribute:"is-contest-mode",reflect:!0})],G.prototype,"isContestMode",void 0),t._([t.n({type:String,attribute:"pdp-target"})],G.prototype,"pdpTarget",void 0),t._([t.n({type:Boolean,attribute:"is-promoteable-post"})],G.prototype,"isPromoteablePost",void 0),t._([t.n({type:String,attribute:"moderation-verdict"})],G.prototype,"moderationVerdict",void 0),t._([t.n({type:Boolean,attribute:"previous-actions-feature"})],G.prototype,"previousActionsFeature",void 0),t._([t.n({type:String,reflect:!0})],G.prototype,"updateAnimation",void 0),t._([t.n({type:String,attribute:"item-state",reflect:!0})],G.prototype,"itemState",void 0),t._([t.n({type:Boolean,attribute:"are-reports-expandable"})],G.prototype,"areReportsExpandable",void 0),t._([t.n({type:Boolean,attribute:"compact-ui-experiment"})],G.prototype,"isCompactUIExp",void 0),t._([t.n({type:Boolean,attribute:"post-comment-tap-exp"})],G.prototype,"isPostCommentTapExp",void 0),t._([t.n({type:Boolean,attribute:"is-pdp-seeker-m1-lo"})],G.prototype,"isPdpSeekerM1LO",void 0),t._([t.n({type:Boolean,attribute:"share-button-ssr"})],G.prototype,"shareButtonSSR",void 0),t._([t.n({type:Boolean,attribute:"interaction-from-hotkey"})],G.prototype,"interactionFromHotkey",void 0),t._([t.n({type:Boolean,attribute:"apply-feeds-simplification"})],G.prototype,"applyFeedsSimplification",void 0),t._([t.b()],G.prototype,"showPostRemovalBanner",void 0),t._([t.b()],G.prototype,"showExpando",void 0),t._([t.b()],G.prototype,"postVoteType",void 0),t._([t.b()],G.prototype,"postScore",void 0),t._([t.b()],G.prototype,"useShortHiddenPostForm",void 0),t._([t.b()],G.prototype,"isThumbnailSet",void 0),t._([t.b()],G.prototype,"isUpdatingPostBody",void 0),t._([t.b()],G.prototype,"displayPostAnalytics",void 0),t._([t.b()],G.prototype,"isCrosspostingCoachmarkOpen",void 0),t._([t.b()],G.prototype,"eligibleCrosspostingSubreddit",void 0),G=t._([t.c("shreddit-post")],G),{D:x,get S(){return G},a:f}}));
SML.dm("DKwanWKg",["DSWSCRFk","DAgRafdt"],(async(t,s)=>{const e=new DOMParser;let i=class extends t.s{constructor(){super(...arguments),this.postId="",this.flairClass="",this.pubsub=new s.f(this),this.onPostFlairChange=t=>{t.postId===this.postId&&this.renderUpdatedFlair(t.updatedHtml)}}connectedCallback(){super.connectedCallback(),requestAnimationFrame((()=>{this.pubsub.subscribe(s.T.PostFlairUpdated,this.onPostFlairChange)}))}renderUpdatedFlair(t){const s=this.shadowRoot?.querySelector("slot")?.assignedElements({flatten:!0})[0];if(!t&&s)return void s.remove();const i=e.parseFromString(t,"text/html").body.firstChild;if(i){if(this.flairClass&&i instanceof HTMLElement){const t=this.flairClass.split(" ").filter((t=>!!t));i.classList.add(...t)}s?s.replaceWith(i):this.appendChild(i)}}render(){return t.x`<slot></slot>`}};i.styles=[s.t],t._([t.n({type:String,attribute:"post-id"})],i.prototype,"postId",void 0),t._([t.n({type:String,attribute:"flair-class"})],i.prototype,"flairClass",void 0),i=t._([t.c("shreddit-post-flair")],i)}));
SML.dm("D3kSdV85",["DSWSCRFk","DjoKwtwQ","DAgRafdt"],(async(t,e,i)=>{const s=t.s,o=["allow-forms","allow-orientation-lock","allow-popups","allow-popups-to-escape-sandbox","allow-presentation","allow-same-origin","allow-scripts","allow-top-navigation-by-user-activation"].join(" ");let r=class extends s{constructor(){super(...arguments),this.postId="",this.limitHeight=!1,this.onMessage=t=>{const{data:i}=t;if(!t.source||t.source!==this.iframe?.contentWindow||"tweet-measured"!==i?.action||e.e(i?.id36)!==this.postId)return;this.iframe.height=`${i?.height}px`,this.limitHeight&&i?.height>550?(this.renderRoot?.querySelector(`#${this.postId}-tweet-overflow`)?.classList.remove("hidden"),this?.style.setProperty("height","550px")):this?.style.setProperty("height",`${i?.height+4}px`),this.renderRoot?.querySelector(`#${this.postId}-tweet-loading-placeholder`)?.remove();const s=document.querySelector(`#${this.postId}-post-media-container`),o=s?.querySelector(`#${this.postId}-aspect-ratio`);if(o){const t=this.offsetHeight/this.offsetWidth;o?.style.setProperty("--aspect-ratio",`${t}`);const e=this.offsetHeight-o.offsetHeight;o?.style.setProperty("height",`${e}px`)}}}static get styles(){return[i.t]}connectedCallback(){super.connectedCallback(),window.addEventListener("message",this.onMessage)}disconnectedCallback(){super.disconnectedCallback(),window.removeEventListener("message",this.onMessage)}onIframeLoad(){this.iframe?.contentWindow?.postMessage("twitter-measure-requested","https://www.redditmedia.com")}render(){const i=`${e.f(this.postId)}?responsive=true&is_nightmode=${matchMedia("(prefers-color-scheme: dark)").matches}`;return t.x` <div id="${this.postId}-tweet-loading-placeholder" class="${this.className} bg-neutral-background-weak absolute left-0 right-0 top-0 bottom-0"></div> <div class="overflow-hidden flex justify-center w-100 ${this.limitHeight?"max-h-[550px] ":""}"> <iframe id="${this.postId}-tweet-iframe" scrolling="no" allowfullscreen class="items-center overflow-hidden b-0 border-transparent justify-center bg-neutral-background-weak max-w-[550px] rounded-[14px]" max-width="${"550px"}" width="100%" title="${this.title}" aria-label="Tweet: ${this.title}" src="${i}" sandbox="${o}" @load="${this.onIframeLoad}" allowtransparency="true"></iframe> </div> ${this.limitHeight?t.x`<div id="${this.postId}-tweet-overflow" class="h-[66px] mt-[-66px] w-100 from-[color:var(--color-neutral-background-weak)] bg-gradient-to-t hidden isolate pointer-events-none"></div>`:""} `}};t._([t.n({type:String,attribute:"post-id"})],r.prototype,"postId",void 0),t._([t.n({type:Boolean,attribute:"limit-height"})],r.prototype,"limitHeight",void 0),t._([t.D("iframe")],r.prototype,"iframe",void 0),r=t._([t.c("shreddit-tweet-embed")],r)}));
SML.dm("ChjKW6Bj",["DSWSCRFk","DAgRafdt"],(async(t,e)=>{let s=class extends t.s{constructor(){super(...arguments),this.handleInteraction=t=>{e.i(t)&&this.handleAction()}}static get styles(){return t.i`:host{display:contents}`}handleAction(){this.topic&&e.p(this.topic,this.data)}render(){return t.x`<slot @click="${this.handleInteraction}" @keypress="${this.handleInteraction}"></slot>`}};t._([t.n({type:String})],s.prototype,"topic",void 0),t._([t.n({type:Object})],s.prototype,"data",void 0),s=t._([t.c("shreddit-pubsub-publisher")],s)}));
SML.dm("eWX2uq3T",["DSWSCRFk","DAgRafdt"],(async(t,o)=>{let e=class extends t.s{constructor(){super(...arguments),this.isDesktop=!1,this.isLoggedIn=!1,this.isFollowed=!1,this.trackingSource="profile",this.toggleLoadingIcon=()=>{const t=this.isFollowed?".unfollow-button":".follow-button",o=this.querySelector(`${t} .loading-icon`),e=this.querySelector(`${t} .button-leading-icon`)?.parentElement;if(o?.classList.toggle("hidden"),e?.classList.toggle("hidden"),!this.isDesktop){const o=this.querySelector(`${t} .button-text`);o?.classList.toggle("hidden")}}}connectedCallback(){super.connectedCallback(),this.addEventListener("click",this.onClick)}disconnectedCallback(){super.disconnectedCallback(),this.removeEventListener("click",this.onClick)}async onClick(){if(this.redditorId&&this.isLoggedIn){const t={input:{accountId:this.redditorId,state:this.isFollowed?o.a3.None:o.a3.Followed}};this.toggleLoadingIcon();try{const e=await o.r({operation:o.O.UpdateProfileFollowState,variables:t});return this.toggleLoadingIcon(),void(e.data.updateProfileFollowState?.ok&&!e.data.updateProfileFollowState?.errors&&(this.isFollowed=!this.isFollowed))}catch(t){return window.Sentry?.captureError?.(t),void this.toggleLoadingIcon()}}}render(){return t.x`<slot name="button-${this.isFollowed?"unfollow":"follow"}"></slot>`}};e.styles=[o.t],t._([t.n({type:Boolean,attribute:"is-desktop"})],e.prototype,"isDesktop",void 0),t._([t.n({type:Boolean,attribute:"is-logged-in"})],e.prototype,"isLoggedIn",void 0),t._([t.n({type:Boolean,attribute:"is-followed"})],e.prototype,"isFollowed",void 0),t._([t.n({type:String,attribute:"redditor-id"})],e.prototype,"redditorId",void 0),t._([t.n({type:Object,attribute:"tracking-source"})],e.prototype,"trackingSource",void 0),e=t._([t.c("follow-button")],e)}));
SML.dm("Sr8pLEMb",["DSWSCRFk","Sb16lf7H","DAgRafdt"],(async(t,e,o)=>{let n=class extends t.s{constructor(){super(...arguments),this.clickLocation=o.ab.UNKNOWN,this.enableAdPostHydration=!1,this.storageController=null}async connectedCallback(){await super.connectedCallback(),await this.resolveAdStorageControllerDependencies()}async resolveAdStorageControllerDependencies(){if(!this.enableAdPostHydration)return;const{AdStorageController:t}=await SML.di("./Sb16lf7H.js",import.meta.url,"Sb16lf7H").then((function(t){return t.j}));this.storageController=new t(this)}async disconnectedCallback(){await super.disconnectedCallback()}handleClick(t){this.storageController&&this.enableAdPostHydration&&this.storageController.storeAdDataInStorage();"auxclick"===t.type&&1!==t.button||e.t({el:this,clickLocation:this.clickLocation})}render(){return t.x`<slot @click="${this.handleClick}" @contextmenu="${this.handleClick}" @auxclick="${this.handleClick}"></slot>`}};n.styles=[o.t],t._([t.n({type:String,attribute:"click-location"})],n.prototype,"clickLocation",void 0),t._([t.n({type:Boolean,attribute:"enable-ad-post-hydration"})],n.prototype,"enableAdPostHydration",void 0),n=t._([t.c("click-location-tracker")],n);const l=()=>document.getElementById(o.fN);return{a:async({leadGenInfo:t})=>{t&&!l()&&await o.d({name:o.fM})},s:({leadGenInfo:t,postId:e,impressionId:o,onSuccess:n})=>{t&&l()?.showModal({...t,postId:e,impressionId:o,onSuccess:n,prompt:t.prompt??"",privacyPolicyUrl:t.privacyPolicyUrl??"",leadFormFields:t.leadFormFields??[],formId:t.formId??null,publicEncryptionKey:t.publicEncryptionKey??null})}}}));
SML.dm("DWqMJclr",["DC_Hog5I","em8GmEry","eWX2uq3T","DLKm42XZ","Sr8pLEMb","DSWSCRFk","DAgRafdt","OAEZpqSu","Sb16lf7H"],(async E=>{E.g()&&(SML.di("./x57WwyhJ.js",import.meta.url,"x57WwyhJ"),SML.di("./BEUhrCy_.js",import.meta.url,"BEUhrCy_"),SML.di("./D191HZtC.js",import.meta.url,"D191HZtC"))}));
SML.dm("ByrM8F6V",["DSWSCRFk","DAgRafdt"],(async(t,s)=>{const e=t.s,o=new DOMParser;let d=class extends e{constructor(){super(...arguments),this.userId="",this.subredditId="",this.pubsub=new s.f(this),this.onUpdateFlairEvent=({html:t,subredditId:s,userId:e,isEnabled:d})=>{if(this.userId===e&&this.subredditId===s){const s=t&&d,e=s?t:'<span class="hidden"></span>',i=o.parseFromString(e,"text/html").body.firstChild;i&&(this.shadowRoot?.querySelector("slot")?.assignedElements({flatten:!0})[0].replaceWith(i),s?this.showHost():this.hideHost())}}}static get styles(){return t.i`:host{--display:flex;display:var(--display);overflow:hidden}`}onSlotChanged(t){const s=t.target?.assignedElements({flatten:!0});s?.some((t=>"SPAN"===t.nodeName&&t.classList.contains("hidden")))&&this.hideHost()}connectedCallback(){super.connectedCallback(),this.pubsub.subscribe(s.T.CommunityAuthorFlairUpdated,this.onUpdateFlairEvent)}hideHost(){(this.shadowRoot?.host).style.setProperty("--display","none")}showHost(){(this.shadowRoot?.host).style.setProperty("--display","flex")}render(){return t.x`<slot @slotchange="${this.onSlotChanged}"></slot>`}};t._([t.n()],d.prototype,"userId",void 0),t._([t.n()],d.prototype,"subredditId",void 0),d=t._([t.c("author-flair-event-handler")],d)}));
SML.dm("DUYFo2YU",["DSWSCRFk"],(async a=>{const{svg:t}=a.g();return{n:a.w(t`<path d="M10 10.9H4.68V9.1H9.1V4.68h1.8V10c0 .5-.4.9-.9.9z"></path><path d="M13.3 16.39c-.99.51-2.11.81-3.3.81-3.97 0-7.2-3.23-7.2-7.2S6.03 2.8 10 2.8c3.22 0 5.96 2.13 6.87 5.06.05.02.11.03.16.05.33.14.63.33.88.58l1.07 1.07C18.75 4.8 14.82 1 10 1s-9 4.03-9 9a9 9 0 009 9c1.17 0 2.28-.23 3.3-.63v-1.98z"></path><path d="M19.64 12.76l-3-3a.915.915 0 00-1.27 0l-3 3a.9.9 0 000 1.27.9.9 0 001.27 0l1.46-1.46v6.03c0 .5.4.9.9.9s.9-.4.9-.9v-6.03l1.46 1.46c.18.18.41.26.64.26.23 0 .46-.09.64-.26a.9.9 0 000-1.27z"></path>`,"0 0 20 20","new",!0)}}));
SML.dm("9JRUflSw",["DAgRafdt","DSWSCRFk","DUYFo2YU"],(async(a,e,n)=>{var t=e.aA("new-outline",n.n),r=e.aA("nsfw-language-outline",e.aB);const{svg:s}=e.g(),o=e.w(s`<path d="M17.626 1.744a2.255 2.255 0 00-1.482-.912 2.228 2.228 0 00-2.568 1.7l-.824 3.506-1.139-4.19A2.277 2.277 0 007.525 1.2a2.028 2.028 0 00-.274 1.567L8 5.987a2.095 2.095 0 00-.436-.046h-.221a2.124 2.124 0 00-1.916 1.22 2.111 2.111 0 00-1.084-.307h-.218A2.128 2.128 0 002 8.979v4.247a6.863 6.863 0 007.034 6.625l.685.008h.007c.019 0 .036-.01.056-.011a6.851 6.851 0 006.893-6.618v-2.95L17.97 3.3a2.038 2.038 0 00-.344-1.556zM6.469 8.979v-.913a.874.874 0 01.874-.874h.219a.875.875 0 01.874.874v1.276a2.34 2.34 0 00-.778.923c-.21.459-.257.975-.135 1.464h-.18a.875.875 0 01-.874-.875V8.979zm-3.218 0a.876.876 0 01.874-.874h.218a.876.876 0 01.874.874v2.788a.876.876 0 01-.874.875h-.218a.876.876 0 01-.874-.875V8.979zm6.381 9.626h-.013l-.576-.005a5.661 5.661 0 01-5.766-4.888 2.1 2.1 0 00.848.18h.218a2.125 2.125 0 001.916-1.221 2.1 2.1 0 001.084.307h.219c.214 0 .426-.034.629-.1.227.214.493.384.783.5l2.673 1.064a.637.637 0 00.232.044.625.625 0 00.231-1.2l-2.674-1.069a1.162 1.162 0 01-.662-.638 1 1 0 01.021-.793 1.281 1.281 0 011.637-.593l4.257 1.694a1.14 1.14 0 01.7.762c.01.022.02.044.032.065v.516a5.614 5.614 0 01-5.789 5.375zm5.674-7.8c-.053-.026-.1-.061-.154-.083L10.9 9.032a2.6 2.6 0 00-.951-.182L8.468 2.481a.787.787 0 01.109-.608.97.97 0 01.638-.42.982.982 0 011.185.7L12.154 8.6l.18.486 1-.054L14.8 2.785a.974.974 0 011.145-.719 1 1 0 01.66.4.8.8 0 01.137.6l-1.436 7.739z"></path>`,"0 0 20 20","peace-outline");var i=e.aA("peace-outline",o);const l="mod-notes-rail",N=`/svc/shreddit/${l}/r/:subredditName/u/:userName/:subredditId/:userId/:thingId/:triggerSource/:postId`;var m,u;!function(a){a.USERNAME="username",a.USER_HOVER_CARD="user-hover-card"}(m||(m={})),function(a){a.Overview="overview",a.Log="log",a.Posts="posts",a.Comments="comments"}(u||(u={}));const I=[{getButtonText:()=>"Overview",slot:u.Overview},{getButtonText:()=>"Log",slot:u.Log},{getButtonText:()=>"Posts",slot:u.Posts},{getButtonText:()=>"Comments",slot:u.Comments}],R={[a.cg.HelpfulUser]:()=>"Helpful",[a.cg.SolidContributor]:()=>"Good Contributor",[a.cg.SpamWatch]:()=>"Spam Watch",[a.cg.SpamWarning]:()=>"Spam Warning",[a.cg.AbuseWarning]:()=>"Abuse Warning",[a.cg.Ban]:()=>"Ban",[a.cg.BotBan]:()=>"Bot ban",[a.cg.PermaBan]:()=>"Perma ban",[a.cg.UserSummary]:()=>"Summary"};return {M:"mod-notes-rail-loading",N:[{label:()=>"None",icon:()=>""},{label:R[a.cg.HelpfulUser],icon:(a=e.q.Medium,n)=>i({size:a,attributes:{className:n}}),gqlLabel:a.cg.HelpfulUser},{label:R[a.cg.SolidContributor],icon:(a=e.q.Medium,n)=>t({size:a,attributes:{className:n}}),gqlLabel:a.cg.SolidContributor},{label:R[a.cg.SpamWatch],icon:(a=e.q.Medium,n)=>r({size:a,attributes:{className:n}}),gqlLabel:a.cg.SpamWatch},{label:R[a.cg.SpamWarning],icon:(a=e.q.Medium,n)=>e.aC({size:a,attributes:{className:n}}),gqlLabel:a.cg.SpamWarning},{label:R[a.cg.AbuseWarning],icon:(a=e.q.Medium,n)=>e.aC({size:a,attributes:{className:n}}),gqlLabel:a.cg.AbuseWarning}],a:l,b:N,get c(){return u},get d(){return m},e:I,f:20};}));
SML.dm("D5m5od_j",["DSWSCRFk","DAgRafdt","9JRUflSw","DUYFo2YU"],(async(e,t,r)=>{let i=class extends e.s{constructor(){super(...arguments),this.subredditName="",this.userName="",this.thingId="",this.subredditId="",this.userId="",this.forceOpen=!1,this.postId="",this.isUserDeleted=!1,this.triggerSource=r.d.USERNAME,this.openModNotes=async e=>{const{subredditName:r,userName:i,thingId:s,subredditId:o,userId:d,triggerSource:n,postId:u}=this,p=e??n;t.p(t.T.ModNotesRailOpen,{subredditName:r,userName:this.isUserDeleted?"deleted":i,thingId:s,subredditId:o,userId:this.isUserDeleted?"deleted":d,triggerSource:p,postId:u})},this.handleAnchorClick=e=>{e instanceof MouseEvent&&0!==e.button||e.ctrlKey||e.metaKey||(e.preventDefault(),this.openModNotes())},this.preventAnchorClick=e=>{const t=e.target;if(t instanceof HTMLSlotElement){t.assignedElements().forEach((e=>{(e instanceof HTMLAnchorElement||this.forceOpen||this.isUserDeleted)&&(e.onclick=this.handleAnchorClick,e.ontouchstart=this.handleAnchorClick)}))}}}render(){return this.isUserDeleted||this.subredditName&&this.subredditId&&this.userName&&this.userId?e.x` <slot @slotchange="${this.preventAnchorClick}"></slot> `:e.x`<slot></slot>`}};return e._([e.n({type:String,attribute:"subreddit-name"})],i.prototype,"subredditName",void 0),e._([e.n({type:String,attribute:"user-name"})],i.prototype,"userName",void 0),e._([e.n({type:String,attribute:"thing-id"})],i.prototype,"thingId",void 0),e._([e.n({type:String,attribute:"subreddit-id"})],i.prototype,"subredditId",void 0),e._([e.n({type:String,attribute:"user-id"})],i.prototype,"userId",void 0),e._([e.n({type:Boolean,attribute:"force-open"})],i.prototype,"forceOpen",void 0),e._([e.n({type:String,attribute:"post-id"})],i.prototype,"postId",void 0),e._([e.n({type:Boolean,attribute:"is-user-deleted"})],i.prototype,"isUserDeleted",void 0),e._([e.n({type:String,attribute:"trigger-source"})],i.prototype,"triggerSource",void 0),i=e._([e.c("mod-notes-opener")],i),{get ModNotesOpener(){return i}}}));
SML.dm("TC9gnkab",[],(async()=>{var t,T,S;return function(t){t.MODERATOR="moderator",t.COMMUNITY_STATUS="community_status"}(t||(t={})),function(t){t.VIEW="view",t.CLICK="click"}(T||(T={})),function(t){t.STATUS_EDIT="status_edit",t.STATUS_CANCEL="status_cancel",t.STATUS_CREATE="status_create",t.STATUS_DELETE="status_delete",t.STATUS_LINK="status_link",t.STATUS_DISPLAY="status_display",t.STATUS_SUB_LINK="subreddit_link"}(S||(S={})),{get A(){return T},get N(){return S},get S(){return t}}}));
SML.dm("D0xSKTja",["DSWSCRFk","DAgRafdt","Dnwr24bF","OAEZpqSu","BWRmaaMs"],(async(e,t,s,i,o)=>{const r=new WeakSet,n=async(e,{includeShadowRoot:s=!1}={})=>{const i="faceplate-partial",o=Array.from(e.querySelectorAll(i));s&&o.push(...Array.from(e.shadowRoot?.querySelectorAll(i)??[]));return(await Promise.all(o.map((async e=>!e||r.has(e)||e.loading!==t.h.Programmatic?Promise.resolve(!1):(r.add(e),e.load().then((()=>!0))))))).filter(Boolean).length>0},a=e=>t=>(e(t),t);let h=class extends o.FaceplateTooltip{constructor(){super(...arguments),this.mouseEnterDelay=750,this.mouseLeaveDelay=500,this.closeOnTrack=!1,this.disableTouchActivation=!1,this.partialLoading=t.h.Action,this.label="",this.mouseOnly=!1,this.sleepAfterEscape=!1,this.enterTimeout=-1,this.leaveTimeout=-1,this._popperController=new s.P(this,{position:this.position,referenceElementKey:"referenceElement",popperElementKey:"_tooltip"}),this._isHandlingTouch=!1,this.cleanupTimeouts=()=>{this.enterTimeout=this.leaveTimeout=-1},this.triggerEvent="hover",this.emitter=i.k(this),this.handleFocusOut=e=>{const t=e.relatedTarget;this.hidden||this.hasUserInteraction(t)||(this.close(),this.anchorEl&&(this.sleepAfterEscape=!0,this.anchorEl?.focus({preventScroll:!0})))},this.rplHovercardShowHandler=e=>{e.target===this||this.hidden||this.close()},this.onEscape=e=>{"Escape"===e.key&&(this.sleepAfterEscape=!0,this.close(),this.trigger?.focus())},this.mouseOverTrigger=e=>{this.setAttribute("trigger","mouse"),this.handleMouseenter(e)},this.handleClick=e=>{"hover"===this.triggerEvent&&this._isHandlingTouch&&this.disableTouchActivation&&(this.cleanupTimeouts(),this._isHandlingTouch=!1),super.handleClick(e)},this.handleTouchstart=()=>{this._isHandlingTouch=!0},this.handleMouseenter=e=>{if(this.mouseOnly&&"focusin"===e?.type)return;if(this.sleepAfterEscape)return void(this.sleepAfterEscape=!1);if(!this.hidden)return this.cleanupTimeouts();this.emitter.dispatch("entered"),this.partialLoading===t.h.Intent&&this.load();const s=window.setTimeout((()=>{s===this.enterTimeout&&this.hasUserInteraction()&&this.show()}),this.mouseEnterDelay);this.enterTimeout=s,document.addEventListener("keydown",this.onEscape),e?.currentTarget?.addEventListener("mouseleave",this.handleMouseleave,{once:!0})},this.handleMouseleave=()=>{if(this.hidden)return this.cleanupTimeouts();const e=window.setTimeout((()=>{e===this.leaveTimeout&&this.close()}),this.mouseLeaveDelay);this.leaveTimeout=e},this.handleMouseEnterTooltip=()=>{this.cleanupTimeouts()},this.handleMouseLeaveTooltip=()=>{this.handleMouseleave(),document.removeEventListener("keydown",this.onEscape)},this.handleFaceplateTrack=()=>{this.closeOnTrack&&this.close()},this.handleSlotChange=()=>{this.initializeFocusManager(),!this.hidden&&this.focusManager?.focus()},this.initializeFocusManager=()=>{this.content&&(this.focusManager=new t.ap(this,this.content))},this.render=()=>{const t=this._popperController.actualPosition||this.position;return e.x` <slot aria-describedby="faceplate-tooltip" faceplate-popper-trigger @click="${this.handleClick}" @touchstart="${this.handleTouchstart}" @mouseenter="${this.mouseOverTrigger}" @mouseleave="${this.handleMouseleave}" @focusin="${this.handleMouseenter}" @focusout="${this.handleMouseleave}"></slot> <div aria-label="${e.l((this.label||this.ariaLabel)??void 0)}" id="faceplate-tooltip" role="dialog" part="content-container" position="${t}" @keydown="${this.handleKeydown}" @mouseenter="${this.handleMouseEnterTooltip}" @mouseleave="${this.handleMouseLeaveTooltip}" @focusin="${this.handleMouseEnterTooltip}" @focusout="${this.handleMouseLeaveTooltip}" @slotchange="${this.handleSlotChange}" faceplate-popper-content> <slot name="content" @faceplate-track="${this.handleFaceplateTrack}"></slot> </div> `}}get content(){return this.contents[0]??null}get trigger(){return this.anchorEl??this.triggers[0]??null}get anchorEl(){try{if(this.anchor&&"string"==typeof this.anchor){return this.getRootNode().getElementById(this.anchor)}return this.anchor instanceof HTMLElement?this.anchor:null}catch{return null}}get referenceElement(){return this.trigger??this}setupAnchorElListeners(){const{anchorEl:e}=this;e&&(e.addEventListener("click",this.handleClick),e.addEventListener("touchstart",this.handleTouchstart),e.addEventListener("mouseenter",this.mouseOverTrigger),e.addEventListener("mouseleave",this.handleMouseleave),e.addEventListener("focusin",this.handleMouseenter),e.addEventListener("focusout",this.handleMouseleave))}cleanupAnchorElListeners(){const{anchorEl:e}=this;e&&(e.removeEventListener("click",this.handleClick),e.removeEventListener("touchstart",this.handleTouchstart),e.removeEventListener("mouseenter",this.mouseOverTrigger),e.removeEventListener("mouseleave",this.handleMouseleave),e.removeEventListener("focusin",this.handleMouseenter),e.removeEventListener("focusout",this.handleMouseleave))}hasUserInteraction(e){const t=Boolean(this.querySelector(":hover")||this.trigger?.matches(":hover")),s=Boolean(e&&(this.contains(e)||this.trigger?.contains(e))||this.querySelector(":focus")||this.trigger?.matches(":focus"));return t||s}hovercardShowHandler(e){e.target!==this&&this.close()}load(){return n(this).then(a(this._popperController.reposition)).then(a((e=>{this.hidden||e&&(this.focusManager?.refresh(),this.focusManager?.focus())})))}async show(){super.show(),this.partialLoading===t.h.Action&&this.load(),await this._popperController.currentState.animationFinished,this.focusManager?.focus(),this.addEventListener("focusout",this.handleFocusOut),document.addEventListener(this.emitter.eventId("open"),this.hovercardShowHandler),document.addEventListener("rpl-hovercard:show",this.rplHovercardShowHandler),this.cleanupTimeouts()}async close(){const e=super.close();document.removeEventListener(this.emitter.eventId("open"),this.hovercardShowHandler),document.removeEventListener("rpl-hovercard:show",this.rplHovercardShowHandler),this.cleanupTimeouts(),await e,this.removeTrigger()}removeTrigger(){this.removeAttribute("trigger")}handleKeydown(){this.removeTrigger()}connectedCallback(){super.connectedCallback(),this.setupAnchorElListeners()}disconnectedCallback(){this.cleanupAnchorElListeners(),super.disconnectedCallback(),this.cleanupTimeouts()}static get styles(){return[...super.styles,e.i`:host{display:contents}#faceplate-tooltip{display:flex;flex-direction:column;width:fit-content;justify-content:flex-start;align-items:flex-start;box-sizing:border-box;border-radius:1rem;box-shadow:var(--elevation-md);z-index:var(--faceplate-hovercard-z-index,1)}#faceplate-tooltip::after{display:none}`]}};e._([e.n({type:String})],h.prototype,"anchor",void 0),e._([e.k({slot:""})],h.prototype,"triggers",void 0),e._([e.k({slot:"content"})],h.prototype,"contents",void 0),e._([e.n({type:Number,attribute:"enter-delay"})],h.prototype,"mouseEnterDelay",void 0),e._([e.n({type:Number,attribute:"leave-delay"})],h.prototype,"mouseLeaveDelay",void 0),e._([e.n({type:Boolean,attribute:"close-on-track"})],h.prototype,"closeOnTrack",void 0),e._([e.n({type:Boolean,attribute:"disable-touch-activation",reflect:!0})],h.prototype,"disableTouchActivation",void 0),e._([e.n({type:String,attribute:"partial-loading"})],h.prototype,"partialLoading",void 0),e._([e.n({type:String})],h.prototype,"label",void 0),e._([e.n({type:Boolean,attribute:"mouse-only"})],h.prototype,"mouseOnly",void 0),e._([e.b()],h.prototype,"sleepAfterEscape",void 0),h=e._([e.c("faceplate-hovercard")],h);var l=Object.freeze({__proto__:null,get FaceplateHovercard(){return h}});return{get F(){return h},get f(){return l},l:n,s:a}}));
SML.dm("BeK4Ey44",["DSWSCRFk","DAgRafdt","TC9gnkab","CnL37q4H","D0xSKTja"],(async(t,e,s)=>{var i;!function(t){t.small="small",t.medium="medium"}(i||(i={}));let o=class extends t.s{constructor(){super(...arguments),this.size=i.medium}render(){return t.x` <button class="flex items-center justify-center p-0 m-0 border-none rounded-1 h-[var(--emote-btn-size)] w-[var(--emote-btn-size)] bg-transparent hover:bg-neutral-background-hover cursor-pointer"> <slot class="emote"></slot> </button> `}};function r({pageType:t,url:e}){return {page_type:t,...(e ? {pane_name:e} : {})};}function a({subredditId:t,subredditName:e}){return {id:t,...(e ? {name:e} : {})};}o.styles=[t.i`:host{--emote-btn-size:2.25rem;--emote-size:1.75rem;display:block}:host([size=small]){--emote-btn-size:1.25rem;--emote-size:1.25rem}.emote::slotted(img){width:var(--emote-size);height:var(--emote-size);object-fit:contain;margin:0!important;padding:0!important}`,e.t],t._([t.n({type:String,reflect:!0})],o.prototype,"size",void 0),o=t._([t.c("community-status")],o);const n=t=>e.b({source:s.S.COMMUNITY_STATUS,action:s.A.CLICK,noun:s.N.STATUS_LINK},{action_info:r(t),subreddit:a(t)}),l=t.s;let d=class extends l{constructor(){super(...arguments),this.subredditId="",this.subredditName="",this.open=()=>{this.bottomSheet?.showModal()},this.close=()=>{this.bottomSheet?.close()},this.handleKeyUp=t=>{"Enter"!==t.key&&"Space"!==t.key||this.close()},this.handleStatusClicks=t=>{const s=t.composedPath().find((t=>t instanceof HTMLAnchorElement));s&&e.a(this,n({subredditId:this.subredditId,subredditName:this.subredditName,pageType:this._getPageType(),url:s.href}))},this._getPageType=e.l}render(){return t.x` <button @click="${this.open}" class="m-0 p-0 border-none bg-transparent"> <slot name="trigger"></slot> </button> <faceplate-bottom-sheet id="bottom-sheet"> <div class="flex flex-col w-full box-border px-md py-xl"> <div class="flex justify-center align-center"> <slot name="emote"></slot> </div> <p class="text-center m-0 line-clamp-8 text-14 font-semibold"> ${""} <slot name="status" @click="${this.handleStatusClicks}"></slot> </p> <slot @click="${this.close}" @keyup="${this.handleKeyUp}" name="primary-btn"></slot> ${e.J({appearance:"secondary",attributes:{onclick:this.close,className:"mt-sm",id:"close-button"},children:"Close"})} </div> </faceplate-bottom-sheet> `;}};d.styles=[t.i`:host{display:inline-flex}slot[name=emote]::slotted(img){max-height:148px;margin-bottom:32px!important}slot[name=primary-btn]::slotted(*){margin-top:24px}`,e.t],t._([t.n({type:String,attribute:"subreddit-id"})],d.prototype,"subredditId",void 0),t._([t.n({type:String,attribute:"subreddit-name"})],d.prototype,"subredditName",void 0),t._([t.D("#bottom-sheet")],d.prototype,"bottomSheet",void 0),d=t._([t.c("community-status-bottom-sheet")],d);const m=t.s;let c=class extends m{constructor(){super(...arguments),this.subredditId="",this.subredditName="",this.handleClick=()=>{this.hovercard?.close()},this.handleKeyUp=t=>{"Enter"===t.key&&this.handleClick()},this.handleStatusClicks=t=>{const s=t.composedPath().find((t=>t instanceof HTMLAnchorElement));s&&e.a(this,n({subredditId:this.subredditId,subredditName:this.subredditName,pageType:this._getPageType(),url:s.href}))},this._getPageType=e.l}render(){return t.x` <faceplate-hovercard position="bottom" appearance="inverted"> <span> <slot name="trigger"></slot> </span> <article slot="content" class="flex flex-col relative py-sm w-[184px]"> <div class="absolute right-2xs top-2xs"> <slot name="edit-btn" @click="${this.handleClick}" @keyup="${this.handleKeyUp}"></slot> </div> <div class="flex justify-center align-center"> <slot name="emote"></slot> </div> <p class="text-center m-0 mt-md line-clamp-12 text-12"> ${""} <slot name="status" @click="${this.handleStatusClicks}"></slot> </p> </article> </faceplate-hovercard> `}};c.styles=[t.i`slot[name=emote]::slotted(img){max-height:140px;max-width:148px!important;margin-bottom:0!important}faceplate-hovercard::part(content-container){background:var(--color-neutral-content-strong)}`,e.t],t._([t.n({type:String,attribute:"subreddit-id"})],c.prototype,"subredditId",void 0),t._([t.n({type:String,attribute:"subreddit-name"})],c.prototype,"subredditName",void 0),t._([t.D("faceplate-hovercard")],c.prototype,"hovercard",void 0),c=t._([t.c("community-status-tooltip")],c)}));
SML.dm("DNMf5SJS",["DSWSCRFk","DAgRafdt","CpW6-tf_","DjoKwtwQ","C9Y39_ZO"],(async(t,a,i,e)=>{let s=class extends t.s{constructor(){super(...arguments),this.translationContextValue=a.ar,this.pubsub=new a.f(this),this.getIsTranslationActive=()=>{const t=i.i();return"boolean"==typeof this.postTranslated?this.postTranslated:t||!!this.translationContextValue?.isTranslationActive},this.onPostTranslationOverride=t=>{(t.id===this.postId||t.isContextUpdateEvent)&&(this.postTranslated=t.isTranslationActive)},this.handleClick=()=>{if(!this.postId)return;const t=a.l()===a.a6.PostDetail?"PDP":"FEED";this.pubsub.publish(a.T.I18nPostTranslationOverride,{id:this.postId,isTranslationActive:!this.getIsTranslationActive(),pageType:t});const i=document.querySelector(`shreddit-post[id*="${this.postId}"]`);a.a(this,e.o({archived:i?.archived,authorId:i?.authorId,createdTimestamp:i?.createdTimestamp,domain:i?.domain,id:this.postId,nsfw:i?.nsfw,promoted:i?.promoted,score:i?.score,spoiler:i?.spoiler,subredditId:i?.subredditId,subredditPrefixedName:i?.subredditPrefixedName,postTitle:i?.postTitle,postType:i?.postType,recommendationSource:i?.recommendationSource,commentCount:i?.commentCount,permalink:i?.permalink,postLanguage:i?.postLanguage,translationLanguage:this.translationLanguage,isPostTranslated:this.postTranslated}))}}connectedCallback(){super.connectedCallback(),this.pubsub.subscribe(a.T.I18nPostTranslationOverride,this.onPostTranslationOverride,!1);const t=i.P.get();this.isPdpBannerSettingEnabled=t?.isPdpBannerSettingEnabled??!0,this.pageType=a.l()}render(){return this.isPdpBannerSettingEnabled&&this.pageType===a.a6.PostDetail?t.A:t.x` <rpl-tooltip appearance="inverted" placement="top" trigger="hover focus" content="${this.getIsTranslationActive()?"Show original":"Translate"}"> ${a.J({appearance:"plain",attributes:{onclick:this.handleClick,"aria-label":"Toggle post translation"},leadingIcon:this.getIsTranslationActive()?t.ai({size:t.q.ExtraSmall,attributes:{"data-testid":"post-translation-status-icon-translated-icon","aria-label":"Post is translated",className:"text-primary-plain"}}):t.aj({size:t.q.ExtraSmall,attributes:{"data-testid":"post-translation-status-icon-original-icon","aria-label":"Post is in original language",className:"text-primary-plain"}}),size:a.a2.ExtraSmall})} </rpl-tooltip> `;}};s.styles=[a.t],t._([t.n({type:String,attribute:"post-id"})],s.prototype,"postId",void 0),t._([t.n({type:String,attribute:"translation-language"})],s.prototype,"translationLanguage",void 0),t._([a.aq({context:a.as,subscribe:!0}),t.b()],s.prototype,"translationContextValue",void 0),t._([t.b()],s.prototype,"postTranslated",void 0),t._([t.b()],s.prototype,"isPdpBannerSettingEnabled",void 0),t._([t.b()],s.prototype,"pageType",void 0),s=t._([t.c("post-translation-status-icon")],s)}));
SML.dm("CQZEB0Lf",["DSWSCRFk","DAgRafdt","DC_Hog5I","DjoKwtwQ","BHN2zcRJ","BR-9gnOG"],(async(t,e,i,s,o)=>{let r=class extends t.s{constructor(){super(...arguments),this.postId="",this.viewContext=s.P.AggregateFeed,this.viewType=e.$.CardView,this.showFullContent=!1,this.isUpdatingPostBody=!1,this.pubsub=new e.f(this),this.onPostUpdateAction=({postId:t,action:i,value:r})=>{if(this.postId===t)switch(i){case o.a.edit:this.editController?.setEditing(r);break;case o.a.updatePostBodyPending:this.isUpdatingPostBody=r;break;case o.a.updateContent:this.dispatchEvent(e.c(s.d,{postId:t})),this.editController?.resetEditing()}},this.revealTruncatedContent=()=>{this.querySelector(`#${this.postId}-overflow-cover`)?.classList?.add(s.C),this.readMoreButton?.classList?.remove(s.t),this.readMoreButton?.classList?.add(s.C);const t=this.querySelector(`#${this.postId}-post-rtjson-content`);t?.classList?.remove(...s.w.split(" "))},this.handleClickReadMore=()=>{this.revealTruncatedContent(),this.dispatchEvent(e.c(s.R,{postId:this.postId}))}}get isPDP(){return s.i(this.viewContext)}get readMoreButton(){return this.querySelector(`#${this.postId}-read-more-button`)}connectedCallback(){this.pubsub.subscribe(e.T.PostUpdated,this.onPostUpdateAction),this.readMoreButton?.addEventListener("click",this.handleClickReadMore),i.g()&&this.initEditTools(),super.connectedCallback()}disconnectedCallback(){this.readMoreButton?.removeEventListener("click",this.handleClickReadMore),super.disconnectedCallback()}checkPostEditMode(){const t=new URLSearchParams(window.location.search);if(t.get(o.c)){this.pubsub.publish(e.T.PostUpdated,{postId:this.postId,action:o.a.edit,value:!0}),t.delete(o.c);const i=t.toString(),s=window.location.pathname+(i.length?"?":"")+i;window.history.replaceState({},document.title,s)}}async initEditTools(){const{EditController:t}=await Promise.resolve().then((function(){return d}));this.editController=new t(this,{getPostId:()=>this.postId,getViewContext:()=>this.viewContext});const{PartialUpdateController:e}=await SML.di("./1fCGQr3B.js",import.meta.url,"1fCGQr3B");this.partialUpdateController=new e(this,{getPostId:()=>this.postId,getViewContext:()=>this.viewContext,getViewType:()=>this.viewType,getSubredditPrefixedName:()=>this.subredditPrefixedName}),this.checkPostEditMode()}handleTextBodySlotChange(t){this.showFullContent||requestAnimationFrame((()=>this.hideContentOverflow()))}hideContentOverflow(){const t=this.querySelector(`#${this.postId}-post-rtjson-content`);if(!t)return;const e=this.querySelector(".post-content")||this.querySelector('div[slot="text-body"]'),i=e?.querySelectorAll("faceplate-img"),o=.2*window.innerHeight,r=(i?.length||0)*o,n=this.getMaxTextBodyHeight(t.clientHeight);t.scrollHeight+r>n&&(this.querySelector(`#${this.postId}-overflow-cover`)?.classList?.remove(s.C),this.readMoreButton?.classList?.remove(s.C),this.readMoreButton?.classList?.add(s.t))}getMaxTextBodyHeight(t){return this.isPDP?Math.max(t,253):208}render(){if(this.isUpdatingPostBody)return t.x` <faceplate-shimmer class="h-[200px] w-full px-md xs:px-0" shape="pill"></faceplate-shimmer> `;if(this.editController?.isEditing)return this.editController?.renderEditor();return t.x`<slot @slotchange="${this.handleTextBodySlotChange}" name="${"text-body"}"></slot>`}};r.styles=[e.t],t._([t.n({type:String,attribute:"post-id"})],r.prototype,"postId",void 0),t._([t.n({type:String,attribute:"view-context"})],r.prototype,"viewContext",void 0),t._([t.n({type:String,attribute:"view-type"})],r.prototype,"viewType",void 0),t._([t.n({type:String,attribute:"subreddit-prefixed-name"})],r.prototype,"subredditPrefixedName",void 0),t._([t.n({type:Boolean,attribute:"show-full-content"})],r.prototype,"showFullContent",void 0),t._([t.b()],r.prototype,"isUpdatingPostBody",void 0),r=t._([t.c("shreddit-post-text-body")],r);const n="fetch-post-edit";var d=Object.freeze({__proto__:null,EditController:class{get postId(){return this.args.getPostId()}get viewContext(){return this.args.getViewContext()}constructor(i,s){this.host=i,this.args=s,this._isEligibleForPartialUpdate=!1,this._renderedPartial=!1,this.isEditing=!1,this.setEditing=t=>{this._isEligibleForPartialUpdate&&(t&&!this._renderedPartial?this.host.dispatchEvent(new CustomEvent(n)):this.host.requestUpdate(),this.isEditing=t)},this.resetEditing=()=>{this.isEditing=!1,this._renderedPartial=!1},this.getAndRenderPostEditPartial=async()=>{e.p(e.T.PostUpdated,{postId:this.postId,action:o.a.updatePostBodyPending,value:!0});const t=`/svc/shreddit/edit-post/${this.postId}`,i=await this._partialRequest.request(t),s=await(i?.text());if(s){const t=(new DOMParser).parseFromString(s,"text/html").querySelector('[slot="post-editor"]');t?.innerHTML&&(e.ax(s,this.host,e.P.Append),this._renderedPartial=!0)}e.p(e.T.PostUpdated,{postId:this.postId,action:o.a.updatePostBodyPending,value:!1})},this.renderEditor=()=>t.x`<slot name="post-editor"></slot> `,this._partialRequest=new e.aw(i),i.addController(this)}hostConnected(){this._isEligibleForPartialUpdate=this.viewContext===s.P.CommentsPage,this._isEligibleForPartialUpdate&&this.host.addEventListener(n,this.getAndRenderPostEditPartial)}hostDisconnected(){this._isEligibleForPartialUpdate&&this.host.removeEventListener(n,this.getAndRenderPostEditPartial)}},FetchPostEditEvent:n})}));
SML.dm("DR1lXXXo",["DAgRafdt","DSWSCRFk","CI9WNRQ4","DopldlAx","DQXXTaM1","B8-IyY8g","DKwanWKg","D3kSdV85","ChjKW6Bj","DWqMJclr","ByrM8F6V","D5m5od_j","BeK4Ey44","CJjbk0RM","C9Y39_ZO","DNMf5SJS","CQZEB0Lf","BHs0pHn7","BHN2zcRJ","s1sP3jLz","3kt68AAF","OAEZpqSu","B-5QOdMh","2B0_AwMn","BR-9gnOG","BP7JtdRP","Vy1IDB19","BVLgyhDE","Dj1DJbmt","DxYz4TCM","DDc9KuQK","CPcvYJxh","Dnwr24bF","C0wp0zNv","FDsJDUC0","CGzEIBwW","DxvZ7Xss","CA4SrzzK","DBzUXR7c","CgKqrNya","BY5z-EI0","BwmVBZAv","pwr-4fHs","DKSHlBZ6","D2BNDN4c","CQpKaH3e","3FgK-N4H","DlE9CkNL","6McvgT3C","OHC4dymT","C-AymPzu","CnL37q4H","CU4mObWU","Sb16lf7H","DjoKwtwQ","kmRFweAm","CgIWqP9n","CI_qZzc8","CGooZ66g","BcykV95-","zizV9pIX","DC_Hog5I","BWajOdpP","SRPsYjuk","CpW6-tf_","em8GmEry","eWX2uq3T","DLKm42XZ","Sr8pLEMb","9JRUflSw","DUYFo2YU","TC9gnkab","D0xSKTja","BWRmaaMs"],(async(E,T)=>{let _=class extends T.s{constructor(){super(...arguments),this.isTranslationActive=!1,this.isTranslationFetched=!1,this.isOriginalFetched=!0,this.updateTranslationFetchedState=()=>{const E=this.shadowRoot?.querySelector('slot[name="translated"]');this.isTranslationFetched=(E?.assignedNodes().length||0)>0;const T=this.shadowRoot?.querySelector("slot#original");this.isOriginalFetched=(T?.assignedNodes().length||0)>0}}connectedCallback(){super.connectedCallback(),this.updateTranslationFetchedState()}appendTranslation(E){E&&!this.isTranslationFetched&&(E.setAttribute("slot","translated"),this.appendChild(E))}appendOriginalText(E){E&&!this.isOriginalFetched&&(E.removeAttribute("slot"),this.appendChild(E))}render(){const E=this.isTranslationActive&&this.isTranslationFetched;return T.x` <slot id="original" class="${E?"hidden":"contents"}" @slotchange="${this.updateTranslationFetchedState}"></slot> <slot name="translated" class="${E?"contents":"hidden"}" @slotchange="${this.updateTranslationFetchedState}"></slot> `}};_.styles=[E.t],T._([T.n({type:Boolean,attribute:"is-translation-active",reflect:!0})],_.prototype,"isTranslationActive",void 0),T._([T.b()],_.prototype,"isTranslationFetched",void 0),T._([T.b()],_.prototype,"isOriginalFetched",void 0),_=T._([T.c("translatable-text")],_)}));
SML.dm("BrhgMrUY",["DSWSCRFk","DAgRafdt"],(async e=>{let r=class extends e.s{constructor(){super(...arguments),this.revealed=!1,this.blockRevealOnClick=!1}static get styles(){return e.i`.outer{background:var(--color-category-spoiler);border-radius:2px;cursor:pointer;line-height:21px;transition:background ease-out 1s;border:none;padding:0;font:inherit;color:inherit;margin-right:.25rem}.inner{opacity:0;transition:opacity ease-out 1s;margin-right:-.25rem}.revealed.outer{background:0 0}.revealed .inner{opacity:1}`}revealSpoiler(e){this.revealed||e.preventDefault(),this.revealed=!0}handleKeyPress(e){"Enter"!==e.key&&" "!==e.key||this.revealSpoiler(e)}render(){return this.blockRevealOnClick?e.x` <span class="outer"> <span class="inner" aria-hidden="true"> <slot></slot> </span> </span> `:e.x` <span class="outer${this.revealed?" revealed":""}" title="${"Reveal Spoiler"}" role="button" @click="${this.revealSpoiler}" @keypress="${this.handleKeyPress}" tabindex="0"> <span class="inner" aria-hidden="${!this.revealed}"> <slot></slot> </span> </span> `;}};e._([e.b()],r.prototype,"revealed",void 0),e._([e.n({type:Boolean,attribute:"block-reveal-on-click"})],r.prototype,"blockRevealOnClick",void 0),r=e._([e.c("shreddit-spoiler")],r)}));
SML.dm("CPgwDagn",["DSWSCRFk","DAgRafdt","Sb16lf7H","OAEZpqSu"],(async(t,e,i,n)=>{const o=[{key:"TOTAL_MRC_VIEWABLE_TIME",playing:!0,threshold:e.bw.VIEWABILITY_THRESHOLD},{key:"TOTAL_AUDIBLE_TIME",playing:!0,threshold:0,withSound:!0},{key:"HALF_DURATION_80_IN_VIEW_AUDIBLE",playing:!0,withSound:!0,threshold:e.bw.EIGHTY_VIEWABILITY_THRESHOLD},{key:"FULL_IN_VIEW_AUDIBLE_TIME",playing:!0,threshold:e.bw.FULL_VIEWABILITY_THRESHOLD,withSound:!0},{key:"FULL_IN_VIEW_TIME",playing:!0,threshold:e.bw.FULL_VIEWABILITY_THRESHOLD},{key:"ANY_IN_VIEW_TIME",playing:!0,threshold:e.bw.VISIBILITY_THRESHOLD},{key:"FIFTY_IN_VIEW_TIME",playing:!0,threshold:e.bw.VIEWABILITY_THRESHOLD},{key:"EIGHTY_IN_VIEW_TIME",playing:!0,threshold:e.bw.EIGHTY_VIEWABILITY_THRESHOLD}];function r(t,e){const i=new URL(t);return Object.entries(e).forEach((([t,e])=>{i.searchParams.set(t,String(e))})),i.toString()}const a=o.map((t=>t.key));const s="noopener nofollow sponsored";let d=class extends t.s{constructor(){super(...arguments),this.impressionId="0",this.clickLocation=e.ab.UNKNOWN,this.renderAsButton=!1,this.ButtonProps={},this.anchorStyleClass="",this.isOutboundLinkInitialized=!1}static get styles(){return[e.t,e.z("a {\n  color: inherit;\n  text-decoration: none;\n}\nbutton {\n  all: unset;\n  display: inline-block;\n  height: 100%;\n  width: 100%;\n  background: transparent;\n  cursor: pointer;\n}\n")]}get effectiveOutboundLink(){const t=this.outboundLinkOverride??(this.outboundLinkUrl||"");return n.a6(t)&&this.metadata?r(t,this.metadata):t}get calculatedTabIndex(){return this.disableKeyboardNav?"-1":""===this.effectiveOutboundLink?"0":void 0}connectedCallback(){super.connectedCallback(),void 0===this.outboundLinkOverride&&(this.outboundLinkUrl=this.getOutboundLinkUrlFromParent(),this.isOutboundLinkInitialized=!0)}updated(t){void 0===this.outboundLinkOverride&&t.has("galleryIndex")&&(this.outboundLinkUrl=this.getOutboundLinkUrlFromParent())}getOutboundLinkUrlFromParent(){const t=i.g(this);if(!t)return;if(void 0===this.galleryIndex)return t.getAttribute("outbound-link-url");const e=t.getAttribute("gallery-items");let n;try{n=JSON.parse(e||"[]")}catch{n=[]}return n[this.galleryIndex]?.outboundUrl}fetchAndUpdateMetadata(){if(!n.a6(this.effectiveOutboundLink))return;const t=i.g(this);if(!t)return;const o=t.getMetadataForPixelEvent(e.bx.CLICK);o&&(this.metadata=o)}handleClick(t){if("auxclick"!==t.type||1===t.button){if(void 0!==this.outboundLinkOverride||this.isOutboundLinkInitialized||(this.outboundLinkUrl=this.getOutboundLinkUrlFromParent(),this.isOutboundLinkInitialized=!0),n.a7(this.effectiveOutboundLink)&&"_blank"===this.target&&e.by(this.impressionId),this.fetchAndUpdateMetadata(),i.t({el:this,clickLocation:this.clickLocation,galleryIndex:this.galleryIndex}),i.a({el:this,clickLocation:this.clickLocation,outboundUrl:this.effectiveOutboundLink,galleryIndex:this.galleryIndex}),function(t){const i=t=>{try{return t()}catch{return null}};let n=i((()=>new URL(t)));return n||(n=i((()=>new URL(t,location.origin)))),!!n&&"1"===n.searchParams.get(e.bv)}(this.effectiveOutboundLink)){const t=this.closest("shreddit-ad-post");if(!t)return;i.s({impressionId:this.impressionId,adEvents:t.adEvents,clickRedirectUrl:this.effectiveOutboundLink}),i.b(t.adUserTargeting)}n.a7(this.effectiveOutboundLink)&&"contextmenu"!==t.type&&e.ai(e.bz)&&(t.preventDefault(),this.fetchAndUpdateMetadata(),window.open(this.effectiveOutboundLink,this.target||"_self"))}}render(){const i=this.effectiveOutboundLink||void 0,o=t.x`<slot></slot>`;if(this.renderAsButton)return e.J({appearance:n.a8()?"secondary":"bordered",children:o,size:e.a2.Medium,attributes:{href:i,onclick:this.handleClick,oncontextmenu:this.handleClick,target:this.target,rel:s,className:this.anchorStyleClass},...this.ButtonProps});const r=this.effectiveOutboundLink||"_self"===this.target,a=n.j(this.anchorStyleClass,r?"cursor-pointer":"cursor-default");return t.x`<a class="${a}" href="${t.l(i)}" target="${t.l(this.target)}" tabindex="${t.l(this.calculatedTabIndex)}" @click="${this.handleClick}" @mouseover="${this.fetchAndUpdateMetadata}" @focus="${this.fetchAndUpdateMetadata}" @contextmenu="${this.handleClick}" @auxclick="${this.handleClick}" rel="${s}" role="${i?"link":"button"}" aria-label="${t.l(this.ariaLabel)}"> ${o} </a>`}};return t._([t.n({type:String,attribute:"outbound-link-override",reflect:!0})],d.prototype,"outboundLinkOverride",void 0),t._([t.n({type:String,attribute:"impression-id"})],d.prototype,"impressionId",void 0),t._([t.n({type:String,attribute:"click-location"})],d.prototype,"clickLocation",void 0),t._([t.n({type:String,attribute:"post-id"})],d.prototype,"postId",void 0),t._([t.n({type:Number,attribute:"gallery-index",reflect:!0})],d.prototype,"galleryIndex",void 0),t._([t.n({type:String})],d.prototype,"target",void 0),t._([t.n({type:Boolean,attribute:"disable-keyboard-nav"})],d.prototype,"disableKeyboardNav",void 0),t._([t.n({type:Boolean,attribute:"render-as-button"})],d.prototype,"renderAsButton",void 0),t._([t.n({type:Object,attribute:"button-props"})],d.prototype,"ButtonProps",void 0),t._([t.n({type:String,attribute:"anchor-style-class"})],d.prototype,"anchorStyleClass",void 0),t._([t.D("a")],d.prototype,"anchorEl",void 0),t._([t.D("slot")],d.prototype,"slotEl",void 0),t._([t.b()],d.prototype,"outboundLinkUrl",void 0),t._([t.b()],d.prototype,"metadata",void 0),d=t._([t.c("shreddit-dynamic-ad-link")],d),{get S(){return d},V:o,a:r,b:a,g:t=>t.reduce(((t,e)=>(t[e]={maxContinuousTime:0,currentContinuousTime:0,totalTime:0},t)),{})}}));
SML.dm("CwcnPeis",["DSWSCRFk","DAgRafdt","CPgwDagn"],(async(t,e)=>{let r=class extends t.s{constructor(){super(...arguments),this.postId="",this.impressionId="0",this.clickLocation=e.ab.UNKNOWN,this.anchorStyleClass="",this.renderAsButton=!1,this.buttonProps={},this._currGalleryIndex=0,this._currGalleryItemText="",this.handleGalleryNavEvent=t=>{t!==this._currGalleryIndex&&(this._currGalleryIndex=t,this.galleryContent&&(this._currGalleryItemText=this.galleryContent[this._currGalleryIndex]))}}connectedCallback(){super.connectedCallback(),this._currGalleryItemText=this.galleryContent?.[this._currGalleryIndex]}createRenderRoot(){return this}render(){return this.galleryContent&&!this._currGalleryItemText?t.A:t.x` <shreddit-dynamic-ad-link target="_blank" post-id="${this.postId}" impression-id="${this.impressionId}" gallery-index="${this._currGalleryIndex}" click-location="${this.clickLocation}" anchor-style-class="${this.anchorStyleClass}" ?render-as-button="${this.renderAsButton}" .ButtonProps="${this.buttonProps}">${this._currGalleryItemText}</shreddit-dynamic-ad-link>`}};r.styles=[e.t],t._([t.n({type:String,attribute:"post-id"})],r.prototype,"postId",void 0),t._([t.n({type:String,attribute:"impression-id"})],r.prototype,"impressionId",void 0),t._([t.n({type:String,attribute:"click-location"})],r.prototype,"clickLocation",void 0),t._([t.n({type:String})],r.prototype,"target",void 0),t._([t.n({type:String,attribute:"anchor-style-class"})],r.prototype,"anchorStyleClass",void 0),t._([t.n({type:Boolean,attribute:"render-as-button"})],r.prototype,"renderAsButton",void 0),t._([t.n({type:Object,attribute:"button-props"})],r.prototype,"buttonProps",void 0),t._([t.n({type:Array,attribute:"gallery-content"})],r.prototype,"galleryContent",void 0),t._([t.b()],r.prototype,"_currGalleryIndex",void 0),t._([t.b()],r.prototype,"_currGalleryItemText",void 0),r=t._([t.c("call-to-action-gallery-links")],r)}));
SML.dm("CX777JIl",["DAgRafdt","CPgwDagn","OAEZpqSu","Sb16lf7H","BHN2zcRJ"],(async(e,t,i,s,r)=>{const n=new Set(["t3_103b4tl","t3_u1cuyg","t3_103bmpv","t3_xipqoc","t3_xipsi3"]);function a(e){const t=new Map;return e.forEach((e=>{const i=t.get(e.type)||[];i.push(e),t.set(e.type,i)})),t}function o(e){return!!e.encryptedTrackingId}function d(e,t){return e.encryptedTrackingId+t.additionalEventMetadata}function l({pixelEvent:e,pixelRequestBody:t,metadata:i,target:s}){if(!e.encryptedTrackingId)return;if(u(e.type))return d(e,t);const r=i?function(e){return Object.entries(e).reduce(((e,[t,i])=>(e[t]=i.toString(),e)),{})}(i):{};return fetch("https://alb.reddit.com/track",{method:"POST",mode:"no-cors",body:JSON.stringify({encryptedTrackingId:e.encryptedTrackingId,encryptedTrackingPayload:t.encryptedTrackingPayload,additionalEventMetadata:t.additionalEventMetadata,clientImpressionID:t.impressionId,...r})}).then((()=>{T(s,"succeeded",e)})).catch((t=>{const i="Sentry"in window?window.Sentry:void 0;i?.captureException&&i.captureException(new Error(`Error in POST response from pixel server for pixel of type ${e.type}: ${t}`)),T(s,"failed",e)})),d(e,t)}function h(t){return!!e.dX.includes(t)||e.dY.some((({experimentName:i,pixelEventTypes:s})=>e.ai(i)&&s.includes(t)))}function u(t){return e.d$.some((({experimentName:i,pixelEventTypes:s})=>e.ai(i)&&s.includes(t)))}function m({target:t,pixelEvent:r,impressionId:n,displayMetadata:a,videoMetadata:d,pixelRequestBody:l}){const h=s.P[r.type];if(!h)return;const u={impression_id:n,event_timestamp:Math.floor(Date.now()),display_metadata:a,video_metadata:d,additional_metadata:l.additionalEventMetadata};if(o(r))u.encrypted_tracking_id=r.encryptedTrackingId,u.encrypted_tracking_payload=l.encryptedTrackingPayload;else{if(!i.a6(r.url))return;const{encryptedTrackingId:e,encryptedTrackingPayload:t}=function(e){const t=new URL(e);return{encryptedTrackingPayload:t.searchParams.get("za")||"",encryptedTrackingId:t.searchParams.get("zp")||""}}(r.url);u.encrypted_tracking_id=e,u.encrypted_tracking_payload=t}const m={client_ad_event_metadata:u,video_watch_metadata:e.dZ[r.type],vendor_fully_in_view_metadata:e.d_[r.type],screen:{height:window.screen.height,width:window.screen.width}};e.a(t,e.b(h,m))}function T(t,s,r){if(e.ai(e.e0))return;if(!o(r)&&!i.a6(r.url))return;const n=e.e1({name:"ads_igif_requests_total",value:1,label_values:[`tracking_type,${e.bx[r.type]}`,`request_stage,${s}`]});e.a(t,n)}class c{constructor(t,i){this.impressionTimestamp=0,this.wasEverViewableTimer={fired:!1},this.largeAdFullViewTimer={fired:!1},this.hasDispatchedViewEvent=!1,this.resetTimers=()=>{for(const e of this.pixelTimers.keys())this.clearPixelTimer(e);for(const e of this.continuousTimers.keys())this.unsetContinuousTimer(e);for(const e of this.cumulativeTimers.keys())this.pauseCumulativeTimer(e);this.wasEverViewableTimer.timer&&(clearTimeout(this.wasEverViewableTimer.timer),this.wasEverViewableTimer.timer=void 0),this.largeAdFullViewTimer.timer&&(clearTimeout(this.largeAdFullViewTimer.timer),this.largeAdFullViewTimer.timer=void 0)},this.pixelFiringController=i,this.getFiredRedditPixelsCount=t.getFiredRedditPixelsCount,this.postId=t.postId,this.impressionId=t.impressionId,this.postElement=t.postElement,this.galleryItems=t.galleryItems,this.pixelTimers=new Map,this.cumulativeTimers=new Map,this.continuousTimers=new Map,this.setupUnloadFiring(),this.isProductAd=t.events.some((t=>t.type===e.bx.PRODUCT_CLICK||t.type===e.bx.PRODUCT_IMPRESSION))}setupUnloadFiring(){if(window.addEventListener(e.am.eventType,(()=>this.handleUnload())),n.has(this.postId)){const t=new URLSearchParams(e.dr.search),i=Number.parseInt(t.get(e.e2)||"");isNaN(i)||window.setTimeout((()=>this.fireUnloadPixel()),i)}}getCumulativeTimes(t){const i=this.updateCumulativeTimer(e.dt.ANY_TOTAL_VIEW_TIME,t),s=this.updateCumulativeTimer(e.dt.FIFTY_TOTAL_VIEW_TIME,t),r=this.updateCumulativeTimer(e.dt.FULL_TOTAL_VIEW_TIME,t),n=this.updateCumulativeTimer(e.dt.EIGHTY_TOTAL_VIEW_TIME,t);return{totalViewTime:i?.cumulativeTime||0,fiftyViewTime:s?.cumulativeTime||0,fullViewTime:r?.cumulativeTime||0,eightyViewTime:n?.cumulativeTime||0}}getContinuousTimes(t){const i=this.updateContinuousTimer(e.dt.ANY_CONTINUOUS_VIEW_TIME,t),s=this.updateContinuousTimer(e.dt.FIFTY_CONTINUOUS_VIEW_TIME,t),r=this.updateContinuousTimer(e.dt.FULL_CONTINUOUS_VIEW_TIME,t),n=this.updateContinuousTimer(e.dt.EIGHTY_CONTINUOUS_VIEW_TIME,t),a=this.updateContinuousTimer(e.dt.THIRTY_CONTINUOUS_VIEW_TIME,t);return{maxAnyViewTime:i?.maxContinuousTime||0,maxFiftyViewTime:s?.maxContinuousTime||0,maxFullViewTime:r?.maxContinuousTime||0,maxEightyViewTime:n?.maxContinuousTime||0,maxThirtyViewTime:a?.maxContinuousTime||0}}getMetadata(t){const i=Date.now(),{totalViewTime:s,fiftyViewTime:r,fullViewTime:n,eightyViewTime:a}=this.getCumulativeTimes(i),{maxAnyViewTime:o,maxFiftyViewTime:d,maxFullViewTime:l,maxEightyViewTime:h,maxThirtyViewTime:u}=this.getContinuousTimes(i),m=this.pixelTimers.get(e.bx.GROUP_M_VIEWABLE)?.fired||t===e.bx.GROUP_M_VIEWABLE,T=t===e.bx.VIEWABLE_IMPRESSION||this.wasEverViewableTimer.fired;t===e.bx.IMPRESSION&&0===this.impressionTimestamp&&(this.impressionTimestamp=i);const c=this.postElement?.getBoundingClientRect(),E=Math.floor(c?.width??0),_=Math.floor(c?.height??0),I=this.getFiredRedditPixelsCount?.()||0,p=new URLSearchParams(e.dr.search).get(e.e3);return{[e.dt.ANY_TOTAL_VIEW_TIME]:s,[e.dt.FIFTY_TOTAL_VIEW_TIME]:r,[e.dt.EIGHTY_TOTAL_VIEW_TIME]:a,[e.dt.FULL_TOTAL_VIEW_TIME]:n,[e.dt.ANY_CONTINUOUS_VIEW_TIME]:o,[e.dt.FIFTY_CONTINUOUS_VIEW_TIME]:d,[e.dt.THIRTY_CONTINUOUS_VIEW_TIME]:u,[e.dt.EIGHTY_CONTINUOUS_VIEW_TIME]:h,[e.dt.FULL_CONTINUOUS_VIEW_TIME]:l,[e.dt.GLOBAL_COUNT]:I,[e.dt.GROUP_M_VIEWABLE]:m?1:0,[e.dt.AD_LOAD_TIME]:this.impressionTimestamp,[e.dt.TIMESTAMP]:i,[e.dt.WAS_EVER_VIEWABLE]:T?1:0,[e.dt.LARGE_AD_FULL_VIEW]:this.largeAdFullViewTimer.fired?1:0,[e.dt.HEIGHT]:_,[e.dt.WIDTH]:E,[e.dt.SCREEN_HEIGHT]:window.screen.height,[e.dt.SCREEN_WIDTH]:window.screen.width,...null!==p&&{[e.dt.TEST_ID]:p}}}getAdEventDisplayMetadata(){const e=Date.now(),{totalViewTime:t,fiftyViewTime:i,eightyViewTime:s,fullViewTime:r}=this.getCumulativeTimes(e),{maxAnyViewTime:n,maxThirtyViewTime:a,maxFiftyViewTime:o,maxEightyViewTime:d,maxFullViewTime:l}=this.getContinuousTimes(e),h=this.postElement?.getBoundingClientRect(),u=Math.floor(h?.width??0),m=Math.floor(h?.height??0);return{any_total_view_time_ms:Math.floor(t),fifty_total_view_time_ms:Math.floor(i),eighty_total_view_time_ms:Math.floor(s),full_total_view_time_ms:Math.floor(r),any_continuous_view_time_ms:Math.floor(n),thirty_continuous_view_time_ms:Math.floor(a),fifty_continuous_view_time_ms:Math.floor(o),eighty_continuous_view_time_ms:Math.floor(d),full_continuous_view_time_ms:Math.floor(l),height:m,width:u,screen_width:Math.floor(window.screen.width),screen_height:Math.floor(window.screen.height)}}getAdEventVideoMetadata(){}getPixelScalingFields(e){return{encryptedTrackingPayload:this.postElement.encryptedTrackingPayload||"",additionalEventMetadata:this.postElement.additionalEventMetadata?this.postElement.additionalEventMetadata[e||0]:"",impressionId:this.impressionId}}firePixel(e,t){const i=h(e);this.pixelFiringController.firePixel({pixelEventType:e,metadata:this.getMetadata(e),displayMetadata:i?this.getAdEventDisplayMetadata():void 0,videoMetadata:i?this.getAdEventVideoMetadata():void 0,galleryIndex:t})}fireUnloadPixel(){this.firePixel(e.bx.UNLOAD)}measureViewChange(t){const i=this.postElement?.getBoundingClientRect(),s=Math.floor(i?.width??0),r=Math.floor(i?.height??0),n=r*s,a=n>=242500,o=r>document.documentElement.clientHeight;if(t.intersectionRatio){this.setCumulativeTimer(e.dt.ANY_TOTAL_VIEW_TIME),this.setContinuousTimer(e.dt.ANY_CONTINUOUS_VIEW_TIME),this.measureImpressionPixel(),this.galleryItems?.length?this.measureGalleryItemImpression():this.isProductAd&&this.measureProductImpression(),e.e4.queuePostForUnload(this.postId,this.impressionId,this.getMetadata.bind(this),this.pixelFiringController.firePixel.bind(this),this.getPixelScalingFields.bind(this));const t=this.postElement,i=this.galleryItems;if(!this.hasDispatchedViewEvent&&t&&!t.isBlank){const s=e.c("observe-post-view-ad",{postId:this.postId,post:t,galleryItems:i||[]});this.postElement.dispatchEvent(s),this.hasDispatchedViewEvent=!0}}else this.unsetContinuousTimer(e.dt.ANY_CONTINUOUS_VIEW_TIME),this.pauseCumulativeTimer(e.dt.ANY_TOTAL_VIEW_TIME);if(t.intersectionRatio>=e.bw.LARGE_AD_FULL_VIEW_THRESHOLD?this.setContinuousTimer(e.dt.THIRTY_CONTINUOUS_VIEW_TIME):this.unsetContinuousTimer(e.dt.THIRTY_CONTINUOUS_VIEW_TIME),t.intersectionRatio>=e.bw.VIEWABILITY_THRESHOLD){this.setCumulativeTimer(e.dt.FIFTY_TOTAL_VIEW_TIME),this.setContinuousTimer(e.dt.FIFTY_CONTINUOUS_VIEW_TIME),this.pixelTimers.has(e.bx.VIEWABLE_IMPRESSION)||this.setPixelTimer(e.bx.VIEWABLE_IMPRESSION,1e3),this.wasEverViewableTimer.timer||this.wasEverViewableTimer.fired||(this.wasEverViewableTimer.timer=setTimeout((()=>{this.wasEverViewableTimer.timer&&(this.wasEverViewableTimer.fired=!0,this.wasEverViewableTimer.timer=void 0)}),1e3));const t=this.cumulativeTimers.get(e.dt.FIFTY_TOTAL_VIEW_TIME);t&&(this.pixelTimers.has(e.bx.VENDOR_FULLY_IN_VIEW_5_SECS)||this.setPixelTimer(e.bx.VENDOR_FULLY_IN_VIEW_5_SECS,5e3-t.cumulativeTime),this.pixelTimers.has(e.bx.VENDOR_FULLY_IN_VIEW_15_SECS)||this.setPixelTimer(e.bx.VENDOR_FULLY_IN_VIEW_15_SECS,15e3-t.cumulativeTime))}else this.pixelTimers.has(e.bx.VIEWABLE_IMPRESSION)&&this.clearPixelTimer(e.bx.VIEWABLE_IMPRESSION),this.pixelTimers.has(e.bx.VENDOR_FULLY_IN_VIEW_5_SECS)&&this.clearPixelTimer(e.bx.VENDOR_FULLY_IN_VIEW_5_SECS),this.pixelTimers.has(e.bx.VENDOR_FULLY_IN_VIEW_15_SECS)&&this.clearPixelTimer(e.bx.VENDOR_FULLY_IN_VIEW_15_SECS),this.pauseCumulativeTimer(e.dt.FIFTY_TOTAL_VIEW_TIME),this.unsetContinuousTimer(e.dt.FIFTY_CONTINUOUS_VIEW_TIME);t.intersectionRatio>=e.bw.EIGHTY_VIEWABILITY_THRESHOLD?(this.setCumulativeTimer(e.dt.EIGHTY_TOTAL_VIEW_TIME),this.setContinuousTimer(e.dt.EIGHTY_CONTINUOUS_VIEW_TIME)):(this.pauseCumulativeTimer(e.dt.EIGHTY_TOTAL_VIEW_TIME),this.unsetContinuousTimer(e.dt.EIGHTY_CONTINUOUS_VIEW_TIME)),t.intersectionRatio>=e.bw.FULL_VIEWABILITY_THRESHOLD?(this.setCumulativeTimer(e.dt.FULL_TOTAL_VIEW_TIME),this.setContinuousTimer(e.dt.FULL_CONTINUOUS_VIEW_TIME)):(this.pauseCumulativeTimer(e.dt.FULL_TOTAL_VIEW_TIME),this.unsetContinuousTimer(e.dt.FULL_CONTINUOUS_VIEW_TIME)),t.intersectionRatio<e.bw.VIEWABILITY_THRESHOLD&&this.wasEverViewableTimer.timer&&(clearTimeout(this.wasEverViewableTimer.timer),this.wasEverViewableTimer.timer=void 0);a&&t.intersectionRatio>=e.bw.LARGE_AD_FULL_VIEW_THRESHOLD||t.intersectionRatio>=e.bw.FULL_VIEWABILITY_THRESHOLD?this.largeAdFullViewTimer.timer||this.largeAdFullViewTimer.fired||(this.largeAdFullViewTimer.timer=setTimeout((()=>{this.largeAdFullViewTimer.timer&&(this.largeAdFullViewTimer.fired=!0,this.largeAdFullViewTimer.timer=void 0)}),1e3)):this.largeAdFullViewTimer.timer&&(clearTimeout(this.largeAdFullViewTimer.timer),this.largeAdFullViewTimer.timer=void 0),o?1!==t.intersectionRatio||this.pixelTimers.has(e.bx.GROUP_M_VIEWABLE)?n*t.intersectionRatio<1&&this.pixelTimers.has(e.bx.GROUP_M_VIEWABLE)&&this.clearPixelTimer(e.bx.GROUP_M_VIEWABLE):this.setPixelTimer(e.bx.GROUP_M_VIEWABLE,1e3):t.intersectionRatio>=e.bw.FULL_VIEWABILITY_THRESHOLD?(this.pixelTimers.has(e.bx.GROUP_M_VIEWABLE)||this.setPixelTimer(e.bx.GROUP_M_VIEWABLE,1e3),this.pixelTimers.has(e.bx.VENDOR_FULLY_IN_VIEW)||this.setPixelTimer(e.bx.VENDOR_FULLY_IN_VIEW,100)):(this.pixelTimers.has(e.bx.GROUP_M_VIEWABLE)&&this.clearPixelTimer(e.bx.GROUP_M_VIEWABLE),this.pixelTimers.has(e.bx.VENDOR_FULLY_IN_VIEW)&&this.clearPixelTimer(e.bx.VENDOR_FULLY_IN_VIEW))}clearPixelTimer(e){const t=this.pixelTimers.get(e);t?.timer&&(clearTimeout(t.timer),this.pixelTimers.delete(e))}setPixelTimer(e,t){const i=this.pixelTimers.get(e)?.fired;i||(this.pixelTimers.get(e)?.timer&&this.clearPixelTimer(e),this.pixelTimers.set(e,{timer:setTimeout((()=>{this.pixelTimers.get(e)&&(this.firePixel(e),this.pixelTimers.set(e,{fired:!0,timer:void 0}))}),t)}))}handleClickRedirect(i,s){const r=this.getMetadata(e.bx.CLICK);this.pixelFiringController.fireDebugPixel({pixel:t.a(i,r),pixelEvent:{url:i,type:e.bx.CLICK,metadata:r},impressionId:this.impressionId,postId:this.postId}),this.isProductAd&&this.firePixel(e.bx.PRODUCT_CLICK,s)}measureImpressionPixel(){this.firePixel(e.bx.IMPRESSION)}measureGalleryItemImpression(t=0){this.firePixel(e.bx.GALLERY_ITEM_IMPRESSION,t),this.isProductAd&&this.firePixel(e.bx.PRODUCT_IMPRESSION,t)}measureProductImpression(){this.firePixel(e.bx.PRODUCT_IMPRESSION)}handleUnload(){e.e4.fireQueuedUnloadPixels()}setCumulativeTimer(e){const t=this.cumulativeTimers.get(e),i=Date.now();if(t&&t.previousDate){const s=i-t.previousDate+t.cumulativeTime;this.cumulativeTimers.set(e,{previousDate:i,cumulativeTime:s})}else this.cumulativeTimers.set(e,{previousDate:i,cumulativeTime:t?.cumulativeTime||0})}updateCumulativeTimer(e,t){const i=this.cumulativeTimers.get(e);if(i&&i.previousDate){const s=t-i.previousDate+(i.cumulativeTime||0);this.cumulativeTimers.set(e,{previousDate:t,cumulativeTime:s})}return this.cumulativeTimers.get(e)}pauseCumulativeTimer(e){const t=this.updateCumulativeTimer(e,Date.now());t&&this.cumulativeTimers.set(e,{previousDate:null,cumulativeTime:t.cumulativeTime||0})}setContinuousTimer(e){const t=this.continuousTimers.get(e),i=Date.now();if(t&&t.previousDate){const s=t.currentContinuousTime+(i-t.previousDate),r=Math.max(s,t.maxContinuousTime);this.continuousTimers.set(e,{previousDate:i,currentContinuousTime:s,maxContinuousTime:r})}else this.continuousTimers.set(e,{previousDate:i,currentContinuousTime:t?.currentContinuousTime||0,maxContinuousTime:t?.maxContinuousTime||0})}updateContinuousTimer(e,t){const i=this.continuousTimers.get(e);if(i&&i.previousDate){const s=i.currentContinuousTime+(t-i.previousDate),r=Math.max(s,i.maxContinuousTime);this.continuousTimers.set(e,{previousDate:t,currentContinuousTime:s,maxContinuousTime:r})}return this.continuousTimers.get(e)}unsetContinuousTimer(e){const t=this.continuousTimers.get(e),i=Date.now();if(t&&t.previousDate){const s=Math.max(t.currentContinuousTime+(i-t.previousDate),t.maxContinuousTime);this.continuousTimers.set(e,{previousDate:null,currentContinuousTime:0,maxContinuousTime:s})}}}function E(e=0){return 1e3*e}class _ extends c{get visible(){return!!this.videoIntersectionRatio}get viewable(){return(this.videoIntersectionRatio||0)>=e.bw.VIEWABILITY_THRESHOLD}get currentQuartileState(){switch((this.viewable?1:0)+(this.videoVolume&&this.videoVolume>0?2:0)){case 0:return e.e5.NOT_VISIBLE_NOT_AUDIBLE;case 1:return e.e5.VISIBLE_NOT_AUDIBLE;case 2:return e.e5.AUDIBLE_NOT_VISIBLE;case 3:return e.e5.VISIBLE_AND_AUDIBLE;default:return e.e5.NO_EVENT}}constructor(e,i){super(e,i),this.videoDuration=1/0,this.videoCurrentTime=0,this.seekingInitialized=!1,this.hasSeeked=!1,this.accumulatedWatchedTime=0,this.videoWasFullscreen=!1,this.videoWasVisible=!1,this.quartileState=new Map,this.dimensions=e.dimensions,this.thresholds=t.g(t.b)}minTimeRequired({timePercent:e=1/0,time:t=1/0}){const i=Number.isFinite(e)?e*this.videoDuration:1/0,s=Number.isFinite(t)?t:1/0;return Math.min(i,s)}setViewablePixelTimer(e){const t=Date.now(),i=this.pixelTimers.get(e.pixelEvent);if(i?.fired||i?.timer)return;let s=e.time;e.timePercent&&this.videoDuration&&(s=Math.min(this.videoDuration*e.timePercent,e.time));const r=i?.timeLeft?i?.timeLeft:s;this.pixelTimers.set(e.pixelEvent,{timer:setTimeout((()=>{this.firePixel(e.pixelEvent),this.pixelTimers.set(e.pixelEvent,{fired:!0,timer:void 0})}),r),timeLeft:r,lastSetTime:t})}resetViewablePixelTimer(e){const t=this.pixelTimers.get(e.pixelEvent);t?.fired||t&&!t.fired&&this.clearPixelTimer(e.pixelEvent)}pauseViewablePixelTimer(e){const t=this.pixelTimers.get(e.pixelEvent);if(t&&!t?.fired&&void 0!==this.videoCurrentTime&&void 0!==this.videoDuration){const i=Date.now();if(t.timer&&t.lastSetTime){const s=e.time-(i-t.lastSetTime);clearTimeout(t.timer),this.pixelTimers.set(e.pixelEvent,{timeLeft:s})}}}videoStateChange(){this.visible&&!this.videoWasVisible&&(this.videoWasVisible=!0),this.videoPlaying&&(this.updateQuartileState(),this.firePixel(e.bx.VIDEO_STARTED),this.videoVolume&&this.firePixel(e.bx.VIDEO_PLAYED_WITH_SOUND),e.e6.forEach((e=>{this.videoViewabilityStateChange(e)}))),e.e7.forEach((e=>{this.videoWatchedPercentStateChange(e)})),e.e8.forEach((e=>{this.videoWatchedSecondsStateChange(e)})),this.videoGroupMViewableChange()}videoViewabilityStateChange(e){this.videoIntersectionRatio&&this.videoIntersectionRatio>=e.threshold?this.videoPlaying?this.setViewablePixelTimer(e):this.pauseViewablePixelTimer(e):this.resetViewablePixelTimer({pixelEvent:e.pixelEvent,time:e.time})}videoWatchedPercentStateChange(t){if("number"==typeof this.videoCurrentTime&&"number"==typeof this.videoDuration){this.videoCurrentTime/this.videoDuration>=t.timePercent&&(t.quartileKey&&!this.quartileState.has(t.quartileKey)&&(t.quartileKey!==e.e9.VIDEO_STATE_Q0||this.videoPlaying)&&this.quartileState.set(t.quartileKey,this.currentQuartileState),e.ea(t)&&this.firePixel(t.pixelEvent))}}updateQuartileState(){e.e7.forEach((e=>{if(e.quartileKey&&"number"==typeof this.videoCurrentTime&&"number"==typeof this.videoDuration){this.videoCurrentTime/this.videoDuration>=e.timePercent&&e.quartileKey&&!this.quartileState.has(e.quartileKey)&&this.quartileState.set(e.quartileKey,this.currentQuartileState)}}))}videoWatchedSecondsStateChange(e){this.accumulatedWatchedTime>=this.minTimeRequired(e)&&this.firePixel(e.pixelEvent)}setMediaDetails(e){Number.isFinite(e.volume)&&(this.videoVolume=e.muted?0:e.volume),Number.isFinite(e.duration)&&(this.videoDuration=E(e.duration)),Number.isFinite(e.currentTime)&&(this.videoCurrentTime=E(e.currentTime))}updateAccumulatedWatchTime(e){const t=e-this.videoCurrentTime;return this.accumulatedWatchedTime+=t,t}updateThresholds(e){const{visibleThresholds:t}=this.getHiddenAndVisibleThresholds();t.forEach((t=>{this.thresholds[t.key].totalTime+=e,this.thresholds[t.key].currentContinuousTime+=e;const{currentContinuousTime:i,maxContinuousTime:s}=this.thresholds[t.key];i>s&&(this.thresholds[t.key].maxContinuousTime=i)})),this.resetContinuousTimerForHiddenThresholds()}getHiddenAndVisibleThresholds(){const e=[],i=[];return t.V.forEach((t=>{this.meetsViewabilityRequirements(t)?e.push(t):i.push(t)})),{visibleThresholds:e,hiddenThresholds:i}}resetContinuousTimerForHiddenThresholds(){this.resetContinuousTimerForThresholds(this.getHiddenAndVisibleThresholds().hiddenThresholds)}resetContinuousTimerForThresholds(e){e.forEach((e=>{this.thresholds[e.key].currentContinuousTime=0}))}measureViewChange(e){e.isVideoPlayer?this.videoIntersectionRatio=e.intersectionRatio:super.measureViewChange(e),this.videoStateChange(),this.resetContinuousTimerForHiddenThresholds()}measureVideoPlay(e){this.videoPlaying=!0,this.setMediaDetails(e),this.videoStateChange()}measureVideoPause(t){this.videoPlaying=!1,this.setMediaDetails(t),this.videoStateChange(),e.e6.forEach((e=>{this.pauseViewablePixelTimer(e)}))}measureVideoSeek(t){this.hasSeeked=!0,this.seekingInitialized||(this.videoPlaying=!1,this.setMediaDetails(t),e.e6.forEach((e=>{this.resetViewablePixelTimer({pixelEvent:e.pixelEvent,time:e.time})})),this.seekingInitialized=!0)}measureVideoSeeked(e){this.seekingInitialized=!1,this.hasSeeked=!0,this.videoCurrentTime=E(e.currentTime),e.paused||this.measureVideoPlay(e)}measureVolumeChange(t){this.setMediaDetails(t),this.videoStateChange(),t.volume&&!t.muted&&this.videoPlaying&&e.e6.forEach((e=>{this.firePixel(e.pixelEvent),this.pixelTimers.set(e.pixelEvent,{fired:!0})}))}measureFullscreenChange(t){this.videoFullscreen=t.fullscreen,this.videoStateChange(),t.fullscreen&&(this.videoWasFullscreen=!0,this.firePixel(e.bx.VIDEO_PLAYED_EXPANDED),this.videoPlaying&&e.e6.forEach((e=>{this.firePixel(e.pixelEvent),this.pixelTimers.set(e.pixelEvent,{fired:!0})})))}measureVideoTimeUpdate(e){const t=this.updateAccumulatedWatchTime(E(e.currentTime));this.updateThresholds(t),this.videoCurrentTime=E(e.currentTime),this.videoStateChange()}getMetadata(t){const i=super.getMetadata(t),s=this.thresholds.HALF_DURATION_80_IN_VIEW_AUDIBLE.totalTime;return{...i,[e.du.IS_VIDEO_AD]:1,[e.du.TOTAL_MRC_VIEWABLE_TIME]:Math.floor(this.thresholds.TOTAL_MRC_VIEWABLE_TIME.totalTime),[e.du.VIDEO_AD_DURATION]:isFinite(this.videoDuration)?Math.floor(this.videoDuration):0,[e.du.TOTAL_PLAY_TIME]:Math.floor(this.accumulatedWatchedTime),[e.du.VOLUME]:Math.floor(100*(this.videoVolume??0)),[e.du.IS_VISIBLE]:this.visible?1:0,[e.du.VIDEO_HEIGHT]:this.visible&&this.dimensions?this.dimensions.height:0,[e.du.TOTAL_AUDIBLE_TIME]:Math.floor(this.thresholds.TOTAL_AUDIBLE_TIME.totalTime),[e.du.VIDEO_STATE_Q0]:this.quartileState.get(e.e9.VIDEO_STATE_Q0)??e.e5.NO_EVENT,[e.du.VIDEO_STATE_Q1]:this.quartileState.get(e.e9.VIDEO_STATE_Q1)??e.e5.NO_EVENT,[e.du.VIDEO_STATE_Q2]:this.quartileState.get(e.e9.VIDEO_STATE_Q2)??e.e5.NO_EVENT,[e.du.VIDEO_STATE_Q3]:this.quartileState.get(e.e9.VIDEO_STATE_Q3)??e.e5.NO_EVENT,[e.du.VIDEO_STATE_Q4]:this.quartileState.get(e.e9.VIDEO_STATE_Q4)??e.e5.NO_EVENT,[e.du.VIDEO_WIDTH]:this.visible&&this.dimensions?this.dimensions.width:0,[e.du.WAS_FULL_SCREEN]:this.videoWasFullscreen?1:0,[e.du.HALF_DURATION_80_IN_VIEW_AUDIBLE]:s>=15e3||this.videoDuration&&s>=.5*this.videoDuration?1:0,[e.du.FULL_IN_VIEW_AUDIBLE_TIME]:Math.floor(this.thresholds.FULL_IN_VIEW_AUDIBLE_TIME.totalTime),[e.du.EIGHTY_TOTAL_VIDEO_VIEW_TIME]:Math.floor(this.thresholds.EIGHTY_IN_VIEW_TIME.totalTime),[e.du.FULL_IN_VIEW_TIME]:Math.floor(this.thresholds.FULL_IN_VIEW_TIME.totalTime),[e.du.WAS_FULL_IN_VIEW_1SEC]:this.thresholds.FULL_IN_VIEW_TIME.maxContinuousTime>=1e3?1:0,[e.du.ANY_CONTINUOUS_VIDEO_VIEW_TIME]:Math.floor(this.thresholds.ANY_IN_VIEW_TIME.maxContinuousTime),[e.du.FIFTY_CONTINUOUS_VIDEO_VIEW_TIME]:Math.floor(this.thresholds.FIFTY_IN_VIEW_TIME.maxContinuousTime),[e.du.FULL_CONTINUOUS_VIDEO_VIEW_TIME]:Math.floor(this.thresholds.FULL_IN_VIEW_TIME.maxContinuousTime),[e.du.HAS_SEEKED]:this.hasSeeked?1:0}}getAdEventVideoMetadata(){return{is_video:!0,total_mrc_viewable_time_ms:Math.floor(this.thresholds.TOTAL_MRC_VIEWABLE_TIME.totalTime),video_ad_duration:isFinite(this.videoDuration)?Math.floor(this.videoDuration):0,total_play_time:Math.floor(this.accumulatedWatchedTime),volume:Math.floor(100*(this.videoVolume??0)),total_audible_time:Math.floor(this.thresholds.TOTAL_AUDIBLE_TIME.totalTime),was_full_screen:this.videoWasFullscreen,video_state_q1:(this.quartileState.get(e.e9.VIDEO_STATE_Q1)??e.e5.NO_EVENT).toString(),video_state_q2:(this.quartileState.get(e.e9.VIDEO_STATE_Q2)??e.e5.NO_EVENT).toString(),video_state_q3:(this.quartileState.get(e.e9.VIDEO_STATE_Q3)??e.e5.NO_EVENT).toString(),video_state_q4:(this.quartileState.get(e.e9.VIDEO_STATE_Q4)??e.e5.NO_EVENT).toString(),full_in_view_audible_time_ms:Math.floor(this.thresholds.FULL_IN_VIEW_AUDIBLE_TIME.totalTime),full_in_view_time_ms:Math.floor(this.thresholds.FULL_IN_VIEW_TIME.totalTime),video_height:this.visible&&this.dimensions?this.dimensions.height:0,video_width:this.visible&&this.dimensions?this.dimensions.width:0,fifty_continuous_video_view_time_v2_ms:Math.floor(this.thresholds.FIFTY_IN_VIEW_TIME.maxContinuousTime),eighty_total_video_view_time_v2_ms:Math.floor(this.thresholds.EIGHTY_IN_VIEW_TIME.totalTime),any_continuous_video_view_time_v2_ms:Math.floor(this.thresholds.ANY_IN_VIEW_TIME.maxContinuousTime),full_continuous_video_view_time_v2_ms:Math.floor(this.thresholds.FULL_IN_VIEW_TIME.maxContinuousTime)}}isAdequatelyInView(e){return!!this.videoFullscreen||(this.videoIntersectionRatio||0)>=e}meetsViewabilityRequirements(e){return this.isAdequatelyInView(e.threshold)&&(!e.playing||this.videoPlaying)&&(!e.withSound||this.videoVolume&&this.videoVolume>0)}videoGroupMViewableChange(){const t=this.dimensions?.height*this.dimensions?.width;let i=this.thresholds.FULL_IN_VIEW_AUDIBLE_TIME.totalTime;t>=3e5&&(i=this.thresholds.HALF_DURATION_80_IN_VIEW_AUDIBLE.totalTime),i/this.videoDuration>=e.bw.VIEWABILITY_THRESHOLD&&this.firePixel(e.bx.VIDEO_GROUP_M_VIEWABLE)}}const I=(e,{ignoredTags:t=new Set}={})=>{const i=(e=>{const t=window.getComputedStyle(e).borderRadius,i=Number.parseInt(t)/2,s=e.getBoundingClientRect();return document.elementFromPoint(s.left+i,s.top+i)})(e);return{overlappingElement:i,isOverlapped:!(!i||e.isSameNode(i)||e.contains(i)||t.has(i.tagName)||!((e,t)=>{const i=e.getBoundingClientRect(),s=t.getBoundingClientRect();return!(i.top>s.bottom||i.right<s.left||i.bottom<s.top||i.left>s.right)})(e,i))}},p=(e,t)=>{if((e=>{const t=e.getBoundingClientRect();if(t.width*t.height==0)return!0;const i=window.innerWidth||document.documentElement.clientWidth,s=window.innerHeight||document.documentElement.clientHeight;return t.right<0||t.bottom<0||t.left>i||t.top>s})(e))return 0;const i=e.getBoundingClientRect(),s=t.getBoundingClientRect(),r=window.innerHeight||document.documentElement.clientHeight,n=Math.min(r,i.bottom);return Math.max(0,n-s.bottom)/i.height},v=(e,t)=>{if(!e||!e.title)return 0;if(!1===e.renderTitleTruncation)return e.title.length;const i=e?.querySelector('[click-location="title"]')?.shadowRoot?.querySelector("a"),s=document.body,r=document.createElement("div");if(r.id="dummyDiv",r.className=i?.className,r.className=r.className.replace(/line-clamp-\d+/,""),r.classList.add("px-md"),t||(r.classList.add("font-normal"),r.classList.add("text-14")),r.style.position="absolute",r.style.left="-9999px",r.style.top="-9999px",r.style.visibility="hidden",s?.appendChild(r),r.style.width=i?.clientWidth+"px",r.textContent=e.title,r.offsetHeight<=i?.offsetHeight)return r?.remove(),e.title.length;let n=0;r.textContent="";for(let t=0;t<e.title.length;t++){const s=e.title?.slice(0,t+1);if(r.textContent=s+"",r.offsetHeight>i?.offsetHeight)break;n+=1}return r?.remove(),n},g=({postId:t,post:i,galleryItems:r,page_request_id:n,adsCorrelationId:a})=>{const o=i?.querySelector(`[click-location=${e.ab.MEDIA}]`);let d;o&&(d=o.getBoundingClientRect());const l={post:{id:t,subreddit_id:i?.subredditId,subreddit_name:i?.subredditPrefixedName,author_id:i?.authorId,promoted:!0,title:i?.postTitle||i?.title,domain:i?.domain,nsfw:i?.nsfw,number_comments:i?.commentCount,type:i?.postType,created_timestamp:e.c3(i?.createdTimestamp||""),spoiler:i?.spoiler,url:i?.outboundLinkUrl},ad_metadata:{impression_id:i?.impressionId||"",placement:s.c({post:i}),ad_correlation_id:a},feed:e.eb(),action_info:{page_request_id:n},screen:{height:window.screen.height,width:window.screen.width}};i&&s.i(i)&&(l.action_info||(l.action_info={}),l.action_info.position=i.feedIndex,l.screen||(l.screen={}),l.screen={},l.screen.view_type=e.ec(i.viewType));const h=r&&r.length>0||!1;if(i&&s.d(i)&&(l.view_stats={characters_displayed:v(i,h)},l.parent={post_id:i?.parentElement?.querySelector("shreddit-post")?.id},l.action_info||(l.action_info={}),l.action_info.position=(t=>{if(t.shouldTrackPosition&&!t.isBlank)return t.placement===e.Q.COMMENTS_PAGE?0:[...document.querySelectorAll('shreddit-comments-page-ad[placement="comments_page"], shreddit-comments-page-ad[placement="comment_trees"], shreddit-comment[depth="0"]')].findIndex((e=>e.id===t.id))||void 0})(i)),r&&r.length>0){const e=r.map((e=>e.media?.id||""));l.gallery={num_items:r.length,media_ids:e,id:r[0].id},l.media={id:r[0].media?r[0].media.id:"",width:r[0].media?r[0].media.width:0,height:r[0].media?r[0].media.height:0}}else d&&(l.media={id:t,height:Math.round(d?.height),width:Math.round(d?.width)});return e.b(s.e,l)},V=t=>t.map((t=>{const i=e.bx[t.type];return{...t,type:i}}));class x{constructor(s){this.firedPixels=new Set,this.firedRedditPixels=new Set,this.firePixel=({pixelEventType:e,metadata:t,galleryIndex:i,displayMetadata:s,videoMetadata:r})=>{const n=this.postEvents?.get(e)||[];if(this.host.galleryItems){const t=this.getGalleryUrls(e,i)||[];n.push(...t)}const a=this.getPixelScalingFields(i);return this.firePixelsFromEvents({pixelEvents:n,metadata:t,pixelRequestBody:a,displayMetadata:s,videoMetadata:r})},this.fireDebugPixel=t=>{const i=e.c("pixelFired",t);window.dispatchEvent(i)},this.firePixelsFromEvents=({pixelEvents:e,metadata:t,pixelRequestBody:i,displayMetadata:s,videoMetadata:r})=>{const n=[];return e.forEach((e=>{const a=this.firePixelRequest({pixelEvent:e,metadata:t,pixelRequestBody:i,displayMetadata:s,videoMetadata:r});a&&n.push(a)})),n},this.firePixelRequest=({pixelEvent:s,metadata:r,pixelRequestBody:n,displayMetadata:a,videoMetadata:c})=>{if(this.hasPixelAlreadyFired(s,n))return;let E;return T(this.host,"queued",s),o(s)?E=l({pixelEvent:s,metadata:r,pixelRequestBody:n,target:this.host}):(E=function(e,s,r){const n=!i.a6(e.url);if(u(e.type)&&!n)return e.url;const a=new Image;a.onload=()=>{T(r,"succeeded",e)},a.onerror=t=>{const i="Sentry"in window?window.Sentry:void 0;i?.captureException&&i.captureException(new Error(`Error in GET response from pixel server for pixel of type ${e.type}: ${t}`)),T(r,"failed",e)};let o=e.url;return s&&!n&&(o=t.a(o,s)),a.src=o,e.url}(s,r,this.host),i.a6(s.url)||s.type!==e.bx.IMPRESSION||function(t){const i=t===e.aE.DESKTOP?"shreddit_desktop":"shreddit_mobile";e.a9({type:e.aa.Counter,name:"ads_third_party_impression_tracker_total",value:1,labels:{client_platform:i}})}(this.deviceType)),h(s.type)&&m({pixelEvent:s,impressionId:this.host.impressionId,displayMetadata:a,videoMetadata:c,pixelRequestBody:n,target:this.host}),E&&(this.firedPixels.add(E),(o(s)||i.a6(E))&&this.firedRedditPixels.add(E)),o(s)?this.fireDebugPixel({pixel:d(s,n),pixelEvent:{encryptedTrackingId:s.encryptedTrackingId,type:s.type,metadata:r},encryptedTrackingPayload:n.encryptedTrackingPayload,additionalEventMetadata:n.additionalEventMetadata,postId:this.host.postId,impressionId:this.host.impressionId}):this.fireDebugPixel({pixel:s.url,pixelEvent:{url:s.url,type:s.type,metadata:i.a6(s.url)?r:void 0},postId:this.host.postId,impressionId:this.host.impressionId}),E},this.hasPixelAlreadyFired=(e,t)=>o(e)?this.firedPixels.has(d(e,t)):this.firedPixels.has(e.url),this.deviceType=document.querySelector("shreddit-app")?.deviceType||e.aE.MOBILE,this.host=s,this.host.addController(this)}hostConnected(){const e=V(this.host.adEvents);this.postEvents=a(e),this.host.galleryItems&&(this.galleryEvents=this.host.galleryItems.map((e=>a(V(e.adEvents||[])))))}get firedRedditPixelsCount(){return this.firedRedditPixels.size}getPixelScalingFields(e){return{encryptedTrackingPayload:this.host.encryptedTrackingPayload||"",additionalEventMetadata:this.host.additionalEventMetadata?this.host.additionalEventMetadata[e||0]:"",impressionId:this.host.impressionId}}getGalleryUrls(t,i){const s=void 0===i&&t===e.bx.IMPRESSION,r=s?0:i;if(void 0===r)return;const n=s?e.bx.GALLERY_ITEM_IMPRESSION:t;return this.galleryEvents?.[r]&&this.galleryEvents[r].get(n)||[]}}class f{constructor({host:t,isVideoAd:i,onIntersectionEvent:s}){this.host=t,this.isVideoAd=i,this.onIntersectionEvent=s,this.observer=new IntersectionObserver((e=>{e.forEach((e=>{this.triggerIntersectionEventCallback(e)}))}),{threshold:e.ed,rootMargin:`-${this._getHeaderHeight()}px 0px 0px 0px`}),this.host.addController(this)}get shredditPlayer(){return this.host.querySelector("shreddit-player-2")}hostConnected(){this.observer.observe(this.host),this.isVideoAd&&this.shredditPlayer&&this.observer.observe(this.shredditPlayer)}hostDisconnected(){this.observer.disconnect()}triggerIntersectionEventCallback(e){const t=e.target===this.shredditPlayer;this.onIntersectionEvent({isVideoPlayer:t,intersectionRatio:e.intersectionRatio})}_getHeaderHeight(){let e=0;const t=document.querySelector("shreddit-app");if(t){const i=getComputedStyle(t).getPropertyValue("--shreddit-header-height");e=parseInt(i,10)||0}return e}}const C=Symbol("mixins/with-ad-observer"),y=new Set(["SHREDDIT-APP","FACEPLATE-PARTIAL"]);return{W:function(t){const n=t;if(e.cR(n,C))return n;class a extends n{constructor(){super(...arguments),this.eventController=new e.E(this),this.pubsub=new e.f(this),this.isOverlapped=!1,this.isVideo=!1,this.isGallery=!1,this.visibilityChangeHandler=this.onVisibilityChange.bind(this),this.isAdObserved=!1,this.onCommentCreated=()=>{this.firePixel(e.bx.COMMENT)},this.onCommentUpvoted=()=>{this.firePixel(e.bx.COMMENT_UPVOTE)},this.onCommentDownvoted=()=>{this.firePixel(e.bx.COMMENT_DOWNVOTE)},this.onHideAd=({impressionId:e,action:t})=>{this.impressionId===e&&t===r.a.hide&&this.adMeasurer?.resetTimers()},this.checkAndMeasureIfAdIsBeingOverlapped=e.k((()=>{if(!this.postElement||!this.postElement.isConnected)return;const{hidden:e}=this.getHiddenAndVisibilityChangeForDocument();if(document[e])return void this.measureOutOfViewChange();const{isOverlapped:t,overlappingElement:i}=I(this.postElement,{ignoredTags:y});if(t&&i){this.isOverlapped=!0;const e={intersectionRatio:p(this.postElement,i)};this.adMeasurer?.measureViewChange(e),this.updateViewChangeDetails(e)}else this.isOverlapped&&(this.isOverlapped=!1,this.measureBackInViewChange())}),30),this.updateViewChangeDetails=e=>{e.isVideoPlayer?this.lastVideoIOEvent=e:(this.lastAdIOEvent=e,e.intersectionRatio>0&&(this.lastVisibleAdIOEvent=e))},this.measureOutOfViewChange=()=>{const e={intersectionRatio:0};if(this.adMeasurer?.measureViewChange(e),this.updateViewChangeDetails(e),this.isVideo){const t={...e,isVideo:!0};this.adMeasurer?.measureViewChange(t),this.updateViewChangeDetails(t)}},this.measureBackInViewChange=()=>{this.lastVisibleAdIOEvent&&(this.adMeasurer?.measureViewChange(this.lastVisibleAdIOEvent),this.updateViewChangeDetails(this.lastVisibleAdIOEvent),this.isVideo&&this.lastVideoIOEvent&&(this.adMeasurer?.measureViewChange(this.lastVideoIOEvent),this.updateViewChangeDetails(this.lastVideoIOEvent)))},this.handleAnalyticEvent=this.eventController.define("faceplate-track",(t=>{const i=t.detail;if(i.post?.id!==this.postId)return;const{source:s,action:r,noun:n}=i;if("gallery"===s&&this.isGallery){if("forward"!==n&&"backward"!==n)return;const e="forward"===n?this.galleryIndex+1:this.galleryIndex-1;if(e<0||e>=this.galleryItemLength)return;this.galleryIndex=e,this.adMeasurer?.measureGalleryItemImpression(this.galleryIndex),this.lastAdIOEvent&&this.adMeasurer?.measureViewChange(this.lastAdIOEvent)}if("post_detail"===s&&"click"===r)switch(n){case"upvote_comment":this.firePixel(e.bx.COMMENT_UPVOTE);break;case"downvote_comment":this.firePixel(e.bx.COMMENT_DOWNVOTE);break;case"submit_comment":this.firePixel(e.bx.COMMENT)}if("post"===s&&"click"===r)switch(n){case"comments":this.firePixel(e.bx.COMMENTS_VIEW);break;case"upvote":this.firePixel(e.bx.UPVOTE);break;case"downvote":this.firePixel(e.bx.DOWNVOTE)}})),this.handlePostViewAdEvent=this.eventController.define("observe-post-view-ad",(t=>{const i=t.detail.post,{postId:s,galleryItems:r}=t.detail,n=e.b_();e.a(this,g({postId:s,post:i,galleryItems:r,page_request_id:n,adsCorrelationId:i.adsCorrelationId}))})),this.handleAdClickEvent=this.eventController.define("observe-ad-click",(t=>{const{postId:s,impressionId:r,outboundUrl:n,galleryIndex:a}=t.detail;if(s!==this.postId&&r!==this.impressionId)return;i.a7(n)&&(this.adMeasurer?.handleClickRedirect(n,a),this.fireAnalyticsEventForClickRedirect({outboundUrl:n,impressionId:r,galleryIndex:a}));const o=a??this.galleryIndex;this.firePixel(e.bx.CLICK,o)})),this.handleLeadGenSubmissionEvent=this.eventController.define(s.L,(t=>{this.firePixel(e.bx.LEAD_GENERATION)})),this.handleAdEngagedClickEvent=this.eventController.define(s.A,(t=>{this.firePixel(e.bx.ENGAGED_CLICK)}))}getMetadataForPixelEvent(e){return this.adMeasurer?.getMetadata(e)}enableAdObserver(t){try{if(this.isAdObserved)return;const{adType:i,...s}=t;this.postId=t.postId,this.impressionId=t.impressionId,this.postElement=t.postElement,this.isVideo=i===e.ee.VIDEO,Array.isArray(t.galleryItems)&&(this.isGallery=!0,this.galleryIndex=0,this.galleryItemLength=t.galleryItems.length),this.overlappingObserver=new MutationObserver(this.checkAndMeasureIfAdIsBeingOverlapped),new f({host:t.postElement,isVideoAd:this.isVideo,onIntersectionEvent:this.isIntersectingChange.bind(this)}),this.pixelFiringController=new x(t.postElement),s.getFiredRedditPixelsCount=()=>this.pixelFiringController?.firedRedditPixelsCount||0,this.adMeasurer=this.isVideo?new _(s,this.pixelFiringController):new c(s,this.pixelFiringController),this.isVideo&&this.setupVideoEvents(),this.isGallery&&this.setupGalleryEvents(),this.setupVisibilityTracking(),this.isAdObserved=!0,this.impressionId||this.fireInitializationErrorMetricEvent("missing_impression_id")}catch(e){window.Sentry?.captureException?.(`enableAdObserver | ${e.stack}`),this.fireInitializationErrorMetricEvent("exception")}}connectedCallback(){super.connectedCallback(),this.pubsub.subscribe(e.T.AdUpdated,this.onHideAd),this.postElement&&this.postElement.isPDP&&(this.pubsub.subscribe(e.T.CommentCreated,this.onCommentCreated),this.pubsub.subscribe(e.T.CommentUpvoted,this.onCommentUpvoted),this.pubsub.subscribe(e.T.CommentDownvoted,this.onCommentDownvoted))}disconnectedCallback(){super.disconnectedCallback(),this.teardownVisibilityTracking(),this.measureOutOfViewChange()}firePixel(e,t){if(!this.adMeasurer||!this.pixelFiringController)return;const i=h(e);this.pixelFiringController.firePixel({pixelEventType:e,metadata:this.adMeasurer.getMetadata(e),displayMetadata:i?this.adMeasurer.getAdEventDisplayMetadata():void 0,videoMetadata:i?this.adMeasurer.getAdEventVideoMetadata():void 0,galleryIndex:t})}measureOutOfViewChangeIgnoringPrompts(e){e.relatedTarget&&this.measureOutOfViewChange()}onVisibilityChange(){const{hidden:e}=this.getHiddenAndVisibilityChangeForDocument();this.lastAdIOEvent&&(document[e]?this.measureOutOfViewChange():this.measureBackInViewChange())}setupVisibilityTracking(){const{visibilityChange:e}=this.getHiddenAndVisibilityChangeForDocument();document.addEventListener(e,this.visibilityChangeHandler),window.addEventListener("blur",this.measureOutOfViewChangeIgnoringPrompts),window.addEventListener("focus",this.measureBackInViewChange),this.overlappingObserver?.observe(document.body,{childList:!0,subtree:!0,attributes:!0,characterData:!1})}teardownVisibilityTracking(){const{visibilityChange:e}=this.getHiddenAndVisibilityChangeForDocument();document.removeEventListener(e,this.visibilityChangeHandler),window.removeEventListener("blur",this.measureOutOfViewChangeIgnoringPrompts),window.removeEventListener("focus",this.measureBackInViewChange),this.overlappingObserver?.disconnect()}isIntersectingChange(e){this.updateViewChangeDetails(e),this.adMeasurer?.measureViewChange(e),(e.intersectionRatio||this.isOverlapped)&&this.checkAndMeasureIfAdIsBeingOverlapped()}getHiddenAndVisibilityChangeForDocument(){let t=e.ef.Standard,i=e.eg.hidden;return void 0!==document.hidden?(t=e.ef.Standard,i=e.eg.hidden):void 0!==document.webkitHidden&&(t=e.ef.Webkit,i=e.eg.webkitHidden),{hidden:t,visibilityChange:i}}setupVideoEvents(){this.handleVideoFullscreenEvent=this.eventController.define(e.eh,(e=>{this.adMeasurer?.measureFullscreenChange(e.detail)})),this.handleVideoPauseEvent=this.eventController.define(e.ei,(e=>{this.adMeasurer?.measureVideoPause(e.detail)})),this.handleVideoPlayEvent=this.eventController.define(e.ej,(e=>{this.adMeasurer?.measureVideoPlay(e.detail)})),this.handleVideoVolumeEvent=this.eventController.define(e.ek,(e=>{this.adMeasurer?.measureVolumeChange(e.detail)})),this.handleVideoSeekingEvent=this.eventController.define(e.el,(e=>{e.detail.fromReconnect||this.adMeasurer?.measureVideoSeek(e.detail)})),this.handleVideoSeekedEvent=this.eventController.define(e.em,(e=>{e.detail.fromReconnect||this.adMeasurer?.measureVideoSeeked(e.detail)})),this.handleVideoTimeUpdateEvent=this.eventController.define(e.en,(e=>{setTimeout((()=>{this.adMeasurer?.measureVideoTimeUpdate(e.detail)}))}))}setupGalleryEvents(){this.handleGalleryItemImpressionEvent=this.eventController.define(i.O,(e=>{const{postId:t,itemIndex:i}=e.detail;t===this.postId&&this.adMeasurer?.measureGalleryItemImpression(i)}))}fireAnalyticsEventForClickRedirect({outboundUrl:t,impressionId:i,galleryIndex:s}){h(e.bx.CLICK)&&this.adMeasurer&&this.postElement&&m({target:this.postElement,pixelEvent:{type:e.bx.CLICK,url:t},impressionId:i,pixelRequestBody:this.adMeasurer.getPixelScalingFields(s),displayMetadata:this.adMeasurer.getAdEventDisplayMetadata(),videoMetadata:this.adMeasurer.getAdEventVideoMetadata()})}fireInitializationErrorMetricEvent(t){const i=e.e1({name:"shreddit_ad_init_failure",value:1,label_values:[`error_type,${t}`,`post_id,${this.postId}`,`impression_id,${this.impressionId}`]});e.a(this.postElement,i)}}return a[C]=!0,a},e:V}}));
SML.dm("C3TNjGRH",["DAgRafdt"],(async e=>{const t={[e.Q.FEED]:e.R.Feed,[e.Q.FULL_BLEED_VIDEO_FEED]:e.R.FullBleedVideoFeed,[e.Q.COMMENTS_PAGE]:e.R.CommentsPage,[e.Q.COMMENT_TREES]:e.R.CommentTrees,[e.Q.SIDEBARS]:e.R.Sidebars,[e.Q.TRENDING_DISCOVERY]:e.R.TrendingDiscovery,[e.Q.TRENDING_SEARCH_RESULT]:e.R.TrendingSearchResult,[e.Q.BLANK_ONLY]:e.R.BlankOnly,[e.Q.RELATED_POSTS]:e.R.ListingBelow};return{m:e=>e&&t[e]||null,s:(e,t={})=>{const{includeFeedChecks:a=!1,includeCommentsPageChecks:n=!1}=t;return e.composedPath().some((e=>{const t=e;if("AD-REMINDER-BUTTON"===t.tagName||"AD-EVENT-STATUS"===t.tagName||"SHREDDIT-POST-OVERFLOW-MENU"===t.tagName||"CLICK-LOCATION-TRACKER"===t.tagName)return!0;if(a){if(t.hasAttribute?.("upvote")||t.hasAttribute?.("downvote")||"comments-action-button"===t.getAttribute?.("name")||t.matches?.("button.toggle__expando-button")||t.matches?.("div#unpacked-actions")||t.matches?.("faceplate-dropdown-menu#defaultActions")||"SHREDDIT-POST-SHARE-BUTTON"===t.tagName)return!0}if(n){if("SHREDDIT-SLIDER-ELEMENT"===t.tagName||"VIDEO"===t.tagName||t.matches?.("img.thumbnail-image-video-toggle")||t.matches?.("button.toggleable-video-player-close-btn")||t.matches?.("button.thumbnail-playback-action-circle"))return!0}return!1}))}}}));
SML.dm("BQd3r0Ra",["DSWSCRFk","DAgRafdt","DBzUXR7c","FDsJDUC0","Sr8pLEMb","CX777JIl","Sb16lf7H","B8-IyY8g","DjoKwtwQ","OAEZpqSu","CI_qZzc8","C3TNjGRH","CwcnPeis","CPgwDagn","B-5QOdMh","CQZEB0Lf","CgKqrNya","BY5z-EI0","CA4SrzzK","BwmVBZAv","2B0_AwMn","BHN2zcRJ","s1sP3jLz","3kt68AAF","BR-9gnOG","C9Y39_ZO","Vy1IDB19","BVLgyhDE","BP7JtdRP","Dj1DJbmt","CI9WNRQ4","BHs0pHn7","DxYz4TCM","DDc9KuQK","CPcvYJxh","Dnwr24bF","C0wp0zNv","CGzEIBwW","DxvZ7Xss","pwr-4fHs","DKSHlBZ6","D2BNDN4c","CQpKaH3e","3FgK-N4H","DlE9CkNL","6McvgT3C","OHC4dymT","C-AymPzu","CnL37q4H","CU4mObWU","kmRFweAm","CgIWqP9n","DC_Hog5I","BWajOdpP","SRPsYjuk","CpW6-tf_","CGooZ66g","BcykV95-","zizV9pIX"],(async(t,e,i,a,s,r,n,o,d,l,E,T)=>{const h=[e.ab.BACKGROUND,e.ab.PROMOTED_LABEL,e.ab.CREDIT_BAR_WHITESPACE,e.ab.TITLE,e.ab.TEXT_BODY,e.ab.ACTION_BAR_WHITESPACE];class p{constructor(t){this._currGalleryIndex=0,this.handleGalleryNavEvent=t=>{const{noun:e,action:i,source:a,post:s}=t.detail;s?.id===this.host.postId&&"gallery"===a&&"click"===i&&("forward"===e&&this._currGalleryIndex+1<this.host.galleryItems.length&&this._currGalleryIndex++,"backward"===e&&this._currGalleryIndex-1>=0&&this._currGalleryIndex--,this.host.querySelectorAll("call-to-action-gallery-links").forEach((t=>t.handleGalleryNavEvent(this._currGalleryIndex))),this.host.querySelectorAll("shreddit-dynamic-ad-link").forEach((t=>{h.includes(t.clickLocation)&&(t.galleryIndex=this._currGalleryIndex)})))},(this.host=t).addController(this)}hostConnected(){this.host.galleryItems?.length&&this.host.addEventListener("faceplate-track",this.handleGalleryNavEvent)}hostDisconnected(){this.host.removeEventListener("faceplate-track",this.handleGalleryNavEvent)}}class m{constructor(t){(this.host=t).addController(this)}hostConnected(){this.host.impressionId||this.host.hasAdEvents||(this.hydrateAdEventsFromStorage(),this.hydrateAdUserTargetingFromStorage(),this.host.hasAdEvents&&(this.updateDynamicLinkUrls(),this.host.setupAdObserver()))}updateDynamicLinkUrls(){this.host.querySelectorAll("shreddit-dynamic-ad-link").forEach((t=>{const i="/"===t.outboundLinkOverride?.charAt(0),a=!!this.host.galleryItems,s=!!this.host.isReminderAd;i||s||!a&&t.outboundLinkOverride===e.eG||(t.outboundLinkOverride=this.host.galleryItems?this.host.galleryItems[t.galleryIndex??0]?.outboundUrl:this.host.outboundLinkUrl)}))}hydrateAdEventsFromStorage(){const t=new URL(e.dr.href).searchParams.get(e.eH);this.host.impressionId=t||"";const i=n.f(this.host.impressionId);i&&(this.host.adEvents=i.adEvents,this.host.outboundLinkUrl=i.clickRedirectUrl,this.host.galleryItems&&i.galleryAdData&&(this.host.galleryItems=i.galleryAdData?.map(((t,e)=>({...(this.host.galleryItems||[])[e],adEvents:t.adEvents,outboundUrl:t.clickRedirectUrl})))),this.host.encryptedTrackingPayload=i.encryptedTrackingPayload,this.host.additionalEventMetadata=i.additionalEventMetadata)}hydrateAdUserTargetingFromStorage(){const t=n.h();t&&(this.host.adUserTargeting=t)}}const u=r.W(o.S);let D=class extends u{constructor(){super(...arguments),this.adEvents=[],this.impressionId="0",this.isBlank=!1,this.isCommentingDisabled=!1,this.isSharingDisabled=!1,this.isSurveyAd=!1,this.isPromotedCommunityPost=!1,this.isReminderAd=!1,this.isReminderAdModalKsEnabled=!1,this.placement=e.Q.FEED,this.AdPostHydrationController=new m(this),this.AdPostGalleryLinksController=new p(this),this.pubSub=new e.f(this),this._trackAdClick=this._events.define("observe-ad-click",(async t=>{const i=this.postType===e.eI.Image,a=this.postType===e.eI.Video,r=a&&this.viewType!==e.$.CompactView&&t.detail.clickLocation!==e.ab.MEDIA,o=a&&this.viewType===e.$.CompactView;(i||o||r)&&(await this._activateLeadGenDialog(),s.s({leadGenInfo:this.leadGenInfo,postId:this.id,impressionId:this.impressionId,onSuccess:()=>this.dispatchEvent(e.c(n.L))}))})),this.onAdUpdateAction=({action:t,impressionId:e})=>{"hide"===t&&e===this.impressionId&&(this.hidden=!0)}}static get styles(){return[...super.styles,e.z(":host {\n  position: relative;\n}\n.ad-link-bar {\n  grid-column: 1 / 13;\n  height: 40px;\n  border-top: transparent;\n}\n.meta-row {\n  grid-column: 1 / 4;\n}\n.grid-template-col-inherit {\n  grid-template-columns: inherit;\n}\n")]}_activateLeadGenDialog(){return s.a({leadGenInfo:this.leadGenInfo})}get hasAdEvents(){return this.adEvents?.length>0}handleCarouselArrowClick(t){t.preventDefault();const e=t;E.h(this,e,this.impressionId)}handleClickPost(t){if(!this.isReminderAd||this.isReminderAdModalKsEnabled)return void super.handleClickPost(t);const i=this.querySelector("ad-reminder-button");if(i?.isReminderSet||!1)return void super.handleClickPost(t);T.s(t,{includeFeedChecks:!0})?super.handleClickPost(t):(t.preventDefault(),this.pubSub.publish(e.T.TriggerAdReminderModal,{postId:this.id}))}async handleUpvote(t){if(super.handleUpvote(t),this.isUserLoggedIn&&this.isReminderAd){super.getCurrentVoteType()===i.V.Upvote&&this.pubsub.publish(e.T.TriggerAdReminderModal,{postId:this.id})}}async connectedCallback(){super.connectedCallback(),this.pubSub.subscribe(e.T.AdUpdated,this.onAdUpdateAction),this.setupAdObserver()}setupAdObserver(){!this.isAdObserved&&this.hasAdEvents&&this.enableAdObserver({postElement:this,events:r.e(this.adEvents),postId:this.id,impressionId:this.impressionId,adType:this.adType,dimensions:this.dimensions,galleryItems:this.galleryItems?.map((t=>({...t,adEvents:r.e(t.adEvents||[])})))})}handleView(t,e){super.handleView(t,e,this.galleryItems?.length)}handleShareClick(){if(this.isSharingDisabled){const t=e.c("faceplate-alert",{level:e.I.notice,message:"Sharing has been disabled for this post"});this.dispatchEvent(t)}else this.handleShareButtonInteraction()}handleClickCommentsButton(t){if(this.isSurveyAd)super.handleClickCommentsButton(t);else if(this.isCommentingDisabled){const t=e.c("faceplate-alert",{level:e.I.notice,message:"Comments have been disabled for this post"});this.dispatchEvent(t)}else this.isFeed?(n.s({impressionId:this.impressionId,adEvents:this.adEvents,clickRedirectUrl:this.outboundLinkUrl,galleryAdData:this.galleryItems?.map((t=>({adEvents:t.adEvents,clickRedirectUrl:t.outboundUrl}))),encryptedTrackingPayload:this.encryptedTrackingPayload,additionalEventMetadata:this.additionalEventMetadata}),n.b(this.adUserTargeting),e.a(this,d.s(this))):super.handleClickCommentsButton(t)}renderCommentsButton(){if(this.isCommentingDisabled)return t.x`${a.c({size:o.D,appearance:l.a8()?"bordered":"secondary",attributes:{type:"button",className:o.a,onclick:this.handleClickCommentsButton,name:"comments-action-button","data-post-click-location":e.a4.COMMENTS_BUTTON},leadingIcon:t.aD({attributes:{className:"icon-comment","aria-hidden":"true"},size:a.I[o.D]}),screenReaderContent:"comments",children:t.x`<faceplate-number number="${this.commentCount}" pretty></faceplate-number>`})}`;{const t=new URL(this.permalink,window.location.origin);return t.searchParams.set(e.bv,"1"),t.searchParams.set(e.eH,this.impressionId),this.leadGenInfo?.campaignId&&t.searchParams.set(e.eJ,this.leadGenInfo.campaignId),this.isPromotedCommunityPost&&t.searchParams.set(e.eK,this.postId),this.permalink=t.pathname+t.search,super.renderCommentsButton()}}renderShareButton(){if(this.isSharingDisabled){const e="Share";return t.x`${a.c({size:o.D,appearance:l.a8()?"bordered":"secondary",attributes:{type:"button",onclick:this.handleShareClick,onkeydown:this.handleShareClick,className:o.a},leadingIcon:t.bl({attributes:{className:"icon-share","aria-hidden":"true"},size:a.I[o.D]}),screenReaderContent:e,children:e})}`}return this.shareButtonSSR=!1,super.renderShareButton()}renderHiddenPost(){return t.x` <div class="hidden-post h-3xl flex items-center justify-between px-md"> <div> <p class="m-0 font-semibold text-neutral-content-strong text-14"> ${"Ad hidden"} </p> </div> </div> `;}renderActionRow(){return this.isSurveyAd?t.x``:super.renderActionRow()}render(){return this.hidden?this.renderHiddenPost():t.x`${this.isBlank?null:super.render()}`}};t._([t.n({type:String,attribute:"post-id"})],D.prototype,"postId",void 0),t._([t.n({type:Array,attribute:"ad-events",reflect:!0})],D.prototype,"adEvents",void 0),t._([t.n({type:Array,attribute:"gallery-items",reflect:!0})],D.prototype,"galleryItems",void 0),t._([t.n({type:Object,attribute:!0})],D.prototype,"dimensions",void 0),t._([t.n({type:String,attribute:"ad-type"})],D.prototype,"adType",void 0),t._([t.n({type:String,attribute:"outbound-link-url",reflect:!0})],D.prototype,"outboundLinkUrl",void 0),t._([t.n({type:String,attribute:"impression-id",reflect:!0})],D.prototype,"impressionId",void 0),t._([t.n({type:Object,attribute:"ad-user-targeting",reflect:!0})],D.prototype,"adUserTargeting",void 0),t._([t.n({type:Boolean,attribute:"is-blank"})],D.prototype,"isBlank",void 0),t._([t.n({type:Boolean,attribute:"is-commenting-disabled"})],D.prototype,"isCommentingDisabled",void 0),t._([t.n({type:Boolean,attribute:"is-sharing-disabled"})],D.prototype,"isSharingDisabled",void 0),t._([t.n({type:Boolean,attribute:"is-survey-ad"})],D.prototype,"isSurveyAd",void 0),t._([t.n({type:Boolean,attribute:"is-promoted-community-post"})],D.prototype,"isPromotedCommunityPost",void 0),t._([t.n({type:Boolean,attribute:"is-reminder-ad"})],D.prototype,"isReminderAd",void 0),t._([t.n({type:Boolean,attribute:"is-reminder-ad-modal-ks-enabled"})],D.prototype,"isReminderAdModalKsEnabled",void 0),t._([t.n({type:String,attribute:"country-code"})],D.prototype,"countryCode",void 0),t._([t.n({type:String,attribute:"placement"})],D.prototype,"placement",void 0),t._([t.n({type:Object,attribute:"lead-gen-info"})],D.prototype,"leadGenInfo",void 0),t._([t.n({type:String,attribute:"campaign-id"})],D.prototype,"campaignId",void 0),t._([t.n({type:String,attribute:"encrypted-tracking-payload"})],D.prototype,"encryptedTrackingPayload",void 0),t._([t.n({type:Array,attribute:"additional-event-metadata"})],D.prototype,"additionalEventMetadata",void 0),t._([t.n({type:String,attribute:"ad-transparency-encoded-data"})],D.prototype,"adTransparencyEncodedData",void 0),t._([t.n({type:String,attribute:"ads-correlation-id"})],D.prototype,"adsCorrelationId",void 0),D=t._([t.c("shreddit-ad-post")],D)}));
SML.dm("CFNgfRtI",["DSWSCRFk","DAgRafdt","Sb16lf7H","OAEZpqSu","BHN2zcRJ","CF9Lfnln","C9Y39_ZO","3kt68AAF","CJjbk0RM"],(async(e,t,i,a,n)=>{var r,s;!function(e){e.Scheduled="scheduled",e.Live="live",e.Ended="ended",e.Unavailable="unavailable"}(r||(r={}));let o=s=class extends e.s{constructor(){super(...arguments),this.isReminderSet=!1,this.eventState=r.Scheduled,this.postId="",this.permalink="",this.pdpTarget="_self",this.isPdp=!1,this.isLoggedIn=!1,this.isDesktopViewport=!1,this.shouldFireEngagedClick=!1,this.enableUserActionTriggeredModal=!1,this.requestInProgress=!1,this.handleClickCancelReminder=()=>{this.dispatchEvent(new Event(n.E,{bubbles:!0})),this.cancelReminder()},this.cancelReminder=async()=>{this.isReminderSet=!1;if(await this.updatePostReminderState(t.de.NoReminder)){const e=t.c("faceplate-alert",{level:t.I.notice,message:"Reminder cancelled"});this.dispatchEvent(e),this.pubsub?.publish(t.T.AdReminderRsvpUnsubscribe,{postId:this.postId})}else{this.isReminderSet=!0;const e="Failed to cancel reminder";this.dispatchErrorAlert(e)}},this.handleClickSetReminder=async()=>{this.shouldFireEngagedClick&&this.dispatchEvent(t.c(i.A)),this.isLoggedIn?(this.dispatchEvent(new Event(n.b,{bubbles:!0})),await this.setReminder()):this.dispatchEvent(t.c(t.df.follow))},this.setReminder=async()=>{this.isReminderSet=!0;if(await this.updatePostReminderState(t.de.Reminder)){const e=t.c("faceplate-alert",{level:t.I.success,message:"Reminder set"});this.dispatchEvent(e),this.pubsub?.publish(t.T.AdReminderRsvpSubscribe,{postId:this.postId})}else{this.isReminderSet=!1;const e="Failed to set reminder";this.dispatchErrorAlert(e)}},this.showUserActionTriggeredModal=()=>{this.userActionTriggeredModal?.showModal(),this.userActionTriggeredBottomSheet?.showModal(),this.userActionTriggeredModal?.addEventListener("rpl-dialog:hide",this.handleModalClose),this.userActionTriggeredBottomSheet?.addEventListener("rpl-bottom-sheet:hide",this.handleBottomSheetClose)},this.closeUserActionTriggeredModal=()=>{this.userActionTriggeredModal?.hide(),this.userActionTriggeredBottomSheet?.hide(),s.triggeredPostIds.delete(this.postId),this.userActionTriggeredModal?.removeEventListener("rpl-dialog:hide",this.handleModalClose),this.userActionTriggeredBottomSheet?.removeEventListener("rpl-bottom-sheet:hide",this.handleBottomSheetClose)},this.handleModalClose=()=>{s.triggeredPostIds.delete(this.postId),this.userActionTriggeredModal?.removeEventListener("rpl-dialog:hide",this.handleModalClose)},this.handleBottomSheetClose=()=>{s.triggeredPostIds.delete(this.postId),this.userActionTriggeredBottomSheet?.removeEventListener("rpl-bottom-sheet:hide",this.handleBottomSheetClose)},this.handleTriggerModal=e=>{e.postId!==this.postId||s.triggeredPostIds.has(this.postId)||this.isReminderSet||this.eventState!==r.Scheduled||(s.triggeredPostIds.add(this.postId),this.showUserActionTriggeredModal())},this.closeUserActionTriggeredModalAndGetNotifications=async()=>{this.closeUserActionTriggeredModal(),await this.handleClickSetReminder()},this.updatePostReminderState=async e=>{this.requestInProgress=!0;const i=await t.r({operation:t.O.UpdatePostReminderState,variables:{input:{postId:this.postId,reminderState:e}}});return this.requestInProgress=!1,!!i.data.updatePostReminderState?.ok}}connectedCallback(){super.connectedCallback(),this.pubsub=new t.f(this),this.pubsub.subscribe(t.T.AdReminderRsvpSubscribe,(e=>{e.postId===this.postId&&(this.isReminderSet=!0)})),this.pubsub.subscribe(t.T.AdReminderRsvpUnsubscribe,(e=>{e.postId===this.postId&&(this.isReminderSet=!1)})),this.enableUserActionTriggeredModal&&this.pubsub.subscribe(t.T.TriggerAdReminderModal,this.handleTriggerModal,!1)}disconnectedCallback(){super.disconnectedCallback(),this.pubsub=void 0}get shouldShowUserActionTriggeredModal(){const e=this.eventState===r.Live;return this.enableUserActionTriggeredModal&&this.isLoggedIn&&!e}dispatchErrorAlert(e){const i=t.c("faceplate-alert",{level:t.I.error,cause:"uncategorized",message:e});this.dispatchEvent(i)}getButtonAttributes(){const e=this.eventState===r.Live;return e&&this.isPdp?null:e&&!this.isPdp?{text:"Join Now",appearance:"primary",href:this.permalink,target:this.pdpTarget}:this.isReminderSet&&!e?{action:this.handleClickCancelReminder,text:"Reminder set",appearance:a.a8()?"secondary":"bordered"}:this.isReminderSet||e?null:{action:this.handleClickSetReminder,text:"Remind me",appearance:a.a8()?"bordered":"secondary"};}get userActionTriggerModalHeaderString(){return "Get reminded when this event starts?";}get userActionTriggerModalContentString(){return "Get notified before it starts so you don't miss out.";}renderUserActionTriggeredBottomSheet(){const i=e.x` <div class="w-full box-border px-md"> <div class="flex justify-between items-center"> <div class="font-bold text-16">${this.userActionTriggerModalHeaderString}</div> ${t.J({appearance:"secondary",attributes:{onclick:this.closeUserActionTriggeredModal,"aria-label":"Close",className:"close-btn"},leadingIcon:e.m({size:e.I.Small}),size:t.a2.Small})} </div> <div class="w-full box-border pt-md"> ${this.userActionTriggerModalContentString} <div> ${t.J({appearance:"secondary",size:t.a2.Small,children:"No thanks",attributes:{className:"w-100 mt-sm",onclick:this.closeUserActionTriggeredModal}})} </div> <div> ${t.J({appearance:"primary",size:t.a2.Small,children:"Yes, remind me",attributes:{onclick:this.closeUserActionTriggeredModalAndGetNotifications,className:"w-100 my-sm"}})} </div> </div> </div> `;return e.x`<rpl-bottom-sheet class="triggered-modal" .litTemplateChildren="${i}"></rpl-bottom-sheet>`}renderUserActionTriggeredModal(){const i=e.x` <rpl-modal-card class="w-[640px] max-w-[90%] m-auto"> <div slot="title">${this.userActionTriggerModalHeaderString}</div> <div slot="close-button"> ${t.J({appearance:"secondary",shape:"pill",leadingIcon:e.m({size:e.I.Small}),size:t.a2.Small,attributes:{"aria-label":"Close",onclick:this.closeUserActionTriggeredModal}})} </div> <div class="pt-sm">${this.userActionTriggerModalContentString}</div> <div slot="secondary-button"> ${t.J({appearance:"secondary",size:t.a2.Small,children:"No thanks",attributes:{className:"w-100 xs:w-auto",onclick:this.closeUserActionTriggeredModal}})} </div> <div slot="primary-button"> ${t.J({appearance:"primary",size:t.a2.Small,children:"Yes, remind me",attributes:{onclick:this.closeUserActionTriggeredModalAndGetNotifications,className:"w-100 xs:w-auto"}})} </div> </rpl-modal-card> `;return e.x`<rpl-dialog class="triggered-modal" .litTemplateChildren="${i}"></rpl-dialog>`}render(){if(this.eventState===r.Ended)return e.x``;const i=this.getButtonAttributes();if(!i)return e.x``;const{appearance:a,action:n,text:s,href:o,target:l}=i,d=t.J({appearance:a,attributes:{className:"relative",onclick:n,id:"",href:o,target:l,disabled:this.requestInProgress},size:t.a2.Small,children:s});return e.x`<div> ${d} ${this.shouldShowUserActionTriggeredModal?this.isDesktopViewport?this.renderUserActionTriggeredModal():this.renderUserActionTriggeredBottomSheet():""} </div>`}};o.styles=[t.t],o.triggeredPostIds=new Set,e._([e.n({type:Boolean,attribute:"is-reminder-set",reflect:!0})],o.prototype,"isReminderSet",void 0),e._([e.n({type:String,attribute:"event-state"})],o.prototype,"eventState",void 0),e._([e.n({type:String,attribute:"post-id"})],o.prototype,"postId",void 0),e._([e.n({type:String})],o.prototype,"permalink",void 0),e._([e.n({type:String,attribute:"pdp-target"})],o.prototype,"pdpTarget",void 0),e._([e.n({type:Boolean,attribute:"is-pdp"})],o.prototype,"isPdp",void 0),e._([e.n({type:Boolean,attribute:"is-logged-in"})],o.prototype,"isLoggedIn",void 0),e._([e.n({type:Boolean,attribute:"is-desktop-viewport"})],o.prototype,"isDesktopViewport",void 0),e._([e.n({type:Boolean,attribute:"should-fire-engaged-click"})],o.prototype,"shouldFireEngagedClick",void 0),e._([e.n({type:Boolean,attribute:"enable-user-action-triggered-modal"})],o.prototype,"enableUserActionTriggeredModal",void 0),e._([e.b()],o.prototype,"requestInProgress",void 0),e._([e.D("rpl-dialog.triggered-modal")],o.prototype,"userActionTriggeredModal",void 0),e._([e.D("rpl-bottom-sheet.triggered-modal")],o.prototype,"userActionTriggeredBottomSheet",void 0),o=s=e._([e.c("ad-reminder-button")],o);let l=class extends e.s{constructor(){super(...arguments),this.postId="",this.eventState=r.Scheduled,this.startsAt="",this.endsAt="",this.locale="en",this.isReminderSet=!1,this.isLoggedIn=!1,this.shouldFireEngagedClick=!1,this.requestInProgress=!1,this.handleClickCancelReminder=()=>{this.dispatchEvent(new Event(n.E,{bubbles:!0})),this.cancelReminder()},this.cancelReminder=async()=>{this.isReminderSet=!1;if(await this.updatePostReminderState(t.de.NoReminder)){const e=t.c("faceplate-alert",{level:t.I.notice,message:"Reminder cancelled"});this.dispatchEvent(e),this.pubsub?.publish(t.T.AdReminderRsvpUnsubscribe,{postId:this.postId})}else{this.isReminderSet=!0;const e="Failed to cancel reminder";this.dispatchErrorAlert(e)}},this.handleClickSetReminder=async()=>{this.shouldFireEngagedClick&&this.dispatchEvent(t.c(i.A)),this.isLoggedIn?(this.dispatchEvent(new Event(n.b,{bubbles:!0})),await this.setReminder()):this.dispatchEvent(t.c(t.df.follow))},this.setReminder=async()=>{this.isReminderSet=!0;if(await this.updatePostReminderState(t.de.Reminder)){const e=t.c("faceplate-alert",{level:t.I.success,message:"Reminder set"});this.dispatchEvent(e),this.pubsub?.publish(t.T.AdReminderRsvpSubscribe,{postId:this.postId})}else{this.isReminderSet=!1;const e="Failed to set reminder";this.dispatchErrorAlert(e)}},this.updatePostReminderState=async e=>{this.requestInProgress=!0;const i=await t.r({operation:t.O.UpdatePostReminderState,variables:{input:{postId:this.postId,reminderState:e}}});return this.requestInProgress=!1,!!i.data.updatePostReminderState?.ok},this.handleStatusClick=()=>{this.eventState===r.Ended||this.requestInProgress||(this.isReminderSet?this.handleClickCancelReminder():this.handleClickSetReminder())}}connectedCallback(){super.connectedCallback(),this.pubsub=new t.f(this),this.pubsub.subscribe(t.T.AdReminderRsvpSubscribe,(e=>{e.postId===this.postId&&(this.isReminderSet=!0)})),this.pubsub.subscribe(t.T.AdReminderRsvpUnsubscribe,(e=>{e.postId===this.postId&&(this.isReminderSet=!1)}))}getStatusMessage(){let e,t="text-neutral-content-weak";return this.eventState===r.Scheduled?e="Coming Up":this.eventState===r.Live?(t="text-global-orangered",e="Live"):e="Just Finished",{message:e,color:t};}getRelativeTime(){const e=new Date(this.startsAt),t=new Date(this.endsAt),i=new Date(Date.now()-6e4);return this.eventState===r.Scheduled?e:this.eventState===r.Live?e<i?e:i:t<i?t:i}endedOver24HoursAgo(){if(this.eventState===r.Ended){return new Date(this.endsAt)<=new Date(Date.now()-864e5)}return!1}dispatchErrorAlert(e){const i=t.c("faceplate-alert",{level:t.I.error,cause:"uncategorized",message:e});this.dispatchEvent(i)}render(){if(!this.startsAt||!this.endsAt||this.endedOver24HoursAgo())return e.x``;const{message:t,color:i}=this.getStatusMessage(),a=this.eventState===r.Scheduled,n=this.getRelativeTime().toISOString();return e.x`<div class="flex flex-row items-center text-12 h-xl ad-event-status cursor-pointer hover:opacity-80 transition-opacity" @click="${this.handleStatusClick}" role="button" tabindex="0" @keydown="${e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),this.handleStatusClick())}}"> <span class="${i} font-bold tracking-tight">${t}</span> <span class="me-2xs ms-2xs"></span> <span class="text-neutral-content-strong tracking-tight"> ${a?e.x`<faceplate-date locale="${e.l(this.locale)}" ts="${n}" .formatOptions="${{dateStyle:"medium",timeStyle:"short"}}"></faceplate-date>`:e.x`<faceplate-timeago ts="${n}" format="short"></faceplate-timeago>`} </span> </div>`}};l.styles=[t.t],e._([e.n({type:String,attribute:"post-id"})],l.prototype,"postId",void 0),e._([e.n({type:String,attribute:"event-state"})],l.prototype,"eventState",void 0),e._([e.n({type:String,attribute:"starts-at"})],l.prototype,"startsAt",void 0),e._([e.n({type:String,attribute:"ends-at"})],l.prototype,"endsAt",void 0),e._([e.n({type:String})],l.prototype,"locale",void 0),e._([e.n({type:Boolean,attribute:"is-reminder-set",reflect:!0})],l.prototype,"isReminderSet",void 0),e._([e.n({type:Boolean,attribute:"is-logged-in"})],l.prototype,"isLoggedIn",void 0),e._([e.n({type:Boolean,attribute:"should-fire-engaged-click"})],l.prototype,"shouldFireEngagedClick",void 0),e._([e.b()],l.prototype,"requestInProgress",void 0),l=e._([e.c("ad-event-status")],l)}));

SML.dm("jstwAV3n",["DSWSCRFk","DAgRafdt","DLKm42XZ","OAEZpqSu"],(async(e,t)=>{var s;!function(e){e.NONE="NONE",e.VIEWED="VIEWED",e.DISMISSED="DISMISSED"}(s||(s={}));const i="data-chat-feed-element-dismiss",n="data-chat-feed-element-clickable",a="click";let r=class extends(t.W(e.s)){constructor(){super(...arguments),this.consumptionState=s.NONE,this.uxtsVariant="chat_channel_unit_in_home_feed_scc",this.isRecommended=!1,this.isMultiChat=!1,this.onDismiss=e=>{const s=this.nextElementSibling;s&&"HR"===s.nodeName&&this.parentElement?.removeChild(s),this.parentNode?.removeChild(this),e.stopPropagation(),t.bb(t.b9.Dismiss,t.ba.ChatChannelUnitInHomeFeed,{variantId:this.uxtsVariant})},this.onChatFeedElementClick=()=>{t.bb(t.b9.Click,t.ba.ChatChannelUnitInHomeFeed,{variantId:this.uxtsVariant})}}connectedCallback(){super.connectedCallback(),this.isMultiChat?this.uxtsVariant="chat_channel_unit_in_home_feed_multiple":this.isRecommended&&(this.uxtsVariant="chat_channel_unit_in_home_feed_scc_and_ucc"),this.enableObserver(),this.addDismissHandlers(),this.addClickHandlers()}disconnectedCallback(){super.disconnectedCallback(),this.disableObserver(),this.removeDismissHandlers(),this.removeClickHandlers()}addDismissHandlers(){this.querySelector(`[${i}]`)?.addEventListener(a,this.onDismiss)}removeDismissHandlers(){this.querySelector(`[${i}]`)?.removeEventListener(a,this.onDismiss)}addClickHandlers(){this.querySelector(`[${n}]`)?.addEventListener(a,this.onChatFeedElementClick)}removeClickHandlers(){this.querySelector(`[${n}]`)?.removeEventListener(a,this.onChatFeedElementClick)}observerIsIntersectingCallback(){this.consumptionState===s.NONE&&(this.consumptionState=s.VIEWED,t.bb(t.b9.View,t.ba.ChatChannelUnitInHomeFeed,{variantId:this.uxtsVariant}))}render(){return e.x`<slot></slot>`}};r.styles=[t.t],e._([e.n({type:Boolean,attribute:"is-recommended"})],r.prototype,"isRecommended",void 0),e._([e.n({type:Boolean,attribute:"is-multi-chat"})],r.prototype,"isMultiChat",void 0),r=e._([e.c("chat-feed-element-wrapper")],r)}));
SML.dm("Dm-i-peb",["DSWSCRFk","DAgRafdt","OAEZpqSu"],(async(e,t,i)=>{let s=class extends e.s{constructor(){super(...arguments),this.zoomedIn=!1,this.disabled=!1,this.media=null,this._events=new t.E(this),this._click=this._events.define("click",this.onClick),this.fullImageWidth=0,this.fullImageHeight=0,this.checkMediaSize=()=>{this.media?.complete&&(this.fullImageWidth=this.media.naturalWidth,this.fullImageHeight=this.media.naturalHeight,this.disabled=this.fullImageWidth<=this.clientWidth&&this.fullImageHeight<=this.clientHeight,this.zoomedIn=!this.disabled&&this.zoomedIn)},this.checkMediaSizeDebounced=t.k(this.checkMediaSize,100)}createRenderRoot(){return this}connectedCallback(){super.connectedCallback(),this.media=this.querySelector("img"),this.media&&this.media.addEventListener("load",this.checkMediaSize,{once:!0}),requestAnimationFrame(this.checkMediaSize),window.addEventListener("resize",this.checkMediaSizeDebounced)}firstUpdated(){this.checkMediaSize()}onClick(e){if(this.media&&e.target===this.media&&!this.disabled){let t=0,i=0;if(!this.zoomedIn){const s=this.media.getBoundingClientRect(),h=e.clientX-s.left,l=e.clientY-s.top,d=h/s.width*100,a=l/s.height*100;i=this.fullImageWidth*d/100-this.clientWidth/2,t=this.fullImageHeight*a/100-this.clientHeight/2}this.zoomedIn=!this.zoomedIn,requestAnimationFrame((()=>{this.scrollTo({top:t,left:i})}))}}render(){this.media&&this.media.setAttribute("class",this.getChildClassList()),this.setAttribute("class",this.getClasslist())}getClasslist(){return i.j("flex",this.zoomedIn?"fixed top-0 left-0 w-screen h-screen overflow-auto":"w-full h-full justify-center items-center overflow-hidden")}getChildClassList(){return i.j("z-1",this.disabled?"max-h-full max-w-full":this.zoomedIn?"max-w-none max-h-none m-auto cursor-zoom-out":"max-h-full max-w-full object-contain cursor-zoom-in")}disconnectedCallback(){super.disconnectedCallback(),window.removeEventListener("resize",this.checkMediaSizeDebounced),this.zoomedIn=!1}};e._([e.b()],s.prototype,"zoomedIn",void 0),e._([e.b()],s.prototype,"disabled",void 0),s=e._([e.c("zoomable-img")],s)}));