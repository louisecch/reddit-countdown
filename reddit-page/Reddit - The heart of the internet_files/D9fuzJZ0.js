SML.di("./DSWSCRFk.js",import.meta.url,"DSWSCRFk");SML.di("./DAgRafdt.js",import.meta.url,"DAgRafdt");SML.di("./DHyFGFNn.js",import.meta.url,"DHyFGFNn");SML.di("./DV50IcE5.js",import.meta.url,"DV50IcE5");SML.di("./OAEZpqSu.js",import.meta.url,"OAEZpqSu");SML.di("./CF9Lfnln.js",import.meta.url,"CF9Lfnln");SML.di("./CU4mObWU.js",import.meta.url,"CU4mObWU");SML.di("./ClDT0gYR.js",import.meta.url,"ClDT0gYR");SML.di("./BvOdghwp.js",import.meta.url,"BvOdghwp");SML.di("./Cvv8S0Po.js",import.meta.url,"Cvv8S0Po");SML.di("./Bx9dp7xe.js",import.meta.url,"Bx9dp7xe");SML.di("./BaPgoYnS.js",import.meta.url,"BaPgoYnS");SML.di("./B8bCssFV.js",import.meta.url,"B8bCssFV");SML.di("./B_Z23SiP.js",import.meta.url,"B_Z23SiP");SML.di("./DvsbXjsy.js",import.meta.url,"DvsbXjsy");SML.di("./DDc9KuQK.js",import.meta.url,"DDc9KuQK");SML.di("./D7sQxsRg.js",import.meta.url,"D7sQxsRg");SML.di("./BcykV95-.js",import.meta.url,"BcykV95-");
SML.dm("D9fuzJZ0",["DSWSCRFk","DAgRafdt","DHyFGFNn","DV50IcE5","OAEZpqSu","CF9Lfnln","CU4mObWU","ClDT0gYR","BvOdghwp","Cvv8S0Po","Bx9dp7xe","BaPgoYnS","B8bCssFV","B_Z23SiP","DvsbXjsy","DDc9KuQK","D7sQxsRg","BcykV95-"],(async(e,t,a)=>{let i=t.r,s=t.d,r=class extends e.s{constructor(){super(...arguments),this.registry=t.gv,this.pubsub=new t.f(this),this.compareModifiers=(e,t)=>!!e==!!t,this.hasMatchingModifiers=(e,t)=>{if(!t)return!1;const{metaKey:a,altKey:i,shiftKey:s,ctrlKey:r}=e,{meta:n,alt:o,ctrl:l,shift:E}=t,m=!(navigator.userAgent.includes("Mac")||!n||l||!r);return(this.compareModifiers(a,n)||m)&&(this.compareModifiers(r,l)||m)&&this.compareModifiers(s,E)&&this.compareModifiers(i,o)},this.getContextualSubscriber=(e,a,i)=>{const s=e.composedPath();return Array.from(i).find((i=>this.hasMatchingModifiers(e,t.gw.keys[a]?.[i])&&void 0===t.gx[i]&&s?.find((e=>t.gy.has(e)))))},this.getGlobalSubscriber=(e,a,i)=>Array.from(i).find((i=>this.hasMatchingModifiers(e,t.gw.keys[a]?.[i]))),this.publishHotkeyEvent=async e=>{const a=e.key.toLowerCase(),i=t.gw.keys[a],r=this.getContextualSubscriber(e,a,t.gz),n=this.getGlobalSubscriber(e,a,t.gA),o=r??n;if(i&&(this.enabled||"?"===a)&&(o&&i[o].allowFromInput||!e.composedPath().find((e=>e instanceof HTMLTextAreaElement||e instanceof HTMLInputElement||e instanceof HTMLElement&&e.hasAttribute("contenteditable"))))){if(i[t.c1.SHOW_SHORTCUTS]&&(await s({name:t.gB,bodyParams:{enabled:encodeURIComponent(!!this.enabled),open:"true"}})),r)return this.pubsub.publish(t.T.Hotkeys,{id:r}),void this.cancelEvent(e);n&&(this.pubsub.publish(t.T.Hotkeys,{id:n}),this.cancelEvent(e))}},this.cancelEvent=e=>{e.preventDefault(),e.stopImmediatePropagation()},this.onHotkeysToggle=async e=>{const{detail:{checked:a,target:s}}=e;try{const e=await i({operation:t.O.UpdateAccountPreferences,variables:{input:{isHotkeysEnabled:a}}});if(this.enabled=a,e.errors.length>0)throw new Error("Could not save setting")}catch{s.checked=!a;const e=t.c("faceplate-alert",{level:t.I.error,cause:"uncategorized",message:"We had some issues saving your changes. Please try again."});this.dispatchEvent(e)}}}connectedCallback(){super.connectedCallback(),document.addEventListener("keydown",this.publishHotkeyEvent),document.addEventListener(a.S.TOGGLE,this.onHotkeysToggle)}disconnectedCallback(){super.disconnectedCallback(),document.removeEventListener("keydown",this.publishHotkeyEvent),document.removeEventListener(a.S.TOGGLE,this.onHotkeysToggle)}willUpdate(e){e.has("enabled")&&this.enabled&&!Object.keys(t.gw.keys).length?t.gC(this.registry):e.has("registry")&&(t.gD(),t.gC(this.registry))}};e._([e.n({type:Object})],r.prototype,"registry",void 0),e._([e.n({type:Boolean})],r.prototype,"enabled",void 0),r=e._([e.c("shreddit-hotkeys-controller")],r)}));